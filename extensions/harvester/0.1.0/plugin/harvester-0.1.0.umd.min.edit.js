(("undefined"!==typeof self?self:this)["webpackChunkharvester_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_0_1_0"]||[]).push([[739],{28407:function(e,t,a){"use strict";a.r(t);var l=a(21379),o=a(62394);describe("component: Loki",(()=>{it("should display URL placeholder",(()=>{const e=(0,l.Ky)(o["default"],{props:{mode:"edit",namespace:"whatever"}}),t="https://127.0.0.1:8000",a=e.find('[data-testid="loki-url"]').attributes("placeholder");expect(a).toBe(t)}))}))},64033:function(e,t,a){"use strict";a.d(t,{A:function(){return N}});var l=a(9274);const o={key:0,class:"grid"},s={key:0},r={class:"deploys-os-label"},n={key:1},i={class:"os-incompatible-label"},d={class:"logo"},c={class:"name"},u={key:3,class:"description"},p={key:1,class:"m-50 text-center"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("LazyImage"),g=(0,l.resolveDirective)("t");return a.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.rows,((t,o)=>((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(a.asLink?"a":"div"),{key:h.get(t,a.keyField),href:a.asLink?h.get(t,a.linkField):null,target:h.get(t,a.targetField),rel:a.rel,class:(0,l.normalizeClass)(["item",{"has-description":!!h.get(t,a.descriptionField),"has-side-label":!!h.get(t,a.sideLabelField),[a.colorFor(t,o)]:!0,disabled:!0===h.get(t,a.disabledField)}]),"data-testid":a.componentTestid+"-"+h.get(t,a.nameField),onClick:e=>h.select(t,o)},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["side-label",{indicator:!0}])}),t.deploysOnWindows?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("label",r,(0,l.toDisplayString)(e.t("catalog.charts.deploysOnWindows")),1)])):(0,l.createCommentVNode)("",!0),t.windowsIncompatible?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createElementVNode)("label",i,(0,l.toDisplayString)(e.t("catalog.charts.windowsIncompatible")),1)])):(0,l.createCommentVNode)("",!0),h.get(t,a.sideLabelField)?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:2,class:(0,l.normalizeClass)(["side-label",{indicator:!1}])},[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(h.get(t,a.sideLabelField)),1)])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",d,[t.iconClass?((0,l.openBlock)(),(0,l.createElementBlock)("i",{key:0,class:(0,l.normalizeClass)(t.iconClass)},null,2)):((0,l.openBlock)(),(0,l.createBlock)(b,{key:1,src:h.get(t,a.iconField)},null,8,["src"]))]),(0,l.createElementVNode)("h4",c,(0,l.toDisplayString)(h.get(t,a.nameField)),1),h.get(t,a.descriptionField)?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,(0,l.toDisplayString)(h.get(t,a.descriptionField)),1)):(0,l.createCommentVNode)("",!0)])),_:2},1032,["href","target","rel","data-testid","class","onClick"])))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.withDirectives)((0,l.createElementVNode)("h1",null,null,512),[[g,a.noDataKey]])]))}var v=a(71915),h=a(3384),b=a(74804),g=a.n(b),f={emits:["clicked"],components:{LazyImage:v.A},props:{rows:{type:Array,required:!0},keyField:{type:String,default:"key"},iconField:{type:String,default:"icon"},nameField:{type:String,default:"name"},descriptionField:{type:String,default:"description"},sideLabelField:{type:String,default:"sideLabel"},disabledField:{type:String,default:"disabled"},asLink:{type:Boolean,default:!1},linkField:{type:String,default:"link"},targetField:{type:String,default:"target"},rel:{type:String,default:"noopener noreferrer nofollow"},noDataKey:{type:String,default:"sortableTable.noRows"},colorFor:{type:Function,default:(e,t)=>"color"+(t%8+1)},componentTestid:{type:String,default:"select-icon-grid"}},methods:{get:h.Jt,isDisabled(e){return!0===(0,h.Jt)(this.rows[e],this.disabledField)},select(e,t){this.isDisabled(t)||this.$emit("clicked",e,t)},capitalize:g()}},y=(a(50955),a(47433));const k=(0,y.A)(f,[["render",m],["__scopeId","data-v-61c1cd82"]]);var N=k},41920:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var l=a(9274);const o={class:"tip"},s={class:"text"};function r(e,t,a,r,n,i){return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)(["my-icon",a.icon])},null,2),(0,l.renderSlot)(e.$slots,"default",{},(()=>[(0,l.createElementVNode)("span",s,(0,l.toDisplayString)(a.text),1)]),!0)])}var n={props:{icon:{type:String,default:""},text:{type:String,default:""}}},i=(a(60571),a(47433));const d=(0,i.A)(n,[["render",r],["__scopeId","data-v-72c06d3e"]]);var c=d},66984:function(e,t,a){"use strict";a.d(t,{f:function(){return V},A:function(){return S}});var l=a(9274);const o={class:"box mb-0"},s={class:"column-headers row"},r={class:"col span-6"},n={class:"text-label"},i={class:"col span-6"},d={class:"text-label"},c={class:"columns row"},u={class:"col span-6"},p={class:"col span-6 role"},m={key:0},v=["disabled","onClick"];function h(e,t,a,h,b,g){const f=(0,l.resolveComponent)("Loading"),y=(0,l.resolveComponent)("Principal"),k=(0,l.resolveComponent)("ArrayList");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(f,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(k,{key:1,value:b.bindings,"onUpdate:value":t[1]||(t[1]=e=>b.bindings=e),mode:a.mode,"show-header":!0},{"column-headers":(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("label",n,(0,l.toDisplayString)(e.t("membershipEditor.user")),1)]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("label",d,(0,l.toDisplayString)(e.t("membershipEditor.role")),1)])])])])),columns:(0,l.withCtx)((({row:e})=>[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(y,{value:e.value.principalId},null,8,["value"])]),(0,l.createElementVNode)("div",p,(0,l.toDisplayString)(e.value.roleDisplay),1)])])),add:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{type:"button",class:"btn role-primary mt-10",onClick:t[0]||(t[0]=(...e)=>g.addMember&&g.addMember(...e))},(0,l.toDisplayString)(e.t("generic.add")),1)])),"remove-button":(0,l.withCtx)((({remove:t,i:a})=>[g.isCreate&&0===a||g.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",m)):((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:1,type:"button",disabled:g.isView,class:"btn role-link",onClick:t},(0,l.toDisplayString)(e.t("generic.remove")),9,v))])),_:1},8,["value","mode"]))}var b=a(20665),g=a(43528),f=a(6483),y=a(71779),k=a(3384);function N(e){return e?.replace(":","/")||e}function V(e,t=!1){return(!!e.getters["management/schemaFor"](b.Mc.PROJECT_ROLE_TEMPLATE_BINDING)||!t)&&!!e.getters["management/schemaFor"](b.Mc.ROLE_TEMPLATE)&&!!e.getters["rancher/schemaFor"](b.k$.PRINCIPAL)}var w={emits:["membership-update"],components:{ArrayList:g.A,Loading:f.A},props:{addMemberDialogName:{type:String,required:!0},parentKey:{type:String,required:!0},parentId:{type:String,default:null},mode:{type:String,required:!0},type:{type:String,required:!0},defaultBindingHandler:{type:Function,default:null},modalSticky:{type:Boolean,default:!1}},async fetch(){const e={type:this.type,opt:{force:!0}};this.type===b.k$.PROJECT_ROLE_TEMPLATE_BINDING&&this.parentId&&Object.assign(e,{opt:{filter:{projectId:this.parentId.split("/").join(":")}}});const t=[this.schema?this.$store.dispatch("rancher/findAll",e):[],this.$store.dispatch("rancher/findAll",{type:b.k$.PRINCIPAL}),this.$store.dispatch("management/findAll",{type:b.Mc.ROLE_TEMPLATE}),this.$store.dispatch("management/findAll",{type:b.Mc.USER})],[a]=await Promise.all(t),l=a.filter((e=>N((0,k.Jt)(e,this.parentKey))===N(this.parentId)));if(this["lastSavedBindings"]=[...l],this.mode===y.YQ&&0===l.length&&this.defaultBindingHandler){const e=await this.defaultBindingHandler();e.isDefaultBinding=!0,l.push(e)}this["bindings"]=l},data(){return{schema:this.$store.getters["rancher/schemaFor"](this.type),bindings:[],lastSavedBindings:[]}},computed:{newBindings(){return this.bindings.filter((e=>!e.id&&!this.lastSavedBindings.includes(e)&&!e.isDefaultBinding))},removedBindings(){return this.lastSavedBindings.filter((e=>!this.bindings.includes(e)))},membershipUpdate(){const e=this.newBindings,t=this.removedBindings;return{newBindings:this.newBindings,removedBindings:this.removedBindings,save:a=>{const l=e.map((e=>((0,k.hZ)(e,this.parentKey,a),e.save()))),o=t.map((e=>e.remove()));return Promise.all([...l,...o])}}},isCreate(){return this.mode===y.YQ},isView(){return this.mode===y.nW}},watch:{membershipUpdate:{deep:!0,handler(){this.$emit("membership-update",this.membershipUpdate)}}},methods:{addMember(){this.$store.dispatch("cluster/promptModal",{component:this.addMemberDialogName,componentProps:{onAdd:this.onAddMember},modalSticky:this.modalSticky})},onAddMember(e){this["bindings"]=[...this.bindings,...e]}}},C=(a(230),a(47433));const E=(0,C.A)(w,[["render",h],["__scopeId","data-v-9227dfd8"]]);var S=E},70346:function(e,t,a){"use strict";a.d(t,{A:function(){return C}});var l=a(9274);const o={class:"row mb-20"},s=["data-testid"],r={class:"icon icon-close align-value"},n=["data-testid"],i=["data-testid"],d=["data-testid"],c={key:3,class:"spacer"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("LabeledSelect"),b=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[a.namespaced&&!a.nameNsHidden&&p.createNamespace?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,"data-testid":a.componentTestid+"-namespace-create",class:"col span-3"},[(0,l.createVNode)(v,{ref:"namespace",value:p.namespace,"onUpdate:value":t[0]||(t[0]=e=>p.namespace=e),label:e.t("namespace.label"),placeholder:e.t("namespace.createNamespace"),disabled:m.namespaceReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.namespace},null,8,["value","label","placeholder","disabled","mode","required","rules"]),(0,l.createElementVNode)("button",{aria:"Cancel create",onClick:t[1]||(t[1]=(...e)=>m.cancelCreateNamespace&&m.cancelCreateNamespace(...e))},[(0,l.withDirectives)((0,l.createElementVNode)("i",r,null,512),[[b,e.t("generic.cancel")]])])],8,s)):(0,l.createCommentVNode)("",!0),!a.namespaced||a.nameNsHidden||p.createNamespace?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:1,"data-testid":a.componentTestid+"-namespace",class:"col span-3"},[(0,l.withDirectives)((0,l.createVNode)(h,{value:p.namespace,"onUpdate:value":t[2]||(t[2]=e=>p.namespace=e),clearable:!0,options:m.options,disabled:m.namespaceReallyDisabled,searchable:!0,mode:a.mode,multiple:!1,label:e.t("namespace.label"),placeholder:e.t("namespace.selectOrCreate"),rules:a.rules.namespace,required:"",onSelecting:m.selectNamespace},null,8,["value","options","disabled","mode","label","placeholder","rules","onSelecting"]),[[l.vShow,!p.createNamespace]])],8,n)),a.nameNsHidden?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:2,"data-testid":a.componentTestid+"-name",class:"col span-3"},[(0,l.createVNode)(v,{ref:"name",key:"name",value:p.name,"onUpdate:value":t[3]||(t[3]=e=>p.name=e),label:e.t(a.nameLabel),placeholder:e.t(a.namePlaceholder),disabled:m.nameReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.name},null,8,["value","label","placeholder","disabled","mode","required","rules"])],8,i)),(0,l.renderSlot)(e.$slots,"customize",{},void 0,!0),(0,l.withDirectives)((0,l.createElementVNode)("div",{"data-testid":a.componentTestid+"-description",class:(0,l.normalizeClass)(["col",a.extraColumns.length>0?"span-3":"span-6"])},[(0,l.createVNode)(v,{key:"description",value:p.description,"onUpdate:value":t[4]||(t[4]=e=>p.description=e),mode:a.mode,disabled:a.descriptionDisabled,label:e.t(a.descriptionLabel),placeholder:e.t(a.descriptionPlaceholder),"min-height":30,rules:a.rules.description},null,8,["value","mode","disabled","label","placeholder","rules"])],10,d),[[l.vShow,!a.descriptionHidden]]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.extraColumns,((t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:a,class:(0,l.normalizeClass)({col:!0,[m.colSpan]:!0})},[(0,l.renderSlot)(e.$slots,t,{},void 0,!0)],2)))),128)),a.showSpacer?((0,l.openBlock)(),(0,l.createElementBlock)("div",c)):(0,l.createCommentVNode)("",!0)])}var p=a(24466),m=a(3384),v=a(73331),h=a(20665),b=a(55190),g=a(71779),f=a(5327),y=a(80316);function k(e){return(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var N={name:"NameNsDescription",emits:["update:value","isNamespaceNew"],components:{LabeledInput:f.o,LabeledSelect:y.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},nameNsHidden:{type:Boolean,default:!1},descriptionHidden:{type:Boolean,default:!1},extraColumns:{type:Array,default:()=>[]},nameLabel:{type:String,default:"nameNsDescription.name.label"},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:"nameNsDescription.name.placeholder"},nameDisabled:{type:Boolean,default:!1},nameRequired:{type:Boolean,default:!0},nameNormalized:{type:Boolean,default:!0},namespaced:{type:Boolean,default:!0},namespaceFilter:{type:Function,default:null},namespaceMapper:{type:Function,default:null},namespaceType:{type:String,default:h.CU},namespaceLabel:{type:String,default:"nameNsDescription.namespace.label"},namespacePlaceholder:{type:String,default:"nameNsDescription.namespace.placeholder"},namespaceDisabled:{type:Boolean,default:!1},namespaceNewAllowed:{type:Boolean,default:!1},noDefaultNamespace:{type:Boolean,default:!1},namespacesOverride:{type:Array,default:null},namespaceOptions:{type:Array,default:null},createNamespaceOverride:{type:Boolean,default:!1},descriptionLabel:{type:String,default:"nameNsDescription.description.label"},descriptionPlaceholder:{type:String,default:"nameNsDescription.description.placeholder"},descriptionDisabled:{type:Boolean,default:!1},nameKey:{type:String,default:null},namespaceKey:{type:String,default:null},descriptionKey:{type:String,default:null},forceNamespace:{type:String,default:null},showSpacer:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0},rules:{default:()=>({namespace:[],name:[],description:[]}),type:Object},componentTestid:{type:String,default:"name-ns-description"}},data(){const e=this.value,t=e.metadata;let a,l,o;l=this.nameKey?(0,m.Jt)(e,this.nameKey):t?.name,this.namespaced&&(this.forceNamespace?(a=this.forceNamespace,this.updateNamespace(a)):a=this.namespaceKey?(0,m.Jt)(e,this.namespaceKey):t?.namespace,a||this.noDefaultNamespace||(a=this.$store.getters["defaultNamespace"],t&&(t.namespace=a))),o=this.descriptionKey?(0,m.Jt)(e,this.descriptionKey):t?.annotations?.[b.tC];const s=this.$store.getters["currentStore"](),r=this.$store.getters[`${s}/schemaFor`](h.CU);return{namespace:a,name:l,description:o,createNamespace:!1,nsSchema:r}},computed:{...(0,p.L8)(["currentProduct","currentCluster","namespaces","allowedNamespaces"]),...(0,p.i0)("cru-resource",["setCreateNamespace"]),namespaceReallyDisabled(){return!!this.forceNamespace||this.namespaceDisabled||this.mode===g.G5},nameReallyDisabled(){return this.nameDisabled||this.mode===g.G5&&!this.nameEditable},options(){let e;if(this.namespacesOverride)e=this.namespacesOverride;else if(this.namespaceOptions)e=(this.namespaceOptions.map((e=>e.name))||[]).sort();else{const t=this.isCreate?this.allowedNamespaces():this.namespaces();e=Object.keys(t)}const t=e.map((e=>({nameDisplay:e,id:e}))).map(this.namespaceMapper||(e=>({label:e.nameDisplay,value:e.id}))),a=(0,v.Ul)(t,"label");this.forceNamespace&&a.unshift({label:this.forceNamespace,value:this.forceNamespace});const l={label:this.t("namespace.createNamespace"),value:"",kind:"highlighted"},o={label:"divider",disabled:!0,kind:"divider"},s=this.canCreateNamespace||this.createNamespaceOverride?[l,o]:[];return[...s,...a]},isView(){return this.mode===g.nW},isCreate(){return this.mode===g.YQ},showCustomize(){return this.mode===g.YQ&&this.name&&this.name.length>0},colSpan(){if(!this.horizontal)return"span-8";let e=(this.nameNsHidden?0:2)+(this.descriptionHidden?0:1)+this.extraColumns.length;e=Math.max(2,e);const t=12/e;return`span-${t}`},canCreateNamespace(){return(this.nsSchema?.collectionMethods||[]).includes("POST")&&this.currentCluster?.canUpdate}},watch:{name(e){this.normalizeName&&(e=k(e)),this.nameKey?(0,m.hZ)(this.value,this.nameKey,e):this.value.metadata["name"]=e,this.$emit("update:value",this.value)},namespace(e){this.updateNamespace(e),this.$emit("update:value",this.value)},description(e){this.descriptionKey?(0,m.hZ)(this.value,this.descriptionKey,e):this.value.setAnnotation(b.tC,e),this.$emit("update:value",this.value)}},mounted(){this.$nextTick((()=>{this.$refs.name&&this.$refs.name.focus()}))},methods:{updateNamespace(e){this.forceNamespace&&(e=this.forceNamespace),this.namespaced&&this.$emit("isNamespaceNew",!e||this.options&&!this.options.find((t=>t.value===e))),this.namespaceKey?(0,m.hZ)(this.value,this.namespaceKey,e):this.value.metadata.namespace=e},changeNameAndNamespace(e){this.name=(e.text||"").toLowerCase(),this.namespace=e.selected},cancelCreateNamespace(e){this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.namespace=this.$store.getters["defaultNamespace"]||this.options.find((e=>!!e.value))?.value},selectNamespace(e){e&&""!==e.value?(this.createNamespace=!1,this.$store.dispatch("cru-resource/setCreateNamespace",!1),this.$emit("isNamespaceNew",!1)):(this.createNamespace=!0,this.$store.dispatch("cru-resource/setCreateNamespace",!0),this.$emit("isNamespaceNew",!0),this.$nextTick((()=>this.$refs.namespace.focus())))}}},V=(a(32583),a(47433));const w=(0,V.A)(N,[["render",u],["__scopeId","data-v-f197e972"]]);var C=w},48650:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var l=a(9274);const o={class:"input-container"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("ResourceLabeledSelect"),d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["secret-selector",{"show-key-selector":a.showKeySelector}])},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(i,{value:n.name,"onUpdate:value":t[0]||(t[0]=e=>n.name=e),disabled:!n.isView&&a.disabled,label:a.secretNameLabel,mode:a.mode,"resource-type":r.SECRET,"in-store":a.inStore,"paginated-resource-settings":r.paginateSecretsSetting,"all-resources-settings":r.allSecretsSettings},null,8,["value","disabled","label","mode","resource-type","in-store","paginated-resource-settings","all-resources-settings"]),a.showKeySelector?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,value:n.key,"onUpdate:value":t[1]||(t[1]=e=>n.key=e),class:"col span-6",disabled:n.isKeyDisabled,options:n.keys,label:a.keyNameLabel,mode:a.mode},null,8,["value","disabled","options","label","mode"])):(0,l.createCommentVNode)("",!0)])],2)}var r=a(80316),n=a(79642),i=a(20665),d=a(71779),c=a(86310),u=a(72280),p=a(54413);const m="__[[NONE]]__";var v={emits:["update:value"],components:{LabeledSelect:r.A,ResourceLabeledSelect:n.A},props:{value:{type:[String,Object],required:!1,default:void 0},namespace:{type:String,required:!0},types:{type:Array,default:()=>Object.values(c.J)},disabled:{type:Boolean,default:!1},mountKey:{type:String,default:"valueFrom"},nameKey:{type:String,default:"name"},keyKey:{type:String,default:"key"},showKeySelector:{type:Boolean,default:!1},secretNameLabel:{type:String,default:"Secret Name"},keyNameLabel:{type:String,default:"Key"},mode:{type:String,default:d.G5},inStore:{type:String,default:"cluster"}},data(){return{secrets:null,SECRET:i.bB,allSecretsSettings:{mapResult:e=>{const t=e.filter((e=>this.types.includes(e._type)&&e.namespace===this.namespace)),a=this.mapSecrets(t.sort(((e,t)=>e.name.localeCompare(t.name))));return this.secrets=t,a}},paginateSecretsSetting:{requestSettings:this.paginatePageOptions,mapResult:e=>{const t=this.mapSecrets(e);return this.secrets=e,t}}}},computed:{name:{get(){const e=this.showKeySelector?this.value?.[this.mountKey]?.secretKeyRef?.[this.nameKey]:this.value;return e||m},set(e){const t=e===m,a=t?void 0:e;this.showKeySelector?this.$emit("update:value",{[this.mountKey]:{secretKeyRef:{[this.nameKey]:a,[this.keyKey]:""}}}):this.$emit("update:value",a)}},key:{get(){return this.value?.[this.mountKey]?.secretKeyRef?.[this.keyKey]||""},set(e){this.$emit("update:value",{[this.mountKey]:{secretKeyRef:{[this.nameKey]:this.name,[this.keyKey]:e}}})}},keys(){const e=(this.secrets||[]).find((e=>e.name===this.name))||{};return Object.keys(e.data||{}).map((e=>({label:e,value:e})))},isView(){return this.mode===d.nW},isKeyDisabled(){return!this.isView&&(!this.name||this.name===m||this.disabled)}},methods:{mapSecrets(e){const t=e.reduce(((e,t)=>(t.kind===p.c.NONE||(t.id?e.push({label:t.name,value:t.name}):e.push(t)),e)),[]);return[{label:"None",value:m,kind:p.c.NONE},...t]},paginatePageOptions(e){const{opts:{filter:t}}=e,a=t?[u.eY.createSingleField({field:"metadata.name",value:t})]:[];return a.push(u.eY.createSingleField({field:"metadata.namespace",value:this.namespace}),u.eY.createSingleField({field:"metadata.fields.1",value:this.types.join(",")})),{...e,filters:a,groupByNamespace:!1,classify:!0,sort:[{asc:!0,field:"metadata.name"}]}}}},h=(a(90311),a(47433));const b=(0,h.A)(v,[["render",s]]);var g=b},33219:function(e,t,a){"use strict";a.d(t,{A:function(){return se}});var l=a(9274);const o={key:1},s={key:0,class:"icon icon-info status-icon text-warning"},r={key:0,class:"icon icon-info status-icon text-warning"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("Loading"),u=(0,l.resolveComponent)("NameNsDescription"),p=(0,l.resolveComponent)("Banner"),m=(0,l.resolveComponent)("LabeledSelect"),v=(0,l.resolveComponent)("Match"),h=(0,l.resolveComponent)("ArrayListGrouped"),b=(0,l.resolveComponent)("Tab"),g=(0,l.resolveComponent)("YamlEditor"),f=(0,l.resolveComponent)("Tabbed"),y=(0,l.resolveComponent)("CruResource"),k=(0,l.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(c,{key:0})):i.formSupported?((0,l.openBlock)(),(0,l.createBlock)(y,{key:1,class:"flow","done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":!0,errors:e.errors,"apply-hooks":e.applyHooks,onError:t[9]||(t[9]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,value:e.value,mode:e.mode,namespaced:e.value.type!==d.LOGGING.CLUSTER_FLOW,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode","namespaced"])),(0,l.createVNode)(f,{"side-tabs":!0,onChanged:t[8]||(t[8]=e=>d.tabChanged(e))},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{name:"match",label:e.t("logging.flow.matches.label"),weight:3},{default:(0,l.withCtx)((()=>[d.isHarvester?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,color:"info",class:"mt-0",label:e.t("logging.flow.matches.banner")},null,8,["label"])),d.isHarvester?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createVNode)(m,{value:i.loggingType,"onUpdate:value":t[1]||(t[1]=e=>i.loggingType=e),class:"mb-20",options:d.flowTypeOptions,mode:e.mode,disabled:!e.isCreate,label:e.t("generic.type")},null,8,["value","options","mode","disabled","label"])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(h,{value:i.matches,"onUpdate:value":t[4]||(t[4]=e=>i.matches=e),"add-label":e.t("ingress.rules.addRule"),"default-add-value":{},mode:e.mode},{default:(0,l.withCtx)((t=>[(0,l.createVNode)(v,{class:"rule mb-20",value:t.row.value,mode:e.mode,namespaces:d.namespaceChoices,nodes:d.nodeChoices,"is-cluster-flow":e.value.type===d.LOGGING.CLUSTER_FLOW,onRemove:e=>d.removeMatch(t.row.i),"onUpdate:value":e=>d.updateMatch(e,t.row.i)},null,8,["value","mode","namespaces","nodes","is-cluster-flow","onRemove","onUpdate:value"])])),add:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{class:"btn role-tertiary add",type:"button",onClick:t[2]||(t[2]=e=>d.addMatch(!0))},(0,l.toDisplayString)(e.t("logging.flow.matches.addSelect")),1),(0,l.createElementVNode)("button",{class:"btn role-tertiary add",type:"button",onClick:t[3]||(t[3]=e=>d.addMatch(!1))},(0,l.toDisplayString)(e.t("logging.flow.matches.addExclude")),1)])),_:1},8,["value","add-label","mode"])])),_:1},8,["label"]),(0,l.createVNode)(b,{name:"outputs",label:e.t("logging.flow.outputs.label"),weight:2},{default:(0,l.withCtx)((()=>[e.value.type!==d.LOGGING.CLUSTER_FLOW?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,label:e.t("logging.flow.outputs.sameNamespaceError"),color:"info"},null,8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(m,{value:i.globalOutputRefs,"onUpdate:value":t[5]||(t[5]=e=>i.globalOutputRefs=e),label:e.t("logging.flow.clusterOutputs.label"),options:d.clusterOutputChoices,multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},{"selected-option":(0,l.withCtx)((t=>[d.isTag(d.clusterOutputChoices,t)?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("i",s,null,512)),[[k,e.t("logging.flow.clusterOutputs.doesntExistTooltip")]]):(0,l.createCommentVNode)("",!0),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(t.label),1)])),_:1},8,["value","label","options","reduce"]),e.value.type===d.LOGGING.FLOW?((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,value:i.localOutputRefs,"onUpdate:value":t[6]||(t[6]=e=>i.localOutputRefs=e),label:e.t("logging.flow.outputs.label"),class:"mt-10",options:d.outputChoices,multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},{"selected-option":(0,l.withCtx)((t=>[d.isTag(d.outputChoices,t)?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("i",r,null,512)),[[k,e.t("logging.flow.outputs.doesntExistTooltip")]]):(0,l.createCommentVNode)("",!0),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(t.label),1)])),_:1},8,["value","label","options","reduce"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"]),(0,l.createVNode)(b,{name:"filters",label:e.t("logging.flow.filters.label"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{ref:"yaml",value:i.filtersYaml,"onUpdate:value":t[7]||(t[7]=e=>i.filtersYaml=e),scrolling:!1,"initial-yaml-values":i.initialFiltersYaml,"editor-mode":e.isView?d.EDITOR_MODES.VIEW_CODE:d.EDITOR_MODES.EDIT_CODE,onOnReady:d.onYamlEditorReady},null,8,["value","initial-yaml-values","editor-mode","onOnReady"])])),_:1},8,["label"])])),_:1})])),_:1},8,["done-route","mode","resource","errors","apply-hooks","onFinish","onCancel"])):((0,l.openBlock)(),(0,l.createBlock)(p,{key:2,label:e.t("logging.flow.matches.unsupportedConfig"),color:"error"},null,8,["label"]))}var i=a(89121),d=a(72706),c=a(57985),u=a(6483),p=a(70346),m=a(99373),v=a(82906),h=a(20665),b=a(20246),g=a.n(b),f=a(1195),y=a(44650),k=a(86639),N=a(26812),V=a(59951),w=a(80316),C=a(3384),E=a(68581),S=a.n(E),B=a(76651),x=a(26953),A=a(77673);const D={key:0},_=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),U={class:"row"},T={class:"col span-12"},M={key:1},L=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),O={class:"row"},I={class:"col span-12"},R={key:0},$=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),P={class:"row"},q={class:"col span-12"},F=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),K={class:"row"},j={class:"col span-12"};function H(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue"),i=(0,l.resolveComponent)("Select"),d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[r.isHarvester?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",D,[(0,l.createVNode)(n,{value:a.value.labels,"onUpdate:value":t[0]||(t[0]=e=>a.value.labels=e),title:a.value.select?e.t("logging.flow.matches.pods.title.include"):e.t("logging.flow.matches.pods.title.exclude"),mode:a.mode,"initial-empty-row":!0,"read-allowed":!1,"title-add":!0,protip:"","key-label":e.t("logging.flow.matches.pods.keyLabel"),"value-label":e.t("logging.flow.matches.pods.valueLabel"),"add-label":e.t("logging.flow.matches.pods.addLabel")},null,8,["value","title","mode","key-label","value-label","add-label"]),_])),(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.nodes.title.include"):e.t("logging.flow.matches.nodes.title.exclude")),1),(0,l.createElementVNode)("div",U,[(0,l.createElementVNode)("div",T,[(0,l.createVNode)(i,{value:a.value.hosts,"onUpdate:value":t[1]||(t[1]=e=>a.value.hosts=e),class:"lg",options:a.nodes,placeholder:e.t("logging.flow.matches.nodes.placeholder"),multiple:!0,searchable:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},null,8,["value","options","placeholder","reduce"])])]),r.isHarvester?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",M,[L,(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.containerNames.title.include"):e.t("logging.flow.matches.containerNames.title.exclude")),1),(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("div",I,[(0,l.createVNode)(d,{value:a.value.container_names,"onUpdate:value":t[2]||(t[2]=e=>a.value.container_names=e),mode:a.mode,options:[],disabled:!1,placeholder:e.t("logging.flow.matches.containerNames.placeholder"),multiple:!0,taggable:!0,clearable:!0,searchable:!0,"close-on-select":!1,"no-options-label-key":"logging.flow.matches.containerNames.enter",placement:"top"},null,8,["value","mode","placeholder"])])]),a.isClusterFlow?((0,l.openBlock)(),(0,l.createElementBlock)("div",R,[$,(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.containerNames.title.include"):e.t("logging.flow.matches.containerNames.title.exclude")),1),(0,l.createElementVNode)("div",P,[(0,l.createElementVNode)("div",q,[(0,l.createVNode)(i,{value:a.value.namespaces,"onUpdate:value":t[3]||(t[3]=e=>a.value.namespaces=e),class:"lg",options:a.namespaces,placeholder:e.t("logging.flow.matches.namespaces.placeholder"),multiple:!0,taggable:!0,clearable:!0,searchable:!0,"close-on-select":!1,"no-options-label-key":"logging.flow.matches.containerNames.enter",placement:"top"},null,8,["value","options","placeholder"])])]),F,(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.namespaces.title.include"):e.t("logging.flow.matches.namespaces.title.exclude")),1),(0,l.createElementVNode)("div",K,[(0,l.createElementVNode)("div",j,[(0,l.createVNode)(i,{modelValue:a.value.namespaces,"onUpdate:modelValue":t[4]||(t[4]=e=>a.value.namespaces=e),class:"lg",options:a.namespaces,placeholder:e.t("logging.flow.matches.namespaces.placeholder"),multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,placement:"top"},null,8,["modelValue","options","placeholder"])])])])):(0,l.createCommentVNode)("",!0)]))])}var G=a(14815),J=a(37321),z={emits:["remove"],components:{KeyValue:G.A,Select:J.A,LabeledSelect:w.A},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},nodes:{type:Array,default:()=>[]},namespaces:{type:Array,default:()=>[]},isClusterFlow:{type:Boolean,default:!1}},computed:{isHarvester(){return this.$store.getters["currentProduct"].inStore===A.T}},methods:{update(){},removeRule(){this.$emit("remove")}}},Q=a(47433);const Y=(0,Q.A)(z,[["render",H]]);var W=Y;const Z="Logging",X="Audit",ee="Event",te=[Z,X,ee];function ae(e=!0){const t={select:!!e,exclude:!e,labels:{},hosts:[],container_names:[]};return t}var le={emits:["input"],components:{Banner:i.l,CruResource:c.A,LabeledSelect:w.A,Loading:u.A,NameNsDescription:p.A,Tab:v.A,Tabbed:m.A,YamlEditor:y.A,Match:W,ArrayListGrouped:B.A},mixins:[d.A],async fetch(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?A.T:"cluster",a=this.$store.getters[`${t}/schemaFor`](h.cm.CLUSTER_OUTPUT),l=this.$store.getters[`${t}/schemaFor`](h.cm.OUTPUT),o=this.$store.getters["cluster/schemaFor"](h.CU),s=this.$store.getters[`${t}/schemaFor`](h.NW),r=this.$store.getters[`${t}/schemaFor`](h.Sm),n=this.value.type===h.cm.FLOW,i=(e,a)=>a?this.$store.dispatch(`${t}/findAll`,{type:e}):Promise.resolve([]),d=await(0,k.kR)({allOutputs:i(h.cm.OUTPUT,n&&l),allClusterOutputs:i(h.cm.CLUSTER_OUTPUT,a),allNamespaces:i(h.CU,o),allNodes:i(h.NW,s),allPods:i(h.Sm,r)});for(const c of Object.keys(d))this[c]=d[c]||[]},data(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?A.T:"cluster",a=this.$store.getters[`${t}/all`](h.yx);let l;this.value.spec=this.value.spec||{},this.value.spec.filters?.length?l=g().dump(this.value.spec.filters):(l=(0,f.mH)(a,h.cm.SPOOFED.FILTERS,{}),l=l.substring(l.indexOf("\n")+1).replaceAll("#  ","#"));const o=[];let s=!this.value.id||this.value.canCustomEdit;if(this.value.spec.match?.length)for(const i of this.value.spec.match)(0,V.matchRuleIsPopulated)(i.select)&&(0,V.matchRuleIsPopulated)(i.exclude)?s=!1:(0,V.matchRuleIsPopulated)(i.select)?o.push({select:!0,...i.select}):(0,V.matchRuleIsPopulated)(i.exclude)&&o.push({exclude:!0,...i.exclude});else o.push(ae(!0));const r=(this.value.spec.globalOutputRefs||[]).map((e=>({label:e,value:e}))),n=(this.value.spec.localOutputRefs||[]).map((e=>({label:e,value:e})));return{formSupported:s,matches:o,allOutputs:null,allClusterOutputs:null,allNamespaces:null,allNodes:null,allPods:null,filtersYaml:l,initialFiltersYaml:l,globalOutputRefs:r,localOutputRefs:n,loggingType:(0,C.o8)(this.value.loggingType||Z)}},computed:{EDITOR_MODES(){return y.j},LOGGING(){return h.cm},outputChoices(){return this.allOutputs?this.allOutputs.filter((e=>{if(!e.namespace)return!0;const t=e.namespace===this.value.namespace;return this.isHarvester?this.loggingType===X?e.loggingType===X&&t:e.loggingType!==X&&t:t})).map((e=>({label:e.metadata.name,value:e.metadata.name}))):[]},clusterOutputChoices(){return this.allClusterOutputs?this.allClusterOutputs.filter((e=>{const t="cattle-logging-system"===e.namespace;return this.isHarvester?this.loggingType===X?e.loggingType===X&&t:e.loggingType!==X&&t:t})).map((e=>({label:e.metadata.name,value:e.metadata.name}))):[]},namespaceChoices(){if(!this.allNamespaces)return[];const e=this.allNamespaces.map((e=>({label:e.nameDisplay,value:e.metadata.name})));return e},nodeChoices(){if(!this.allNodes)return[];const e=this.allNodes.map((e=>({label:e.nameDisplay,value:e.metadata.name})));return e},containerChoices(){const e=[];for(const t of this.allPods)for(const a of t.spec?.containers||[])e.push(a.name);return(0,N.sb)(e).sort()},isHarvester(){return this.$store.getters["currentProduct"].inStore===A.T},flowTypeOptions(){return te}},watch:{matches:{deep:!0,handler(){const e=this.matches.map((e=>{const t=(0,C.o8)(e);return delete t.exclude,delete t.select,e.exclude?{exclude:t}:{select:t}}));this.value.spec.match=e}},filtersYaml:{deep:!0,handler(){try{const e=g().load(this.filtersYaml);(0,N.cy)(e)?this.value.spec.filters=e:this.value.spec.filters=void 0}catch(e){this.errors=(0,x.rz)(e)}}},globalOutputRefs:{deep:!0,handler(){this.value.spec.globalOutputRefs=this.globalOutputRefs}},localOutputRefs:{deep:!0,handler(){this.value.spec.localOutputRefs=this.localOutputRefs}}},created(){this.isCreate&&this.value.type===h.cm.CLUSTER_FLOW&&(this.value.metadata.namespace="cattle-logging-system"),this.registerBeforeHook(this.willSave,"willSave")},methods:{addMatch(e){this.matches=[...this.matches,ae(e)]},removeMatch(e){this.matches.splice(e,1)},updateMatch(e,t){this.matches[t]=e},tabChanged({tab:e}){"filters"===e.name&&this.$nextTick((()=>{this.$refs.yaml&&(this.$refs.yaml.refresh(),this.$refs.yaml.focus())}))},isMatchEmpty(e){return!!S()(e)||e.every((e=>{if(S()(e.select)&&S()(e.exclude))return!0;const t=e.select||{},a=e.exclude||{},l=e=>Object.values(e).every(S());return l(t)&&l(a)}))},willSave(){if(this.value.spec.filters&&S()(this.value.spec.filters)&&delete this.value.spec["filters"],this.value.spec.match&&this.isMatchEmpty(this.value.spec.match)&&delete this.value.spec["match"],this.loggingType===X&&this.$set(this.value.spec,"loggingRef","harvester-kube-audit-log-ref"),this.loggingType===ee){const e={select:{labels:{"app.kubernetes.io/name":"event-tailer"}}};this.value.spec.match?this.value.spec.match.push(e):this.$set(this.value.spec,"match",[e])}},onYamlEditorReady(e){e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.execCommand("unfold")},isTag(e,t){return!e.find((e=>e.value===t.value))}}};a(46530);const oe=(0,Q.A)(le,[["render",n],["__scopeId","data-v-52fc33da"]]);var se=oe},30477:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"row mb-10"},p={class:"col span-6"},m={class:"col span-6"};function v(e,t,a,v,h,b){const g=(0,l.resolveComponent)("LabeledInput"),f=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(g,{value:a.value.endpoint.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.endpoint.url=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.awsElasticsearch.url")},null,8,["value","mode","disabled","label"])])]),i,(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createTextVNode)((0,l.toDisplayString)(a.value.namespace)+" ",1),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(f,{value:a.value.endpoint.access_key_id,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint.access_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.awsElasticsearch.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(f,{value:a.value.endpoint.secret_access_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.endpoint.secret_access_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.awsElasticsearch.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var h=a(5327),b=a(48650),g={components:{LabeledInput:h.o,SecretSelector:b.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},f=a(47433);const y=(0,f.A)(g,[["render",v]]);var k=y},64208:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"col span-6"};function g(e,t,a,g,f,y){const k=(0,l.resolveComponent)("LabeledInput"),N=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(k,{value:a.value.azure_container,"onUpdate:value":t[0]||(t[0]=e=>a.value.azure_container=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.container")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:a.value.path,"onUpdate:value":t[1]||(t[1]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.path")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(k,{value:a.value.store_as,"onUpdate:value":t[2]||(t[2]=e=>a.value.store_as=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.storeAs")},null,8,["value","mode","disabled","label"])])]),u,(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(N,{value:a.value.azure_storage_account,"onUpdate:value":t[3]||(t[3]=e=>a.value.azure_storage_account=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.azurestorage.storageAccount"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",b,[(0,l.createVNode)(N,{value:a.value.azure_storage_access_key,"onUpdate:value":t[4]||(t[4]=e=>a.value.azure_storage_access_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.azurestorage.accessKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var f=a(5327),y=a(48650),k={components:{LabeledInput:f.o,SecretSelector:y.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},N=a(47433);const V=(0,N.A)(k,[["render",g]]);var w=V},52119:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"row mb-10"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"};function y(e,t,a,y,k,N){const V=(0,l.resolveComponent)("LabeledInput"),w=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(V,{value:a.value.region,"onUpdate:value":t[0]||(t[0]=e=>a.value.region=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.region")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(V,{value:a.value.endpoint,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.endpoint")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(w,{value:a.value.aws_key_id,"onUpdate:value":t[2]||(t[2]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.cloudwatch.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(w,{value:a.value.aws_sec_key,"onUpdate:value":t[3]||(t[3]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.cloudwatch.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.configuration")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(V,{value:a.value.log_group_name,"onUpdate:value":t[4]||(t[4]=e=>a.value.log_group_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.logGroupName")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(V,{value:a.value.log_stream_name,"onUpdate:value":t[5]||(t[5]=e=>a.value.log_stream_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.logStreamName")},null,8,["value","mode","disabled","label"])])])])}var k=a(5327),N=a(48650),V={components:{LabeledInput:k.o,SecretSelector:N.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},w=(a(12085),a(47433));const C=(0,w.A)(V,[["render",y]]);var E=C},45526:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"},m=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"},f={class:"row mb-10"},y={class:"col span-6"};function k(e,t,a,k,N,V){const w=(0,l.resolveComponent)("LabeledInput"),C=(0,l.resolveComponent)("SecretSelector"),E=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(w,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.host")},null,8,["value","mode","disabled","label"])])]),i,(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(C,{value:a.value.api_key,"onUpdate:value":t[1]||(t[1]=e=>a.value.api_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.datadog.apiKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),m,(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(E,{value:a.value.use_ssl,"onUpdate:value":t[2]||(t[2]=e=>a.value.use_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.useSSL")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(E,{value:a.value.use_compression,"onUpdate:value":t[3]||(t[3]=e=>a.value.use_compression=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.useCompression")},null,8,["value","mode","disabled","label"])])])])}var N=a(34211),V=a(5327),w=a(48650),C={components:{Checkbox:N.S,LabeledInput:V.o,SecretSelector:w.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},E=a(47433);const S=(0,E.A)(C,[["render",k]]);var B=S},16032:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var l=a(9274);const o={class:"elasticsearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-2"},d={class:"col span-8"},c={class:"col span-2"},u={class:"row"},p={class:"col span-6"},m=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"},y=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),k={class:"row"},N={class:"col span-6"},V={class:"row mb-10"},w={class:"col span-6"},C={class:"col span-6"},E={class:"row"},S={class:"col span-6"},B={class:"col span-6"},x={class:"row mb-10"},A={class:"col span-6"},D={class:"col span-6 vertically-center"};function _(e,t,a,_,U,T){const M=(0,l.resolveComponent)("LabeledSelect"),L=(0,l.resolveComponent)("LabeledInput"),O=(0,l.resolveComponent)("SecretSelector"),I=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(M,{value:a.value.scheme,"onUpdate:value":t[0]||(t[0]=e=>a.value.scheme=e),mode:a.mode,disabled:a.disabled,class:"scheme",options:U.protocolOptions,label:e.t("logging.elasticsearch.scheme")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(L,{value:a.value.host,"onUpdate:value":t[1]||(t[1]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.elasticsearch.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(L,{value:T.port,"onUpdate:value":t[2]||(t[2]=e=>T.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.elasticsearch.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(L,{value:a.value.index_name,"onUpdate:value":t[3]||(t[3]=e=>a.value.index_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.indexName")},null,8,["value","mode","disabled","label"])])]),m,(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(L,{value:a.value.user,"onUpdate:value":t[4]||(t[4]=e=>a.value.user=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.user")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(O,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])]),y,(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(O,{value:a.value.ca_file,"onUpdate:value":t[6]||(t[6]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.caFile.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(O,{value:a.value.client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",S,[(0,l.createVNode)(O,{value:a.value.client_key,"onUpdate:value":t[8]||(t[8]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKey.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",B,[(0,l.createVNode)(O,{value:a.value.client_key_pass,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_key_pass=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKeyPass"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(M,{value:a.value.ssl_version,"onUpdate:value":t[10]||(t[10]=e=>a.value.ssl_version=e),mode:a.mode,disabled:a.disabled,options:U.sslVersions,label:e.t("logging.elasticsearch.sslVersion")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",D,[(0,l.createVNode)(I,{value:a.value.ssl_verify,"onUpdate:value":t[11]||(t[11]=e=>a.value.ssl_verify=e),label:e.t("logging.elasticsearch.verifySsl"),disabled:a.disabled,mode:a.mode},null,8,["value","label","disabled","mode"]),(0,l.createVNode)(I,{value:a.value.suppress_type_name,"onUpdate:value":t[12]||(t[12]=e=>a.value.suppress_type_name=e),label:e.t("logging.elasticsearch.suppressTypeName.label"),tooltip:e.t("logging.elasticsearch.suppressTypeName.elasticSearchTips"),disabled:a.disabled,mode:a.mode},null,8,["value","label","tooltip","disabled","mode"])])])])}var U=a(5327),T=a(80316),M=a(48650),L=a(34211),O=a(71779),I=a(78263),R={components:{LabeledInput:U.o,LabeledSelect:T.A,SecretSelector:M.A,Checkbox:L.S},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return this.mode===O.YQ&&("undefined"===typeof this.value.ssl_verify&&(this.value["ssl_verify"]=!0),"undefined"===typeof this.value.ssl_version&&(this.value["ssl_version"]=I.sslVersions[0]),"undefined"===typeof this.value.suppress_type_name&&(this.value["suppress_type_name"]=!0)),{protocolOptions:I.protocol,sslVersions:I.sslVersions}},computed:{port:{get(){return this.value.port},set(e){(0,I.updatePort)((e=>this.value["port"]=e),e)}}}},$=(a(93867),a(47433));const P=(0,$.A)(R,[["render",_]]);var q=P},74387:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(9274);const o={class:"forward"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(p,{value:a.value.path,"onUpdate:value":t[0]||(t[0]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.file.path")},null,8,["value","mode","disabled","label"])])])])}var c=a(5327),u={components:{LabeledInput:c.o},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},p=a(47433);const m=(0,p.A)(u,[["render",d]]);var v=m},86741:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o={class:"forward"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-10"},d={class:"col span-2"},c=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),u={class:"row"},p={class:"col span-6"},m={class:"row mb-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),y={class:"row"},k={class:"col span-6"},N={class:"row"},V={class:"col span-6"},w={class:"col span-6"},C={class:"row mt-10"},E={class:"col span-6"};function S(e,t,a,S,B,x){const A=(0,l.resolveComponent)("LabeledInput"),D=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(A,{value:a.value.servers[0].host,"onUpdate:value":t[0]||(t[0]=e=>a.value.servers[0].host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.forward.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(A,{value:x.port,"onUpdate:value":t[1]||(t[1]=e=>x.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.forward.port")},null,8,["value","mode","disabled","label"])])]),c,(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(D,{value:a.value.servers[0].username,"onUpdate:value":t[2]||(t[2]=e=>a.value.servers[0].username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(D,{value:a.value.servers[0].password,"onUpdate:value":t[3]||(t[3]=e=>a.value.servers[0].password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(D,{value:a.value.servers[0].shared_key,"onUpdate:value":t[4]||(t[4]=e=>a.value.servers[0].shared_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.sharedKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),f,(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",V,[(0,l.createVNode)(D,{value:a.value.tls_client_cert_path,"onUpdate:value":t[5]||(t[5]=e=>a.value.tls_client_cert_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientCertPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",w,[(0,l.createVNode)(D,{value:a.value.tls_client_private_key_path,"onUpdate:value":t[6]||(t[6]=e=>a.value.tls_client_private_key_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientPrivateKeyPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",C,[(0,l.createElementVNode)("div",E,[(0,l.createVNode)(D,{value:a.value.tls_client_private_key_passphrase,"onUpdate:value":t[7]||(t[7]=e=>a.value.tls_client_private_key_passphrase=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientPrivateKeyPassphrase"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var B=a(5327),x=a(48650),A=a(78263),D={components:{LabeledInput:B.o,SecretSelector:x.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{port:{get(){return this.value.servers[0].port},set(e){(0,A.updatePort)((e=>this.value.servers[0]["port"]=e),e)}}}},_=a(47433);const U=(0,_.A)(D,[["render",S]]);var T=U},85783:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-04f7f98b"),e=e(),(0,l.popScopeId)(),e),s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6 overwrite"},m=o((()=>(0,l.createElementVNode)("div",{class:"spacer"},null,-1))),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"};function f(e,t,a,o,f,y){const k=(0,l.resolveComponent)("LabeledInput"),N=(0,l.resolveComponent)("Checkbox"),V=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:a.value.project,"onUpdate:value":t[0]||(t[0]=e=>a.value.project=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.project")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(k,{value:a.value.bucket,"onUpdate:value":t[1]||(t[1]=e=>a.value.bucket=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.bucket")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(k,{value:a.value.path,"onUpdate:value":t[2]||(t[2]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.path")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:a.value.overwrite,"onUpdate:value":t[3]||(t[3]=e=>a.value.overwrite=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.overwriteExistingPath")},null,8,["value","mode","disabled","label"])])]),m,(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(V,{value:a.value.credentials_json,"onUpdate:value":t[4]||(t[4]=e=>a.value.credentials_json=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.gcs.credentialsJson"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var y=a(34211),k=a(5327),N=a(48650),V={components:{Checkbox:y.S,LabeledInput:k.o,SecretSelector:N.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},w=(a(59293),a(47433));const C=(0,w.A)(V,[["render",f],["__scopeId","data-v-04f7f98b"]]);var E=C},17185:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"gelf"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-3"},c={class:"col span-3"},u=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"col span-6"},g={class:"row mb-10"},f={class:"col span-6"},y={class:"col span-6"},k={class:"row mb-10"},N={class:"col span-6"},V={class:"col span-6"};function w(e,t,a,w,C,E){const S=(0,l.resolveComponent)("LabeledInput"),B=(0,l.resolveComponent)("LabeledSelect"),x=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(S,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.gelf.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(S,{value:E.port,"onUpdate:value":t[1]||(t[1]=e=>E.port=e),mode:a.mode,disabled:a.disabled,class:"port",type:"number",label:e.t("logging.gelf.port")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(B,{value:a.value.protocol,"onUpdate:value":t[2]||(t[2]=e=>a.value.protocol=e),options:C.protocolOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.protocol")},null,8,["value","options","mode","disabled","label"])])]),u,(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(x,{value:a.value.tls,"onUpdate:value":t[3]||(t[3]=e=>a.value.tls=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tls")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",b,[(0,l.createVNode)(x,{value:E.no_verify,"onUpdate:value":t[4]||(t[4]=e=>E.no_verify=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.noVerify")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(S,{value:a.value.tls_options.cert,"onUpdate:value":t[5]||(t[5]=e=>a.value.tls_options.cert=e),type:"multiline",mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.clientCert")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",y,[(0,l.createVNode)(S,{value:a.value.tls_options.key,"onUpdate:value":t[6]||(t[6]=e=>a.value.tls_options.key=e),type:"multiline",mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.clientKey")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createVNode)(S,{value:a.value.tls_options.tls_version,"onUpdate:value":t[7]||(t[7]=e=>a.value.tls_options.tls_version=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.tlsVersion")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",V,[(0,l.createVNode)(x,{value:E.all_ciphers,"onUpdate:value":t[8]||(t[8]=e=>E.all_ciphers=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.allCiphers")},null,8,["value","mode","disabled","label"])])])])}var C=a(5327),E=a(80316),S=a(34211),B={components:{Checkbox:S.S,LabeledInput:C.o,LabeledSelect:E.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["tcp","udp"];return this.value["tls_options"]=this.value.tls_options||{},this.value["protocol"]=this.value.protocol||e[0],{protocolOptions:e}},computed:{port:{get(){return this.value.port},set(e){this.value["port"]=Number.parseInt(e)}},no_verify:{get(){return"true"===this.value.tls_options.no_verify},set(e){this.value.tls_options["no_verify"]=e?"true":null}},all_ciphers:{get(){return"true"===this.value.tls_options.all_ciphers},set(e){this.value.tls_options["all_ciphers"]=e?"true":null}}}},x=a(47433);const A=(0,x.A)(B,[["render",w]]);var D=A},62431:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var l=a(9274);const o={class:"kafka"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"},c=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),u={class:"row"},p={class:"col span-6"},m={class:"row mb-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),y={class:"row"},k={class:"col span-6"},N={class:"row mb-10"},V={class:"col span-6"},w={class:"row mb-10"},C={class:"col span-6"},E={class:"col span-6"},S={class:"row mb-10"},B={class:"col span-6"},x={class:"col span-6"};function A(e,t,a,A,D,_){const U=(0,l.resolveComponent)("LabeledInput"),T=(0,l.resolveComponent)("SecretSelector"),M=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(U,{value:a.value.brokers,"onUpdate:value":t[0]||(t[0]=e=>a.value.brokers=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.brokers")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(U,{value:a.value.default_topic,"onUpdate:value":t[1]||(t[1]=e=>a.value.default_topic=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.defaultTopic")},null,8,["value","mode","disabled","label"])])]),c,(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(T,{value:a.value.username,"onUpdate:value":t[2]||(t[2]=e=>a.value.username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(T,{value:a.value.password,"onUpdate:value":t[3]||(t[3]=e=>a.value.password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(U,{value:a.value.scram_mechanism,"onUpdate:value":t[4]||(t[4]=e=>a.value.scram_mechanism=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.scramMechanism")},null,8,["value","mode","disabled","label"])])]),f,(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",V,[(0,l.createVNode)(M,{value:a.value.sasl_over_ssl,"onUpdate:value":t[5]||(t[5]=e=>a.value.sasl_over_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.saslOverSsl")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",w,[(0,l.createElementVNode)("div",C,[(0,l.createVNode)(T,{value:a.value.ssl_ca_cert,"onUpdate:value":t[6]||(t[6]=e=>a.value.ssl_ca_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslCaCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",E,[(0,l.createVNode)(T,{value:a.value.ssl_client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.ssl_client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",B,[(0,l.createVNode)(T,{value:a.value.ssl_client_cert_chain,"onUpdate:value":t[8]||(t[8]=e=>a.value.ssl_client_cert_chain=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCertChain.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",x,[(0,l.createVNode)(T,{value:a.value.ssl_client_cert_key,"onUpdate:value":t[9]||(t[9]=e=>a.value.ssl_client_cert_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCertKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var D=a(5327),_=a(48650),U=a(34211),T=a(78263),M={components:{Checkbox:U.S,LabeledInput:D.o,SecretSelector:_.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{schemes:T.protocol}}},L=a(47433);const O=(0,L.A)(M,[["render",A]]);var I=O},1426:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"},m={class:"col span-6"};function v(e,t,a,v,h,b){const g=(0,l.resolveComponent)("LabeledInput"),f=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(g,{value:a.value.stream_name,"onUpdate:value":t[0]||(t[0]=e=>a.value.stream_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kinesisStream.streamName")},null,8,["value","mode","disabled","label"])])]),i,(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(f,{value:a.value.aws_key_id,"onUpdate:value":t[1]||(t[1]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kinesisStream.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(f,{value:a.value.aws_sec_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kinesisStream.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var h=a(48650),b=a(5327),g={components:{LabeledInput:b.o,SecretSelector:h.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},f=a(47433);const y=(0,f.A)(g,[["render",v]]);var k=y},14375:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),c={class:"row"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"};function v(e,t,a,v,h,b){const g=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(g,{value:a.value.hostname,"onUpdate:value":t[0]||(t[0]=e=>a.value.hostname=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.hostname")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(g,{value:a.value.app,"onUpdate:value":t[1]||(t[1]=e=>a.value.app=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.app")},null,8,["value","mode","disabled","label"])])]),d,(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(g,{value:a.value.api_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.api_key=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.apiKey"),required:!0},null,8,["value","mode","disabled","label"])])])])}var h=a(5327),b={components:{LabeledInput:h.o},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},g=a(47433);const f=(0,g.A)(b,[["render",v]]);var y=f},17073:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"},d=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),c={class:"row"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"},v=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),h={class:"row"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"};function y(e,t,a,y,k,N){const V=(0,l.resolveComponent)("LabeledInput"),w=(0,l.resolveComponent)("SecretSelector"),C=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(V,{value:a.value.endpoint.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.endpoint.url=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logz.url")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(V,{value:N.port,"onUpdate:value":t[1]||(t[1]=e=>N.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.logz.port")},null,8,["value","mode","disabled","label"])])]),d,(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(w,{value:a.value.endpoint.token,"onUpdate:value":t[2]||(t[2]=e=>a.value.endpoint.token=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.logz.token"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),v,(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(C,{value:a.value.gzip,"onUpdate:value":t[3]||(t[3]=e=>a.value.gzip=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logz.enableCompression")},null,8,["value","mode","disabled","label"])])])])}var k=a(34211),N=a(5327),V=a(48650),w=a(78263),C={components:{Checkbox:k.S,LabeledInput:N.o,SecretSelector:V.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{port:{get(){return this.value.endpoint.port},set(e){(0,w.updatePort)((e=>this.value.endpoint["port"]=e),e)}}}},E=a(47433);const S=(0,E.A)(C,[["render",y]]);var B=S},62394:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(9274);const o={class:"loki"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),u={class:"row"},p={class:"col span-6"},m={class:"row"},v={class:"col span-6"},h={class:"col span-6"},b=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),g={class:"row"},f={class:"col span-6"},y={class:"row"},k={class:"col span-6"},N={class:"col span-6 mb-10"},V={class:"row"},w={class:"col span-6"},C=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),E={class:"row"},S={class:"col span-6"},B={class:"row mb-10"},x={class:"col span-12"},A={class:"row mb-10"},D={class:"col span-12"},_={class:"row mb-10"},U={class:"col span-12"};function T(e,t,a,T,M,L){const O=(0,l.resolveComponent)("LabeledInput"),I=(0,l.resolveComponent)("SecretSelector"),R=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(O,{value:a.value.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.url=e),mode:a.mode,disabled:a.disabled,class:"url",placeholder:"https://127.0.0.1:8000","data-testid":"loki-url",label:e.t("logging.loki.url")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(O,{value:a.value.tenant,"onUpdate:value":t[1]||(t[1]=e=>a.value.tenant=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.tenant")},null,8,["value","mode","disabled","label"])])]),c,(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(I,{value:a.value.username,"onUpdate:value":t[2]||(t[2]=e=>a.value.username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(I,{value:a.value.password,"onUpdate:value":t[3]||(t[3]=e=>a.value.password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),b,(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(I,{value:a.value.ca_cert,"onUpdate:value":t[4]||(t[4]=e=>a.value.ca_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.caCert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(I,{value:a.value.cert,"onUpdate:value":t[5]||(t[5]=e=>a.value.cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.cert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(I,{value:a.value.key,"onUpdate:value":t[6]||(t[6]=e=>a.value.key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.key"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),C,(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.labels")),1)])]),(0,l.createElementVNode)("div",B,[(0,l.createElementVNode)("div",x,[(0,l.createVNode)(R,{value:a.value.configure_kubernetes_labels,"onUpdate:value":t[7]||(t[7]=e=>a.value.configure_kubernetes_labels=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.configureKubernetesLabels")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",A,[(0,l.createElementVNode)("div",D,[(0,l.createVNode)(R,{value:a.value.extract_kubernetes_labels,"onUpdate:value":t[8]||(t[8]=e=>a.value.extract_kubernetes_labels=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.extractKubernetesLabels")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",_,[(0,l.createElementVNode)("div",U,[(0,l.createVNode)(R,{value:a.value.drop_single_key,"onUpdate:value":t[9]||(t[9]=e=>a.value.drop_single_key=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.dropSingleKey")},null,8,["value","mode","disabled","label"])])])])}var M=a(5327),L=a(48650),O=a(34211),I={components:{Checkbox:O.S,LabeledInput:M.o,SecretSelector:L.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{}}},R=a(47433);const $=(0,R.A)(I,[["render",T]]);var P=$},20254:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),d={class:"row"},c={class:"col span-6"},u={class:"col span-6"};function p(e,t,a,p,m,v){const h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(h,{value:a.value.base_uri,"onUpdate:value":t[0]||(t[0]=e=>a.value.base_uri=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.newrelic.baseURI")},null,8,["value","mode","disabled","label"])])]),i,(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(b,{value:a.value.api_key,"onUpdate:value":t[1]||(t[1]=e=>a.value.api_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.newrelic.apiKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(b,{value:a.value.license_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.license_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.newrelic.licenseKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var m=a(5327),v=a(48650),h={components:{LabeledInput:m.o,SecretSelector:v.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},b=a(47433);const g=(0,b.A)(h,[["render",p]]);var f=g},12769:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(9274);const o={class:"opensearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-2"},d={class:"col span-8"},c={class:"col span-2"},u={class:"row"},p={class:"col span-6"},m=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"},y=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),k={class:"row"},N={class:"col span-6"},V={class:"row mb-10"},w={class:"col span-6"},C={class:"col span-6"},E={class:"row"},S={class:"col span-6"},B={class:"col span-6"},x={class:"row mb-10"},A={class:"col span-6 vertically-center"};function D(e,t,a,D,_,U){const T=(0,l.resolveComponent)("LabeledSelect"),M=(0,l.resolveComponent)("LabeledInput"),L=(0,l.resolveComponent)("SecretSelector"),O=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(T,{value:a.value.scheme,"onUpdate:value":t[0]||(t[0]=e=>a.value.scheme=e),mode:a.mode,disabled:a.disabled,class:"scheme",options:_.protocolOptions,label:e.t("logging.elasticsearch.scheme")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(M,{value:a.value.host,"onUpdate:value":t[1]||(t[1]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.elasticsearch.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(M,{value:U.port,"onUpdate:value":t[2]||(t[2]=e=>U.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.elasticsearch.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(M,{value:a.value.index_name,"onUpdate:value":t[3]||(t[3]=e=>a.value.index_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.indexName")},null,8,["value","mode","disabled","label"])])]),m,(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(M,{value:a.value.user,"onUpdate:value":t[4]||(t[4]=e=>a.value.user=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.user")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(L,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])]),y,(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(L,{value:a.value.ca_file,"onUpdate:value":t[6]||(t[6]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.caFile.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(L,{value:a.value.client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",S,[(0,l.createVNode)(L,{value:a.value.client_key,"onUpdate:value":t[8]||(t[8]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKey.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",B,[(0,l.createVNode)(L,{value:a.value.client_key_pass,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_key_pass=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKeyPass"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(O,{value:a.value.ssl_verify,"onUpdate:value":t[10]||(t[10]=e=>a.value.ssl_verify=e),label:e.t("logging.elasticsearch.verifySsl"),disabled:a.disabled,mode:a.mode},null,8,["value","label","disabled","mode"]),(0,l.createVNode)(O,{value:a.value.suppress_type_name,"onUpdate:value":t[11]||(t[11]=e=>a.value.suppress_type_name=e),label:e.t("logging.elasticsearch.suppressTypeName.label"),tooltip:e.t("logging.elasticsearch.suppressTypeName.openSearchTips"),disabled:a.disabled,mode:a.mode},null,8,["value","label","tooltip","disabled","mode"])])])])}var _=a(5327),U=a(80316),T=a(48650),M=a(34211),L=a(71779),O=a(78263),I={components:{LabeledInput:_.o,LabeledSelect:U.A,SecretSelector:T.A,Checkbox:M.S},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return this.mode===L.YQ&&("undefined"===typeof this.value.ssl_verify&&(this.value["ssl_verify"]=!0),"undefined"===typeof this.value.ssl_version&&(this.value["ssl_version"]=O.sslVersions[0]),"undefined"===typeof this.value.suppress_type_name&&(this.value["suppress_type_name"]=!0)),{protocolOptions:O.protocol,sslVersions:O.sslVersions}},computed:{port:{get(){return this.value.port},set(e){(0,O.updatePort)((e=>this.value["port"]=e),e)}}}},R=(a(44269),a(47433));const $=(0,R.A)(I,[["render",D]]);var P=$},39967:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={class:"opensearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-8"},d={class:"col span-2"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6"},m=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),v={class:"row"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"},f=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),y={class:"row"},k={class:"col span-6"},N={class:"row"},V={class:"col span-6"};function w(e,t,a,w,C,E){const S=(0,l.resolveComponent)("LabeledInput"),B=(0,l.resolveComponent)("LabeledSelect"),x=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(S,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.redis.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(S,{value:E.port,"onUpdate:value":t[1]||(t[1]=e=>E.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.redis.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(S,{value:a.value.db_number,"onUpdate:value":t[2]||(t[2]=e=>a.value.db_number=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.redis.dbNumber")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(S,{value:a.value.ttl,"onUpdate:value":t[3]||(t[3]=e=>a.value.ttl=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.redis.ttl")},null,8,["value","mode","disabled","label"])])]),m,(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.redis.format.title")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(B,{value:a.value.format.type,"onUpdate:value":t[4]||(t[4]=e=>a.value.format.type=e),options:C.formatTypeOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.redis.format.type")},null,8,["value","options","mode","disabled","label"])])]),f,(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",V,[(0,l.createVNode)(x,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])])])}var C=a(5327),E=a(48650),S=a(78263),B=a(80316),x={components:{LabeledInput:C.o,LabeledSelect:B.A,SecretSelector:E.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["json","out_file","ltsv","csv","msgpack","hash","single_value"];return this.value["format"]=this.value.format||{type:e[0]},{formatTypeOptions:e}},computed:{port:{get(){return this.value.port},set(e){(0,S.updatePort)((e=>this.value.port=e),e)}}}},A=(a(82339),a(47433));const D=(0,A.A)(x,[["render",w]]);var _=D},14891:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-65384aa8"),e=e(),(0,l.popScopeId)(),e),s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6 overwrite"},m=o((()=>(0,l.createElementVNode)("div",{class:"spacer"},null,-1))),v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"};function y(e,t,a,o,y,k){const N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("Checkbox"),w=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(N,{value:a.value.s3_endpoint,"onUpdate:value":t[0]||(t[0]=e=>a.value.s3_endpoint=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.endpoint")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(N,{value:a.value.s3_bucket,"onUpdate:value":t[1]||(t[1]=e=>a.value.s3_bucket=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.bucket")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(N,{value:a.value.path,"onUpdate:value":t[2]||(t[2]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.path")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(V,{value:k.overwrite,"onUpdate:value":t[3]||(t[3]=e=>k.overwrite=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.overwriteExistingPath")},null,8,["value","mode","disabled","label"])])]),m,(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(w,{value:a.value.aws_key_id,"onUpdate:value":t[4]||(t[4]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.s3.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(w,{value:a.value.aws_sec_key,"onUpdate:value":t[5]||(t[5]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.s3.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var k=a(34211),N=a(5327),V=a(48650),w={components:{Checkbox:k.S,LabeledInput:N.o,SecretSelector:V.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{overwrite:{get(){return"true"===this.value.overwrite},set(e){this.value["overwrite"]=e.toString()}}}},C=(a(95488),a(47433));const E=(0,C.A)(w,[["render",y],["__scopeId","data-v-65384aa8"]]);var S=E},59379:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o={class:"splunk"},s={class:"row mb-10"},r={class:"col span-2"},n={class:"col span-8"},i={class:"col span-2"},d={class:"row"},c={class:"col span-6"},u={class:"col span-6"},p=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),m={class:"row"},v={class:"col span-6"},h=(0,l.createElementVNode)("div",{class:"spacer"},null,-1),b={class:"row mb-10"},g={class:"col span-6"},f={class:"row mb-10"},y={class:"col span-6"},k={class:"col span-6"},N={class:"row"},V={class:"col span-6"},w={class:"col span-6"};function C(e,t,a,C,E,S){const B=(0,l.resolveComponent)("LabeledSelect"),x=(0,l.resolveComponent)("LabeledInput"),A=(0,l.resolveComponent)("SecretSelector"),D=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(B,{value:a.value.protocol,"onUpdate:value":t[0]||(t[0]=e=>a.value.protocol=e),mode:a.mode,disabled:a.disabled,options:E.protocolOptions,label:e.t("logging.splunk.protocol")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(x,{value:a.value.hec_host,"onUpdate:value":t[1]||(t[1]=e=>a.value.hec_host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(x,{value:S.port,"onUpdate:value":t[2]||(t[2]=e=>S.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.splunk.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(x,{value:a.value.index,"onUpdate:value":t[3]||(t[3]=e=>a.value.index=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.indexName")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(x,{value:a.value.source,"onUpdate:value":t[4]||(t[4]=e=>a.value.source=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.source")},null,8,["value","mode","disabled","label"])])])]),p,(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(A,{value:a.value.hec_token,"onUpdate:value":t[5]||(t[5]=e=>a.value.hec_token=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.token"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])]),h,(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(D,{value:a.value.insecure_ssl,"onUpdate:value":t[6]||(t[6]=e=>a.value.insecure_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.insecureSsl")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(A,{value:a.value.ca_file,"onUpdate:value":t[7]||(t[7]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.caFile"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",k,[(0,l.createVNode)(A,{value:a.value.ca_path,"onUpdate:value":t[8]||(t[8]=e=>a.value.ca_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.caPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",V,[(0,l.createVNode)(A,{value:a.value.client_cert,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.clientCert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",w,[(0,l.createVNode)(A,{value:a.value.client_key,"onUpdate:value":t[10]||(t[10]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.clientKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var E=a(48650),S=a(5327),B=a(80316),x=a(34211),A=a(78263),D={components:{Checkbox:x.S,LabeledInput:S.o,LabeledSelect:B.A,SecretSelector:E.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{protocolOptions:A.protocol}},computed:{port:{get(){return this.value.hec_port},set(e){(0,A.updatePort)((e=>this.value["hec_port"]=e),e)}}}},_=a(47433);const U=(0,_.A)(D,[["render",C]]);var T=U},20697:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("LabeledInput"),m=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(p,{value:a.value.source_name,"onUpdate:value":t[0]||(t[0]=e=>a.value.source_name=e),class:"source-name",mode:a.mode,disabled:a.disabled,label:e.t("logging.sumologic.sourceName")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(m,{value:a.value.endpoint,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.sumologic.endpoint"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var c=a(5327),u=a(48650),p={components:{LabeledInput:c.o,SecretSelector:u.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},m=a(47433);const v=(0,m.A)(p,[["render",d]]);var h=v},52604:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-28e49e6e"),e=e(),(0,l.popScopeId)(),e),s={class:"elasticsearch"},r={class:"row"},n={class:"col span-6"},i={class:"row"},d={class:"col span-8"},c={class:"col span-4"},u=o((()=>(0,l.createElementVNode)("div",{class:"spacer"},null,-1))),p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"col span-6 insecure"},g={class:"row mb-10"},f={class:"col span-6"},y=o((()=>(0,l.createElementVNode)("div",{class:"spacer"},null,-1))),k={class:"row"},N={class:"col span-6"},V={class:"row mb-10"},w={class:"col span-6"},C=o((()=>(0,l.createElementVNode)("div",{class:"spacer"},null,-1))),E={class:"row"},S={class:"col span-6"},B={class:"row mb-20"},x={class:"col span-6"},A={class:"row mb-10"},D={class:"col span-6"},_={class:"col span-6"},U={class:"row mb-20"},T={class:"col span-6"},M={class:"row mb-20"},L={class:"col span-6"},O={class:"row mb-10"},I={class:"col span-6"},R={class:"col span-6"},$={class:"row mb-10"},P={class:"col span-6"};function q(e,t,a,o,q,F){const K=(0,l.resolveComponent)("LabeledInput"),j=(0,l.resolveComponent)("LabeledSelect"),H=(0,l.resolveComponent)("Checkbox"),G=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(K,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(K,{value:F.port,"onUpdate:value":t[1]||(t[1]=e=>F.port=e),mode:a.mode,disabled:a.disabled,class:"port",type:"number",label:e.t("logging.syslog.port")},null,8,["value","mode","disabled","label"])])]),u,(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(j,{value:a.value.transport,"onUpdate:value":t[2]||(t[2]=e=>a.value.transport=e),options:q.transportOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.transport")},null,8,["value","options","mode","disabled","label"])]),(0,l.createElementVNode)("div",b,[(0,l.createVNode)(H,{value:a.value.insecure,"onUpdate:value":t[3]||(t[3]=e=>a.value.insecure=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.insecure")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(G,{value:a.value.trusted_ca_path,"onUpdate:value":t[4]||(t[4]=e=>a.value.trusted_ca_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.syslog.trustedCaPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),y,(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.syslog.format.title")),1)])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(j,{value:a.value.format.type,"onUpdate:value":t[5]||(t[5]=e=>a.value.format.type=e),options:q.formatTypeOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.format.type")},null,8,["value","options","mode","disabled","label"])])]),C,(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.syslog.buffer.title")),1)])]),(0,l.createElementVNode)("div",B,[(0,l.createElementVNode)("div",x,[(0,l.createVNode)(K,{value:a.value.buffer.tags,"onUpdate:value":t[6]||(t[6]=e=>a.value.buffer.tags=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.tags")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",A,[(0,l.createElementVNode)("div",D,[(0,l.createVNode)(K,{value:a.value.buffer.chunk_limit_size,"onUpdate:value":t[7]||(t[7]=e=>a.value.buffer.chunk_limit_size=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.chunkLimitSize")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",_,[(0,l.createVNode)(K,{value:F.chunkLimitRecords,"onUpdate:value":t[8]||(t[8]=e=>F.chunkLimitRecords=e),mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.syslog.buffer.chunkLimitRecords")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",U,[(0,l.createElementVNode)("div",T,[(0,l.createVNode)(K,{value:a.value.buffer.total_limit_size,"onUpdate:value":t[9]||(t[9]=e=>a.value.buffer.total_limit_size=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.totalLimitSize")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",M,[(0,l.createElementVNode)("div",L,[(0,l.createVNode)(K,{value:a.value.buffer.flush_interval,"onUpdate:value":t[10]||(t[10]=e=>a.value.buffer.flush_interval=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.flushInterval")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("div",I,[(0,l.createVNode)(K,{value:a.value.buffer.timekey,"onUpdate:value":t[11]||(t[11]=e=>a.value.buffer.timekey=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekey")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",R,[(0,l.createVNode)(K,{value:a.value.buffer.timekey_wait,"onUpdate:value":t[12]||(t[12]=e=>a.value.buffer.timekey_wait=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekeyWait")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("div",P,[(0,l.createVNode)(H,{value:a.value.buffer.timekey_use_utc,"onUpdate:value":t[13]||(t[13]=e=>a.value.buffer.timekey_use_utc=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekeyUseUTC")},null,8,["value","mode","disabled","label"])])])])}var F=a(34211),K=a(5327),j=a(80316),H=a(48650),G={components:{Checkbox:F.S,LabeledInput:K.o,LabeledSelect:j.A,SecretSelector:H.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["json","out_file","ltsv","csv","msgpack","hash","single_value"],t=["tls","udp","tcp"];return this.value["format"]=this.value.format||{type:e[0]},this.value["buffer"]=this.value.buffer||{},this.value["transport"]=this.value.transport||t[0],{formatTypeOptions:e,transportOptions:t}},computed:{port:{get(){return this.value.port},set(e){this.value["port"]=Number.parseInt(e)}},chunkLimitRecords:{get(){return this.value.buffer.chunk_limit_records},set(e){this.value.buffer["chunk_limit_records"]=Number.parseInt(e)}}}},J=(a(82463),a(47433));const z=(0,J.A)(G,[["render",q],["__scopeId","data-v-28e49e6e"]]);var Q=z},87357:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.username,"onUpdate:value":t[0]||(t[0]=e=>i.username=e),required:"",label:e.t("secret.basic.username"),mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(c,{value:i.password,"onUpdate:value":t[1]||(t[1]=e=>i.password=e),label:e.t("secret.basic.password"),mode:a.mode,type:"password"},null,8,["value","label","mode"])])])])}var i=a(5327),d={components:{LabeledInput:i.o},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData.username||"",t=this.value.decodedData.password||"";return{username:e,password:t}},watch:{username:"update",password:"update"},methods:{update(){this.value.setData("username",this.username),this.value.setData("password",this.password)}}},c=a(47433);const u=(0,c.A)(d,[["render",n]]);var p=u},2320:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createBlock)(n,{key:"data",value:a.value.data,"onUpdate:value":t[0]||(t[0]=e=>a.value.data=e),mode:a.mode,"initial-empty-row":!0,"handle-base64":!0,"value-trim":!1,"add-allowed":!0,"read-allowed":!0,"value-concealed":r.isView&&a.hideSensitiveData,"file-modifier":r.fileModifier,"parse-lines-from-file":!0,"read-icon":"","add-icon":""},null,8,["value","mode","value-concealed","file-modifier"])}var s=a(14815),r=a(71779);const n=/^[-._a-zA-Z0-9]*$/;var i={components:{KeyValue:s.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},hideSensitiveData:{type:Boolean,default:!0}},computed:{isView(){return this.mode===r.nW}},methods:{fileModifier(e,t){return n.test(e)||(e=e.split("").map((e=>n.test(e)?e:"_")).join("")),{name:e,value:t}}}},d=a(47433);const c=(0,d.A)(i,[["render",o]]);var u=c},79023:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o={class:"filled-height"},s={key:0,class:"row"},r={class:"col span-3"},n={class:"col span-3"},i=(0,l.createElementVNode)("div",{class:"spacer"},null,-1);function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("Loading"),m=(0,l.resolveComponent)("NameNsDescription"),v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("Tab"),g=(0,l.resolveComponent)("Labels"),f=(0,l.resolveComponent)("Tabbed"),y=(0,l.resolveComponent)("CruResource"),k=(0,l.resolveDirective)("focus");return(0,l.openBlock)(),(0,l.createElementBlock)("form",o,[e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(y,{key:1,mode:e.mode,"validation-passed":!0,"selected-subtype":e.value._type,resource:e.value,errors:e.errors,"done-route":u.doneRoute,subtypes:u.secretSubTypes,onFinish:u.saveSecret,onSelectType:u.selectType,onError:t[4]||(t[4]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{value:e.value,mode:e.mode,namespaced:!c.isCloud,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode","namespaced"]),u.isCustomSecretCreate?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(v,{value:c.secretType,"onUpdate:value":[t[1]||(t[1]=e=>c.secretType=e),u.selectCustomType],options:c.secretTypes,searchable:!1,mode:e.mode,multiple:!1,reduce:e=>e.value,"label-key":"secret.type",required:""},null,8,["value","options","mode","reduce","onUpdate:value"])]),(0,l.createElementVNode)("div",n,[u.showCustomSecretType?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(h,{key:0,ref:"customType",value:e.value._type,"onUpdate:value":t[2]||(t[2]=t=>e.value._type=t),"label-key":"secret.customType",mode:e.mode,required:""},null,8,["value","mode"])),[[k]]):(0,l.createCommentVNode)("",!0)])])):(0,l.createCommentVNode)("",!0),i,c.isCloud?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(u.cloudComponent),{key:1,ref:"cloudComponent","driver-name":u.driverName,value:e.value,mode:e.mode,"hide-sensitive-data":u.hideSensitiveData},null,8,["driver-name","value","mode","hide-sensitive-data"])):((0,l.openBlock)(),(0,l.createBlock)(f,{key:2,"side-tabs":!0,"default-tab":"data"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{name:"data",label:u.dataLabel,weight:99},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(u.dataComponent),{value:e.value,mode:e.mode,"hide-sensitive-data":u.hideSensitiveData},null,8,["value","mode","hide-sensitive-data"]))])),_:1},8,["label"]),(0,l.createVNode)(b,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{value:e.value,mode:e.mode,"onUpdate:value":t[3]||(t[3]=t=>e.$emit("input",t))},null,8,["value","mode"])])),_:1})])),_:1}))])),_:1},8,["mode","selected-subtype","resource","errors","done-route","subtypes","onFinish","onSelectType"]))])}var c=a(86310),u=a(20665),p=a(72706),m=a(70346),v=a(5327),h=a(80316),b=a(57985),g=a(71779),f=a(6483),y=a(99373),k=a(82906),N=a(20458),V=a(85401),w=a(55190),C=a(26812),E=a(64035),S=a(64033),B=a(73331),x=a(41594);const A=[c.J.OPAQUE,c.J.DOCKER_JSON,c.J.TLS,c.J.SSH,c.J.BASIC];var D={name:"CruSecret",emits:["set-subtype","input"],components:{LabeledInput:v.o,LabeledSelect:h.A,Loading:f.A,NameNsDescription:m.A,CruResource:b.A,Tabbed:y.A,Tab:k.A,Labels:N.A,SelectIconGrid:S.A},mixins:[p.A],async fetch(){this.isCloud&&(this.nodeDrivers=await this.$store.dispatch("management/findAll",{type:u.Mc.NODE_DRIVER}))},data(){const e=this.$route.query[g.Sd]===g.Qp,t=this.mode===g.G5&&this.value._type===c.J.CLOUD_CREDENTIAL,a=this.realMode===g.dT&&this.liveValue._type===c.J.CLOUD_CREDENTIAL,l=e||t||a;e&&(this.value.metadata.namespace=u.eo,this.value.metadata["name"]="",this.value["data"]={});const o=[{label:"Custom",value:"custom"},{label:"divider",disabled:!0,kind:"divider"}];return Object.values(c.J).forEach((e=>{o.push({label:e,value:e})})),{isCloud:l,nodeDrivers:null,secretTypes:o,secretType:this.value._type,initialSecretType:this.value._type}},computed:{isCustomSecretCreate(){return this.mode===g.YQ&&"custom"===this.$route.query.type},showCustomSecretType(){return"custom"===this.secretType},typeKey(){if(this.isCloud)return"cloud";switch(this.value._type){case c.J.TLS:return"tls";case c.J.BASIC:return"basic";case c.J.DOCKER_JSON:return"registry";case c.J.SSH:return"ssh"}return"generic"},dataComponent(){return a(48254)(`./${this.typeKey}`).default},driverName(){const e=this.value.metadata?.annotations?.[w.qt.CREDENTIAL_DRIVER];return e},cloudComponent(){return this.$store.getters["type-map/hasCustomCloudCredentialComponent"](this.driverName)?this.$store.getters["type-map/importCloudCredential"](this.driverName):this.$store.getters["type-map/importCloudCredential"]("generic")},secretSubTypes(){const e=[];if(this.isCloud){const l=(0,C.sb)(this.nodeDrivers.filter((e=>e.spec.active)).map((e=>e.spec.displayName||e.id)).map((e=>this.$store.getters["plugins/credentialDriverFor"](e))));for(const o of l){let l,s;try{l=a(53588)(`./${o}.svg`)}catch(t){l=null,s=this.initialDisplayFor(o)}e.push({id:o,label:this.typeDisplay(w.qt.CREDENTIAL_DRIVER,o),bannerImage:l,bannerAbbrv:s})}}else{for(const t of A)e.push({id:t,label:this.typeDisplay(t),bannerAbbrv:this.initialDisplayFor(t),description:this.t(`secret.typeDescriptions.'${t}'.description`),docLink:this.t(`secret.typeDescriptions.'${t}'.docLink`)});e.push({id:"custom",label:this.t("secret.customType"),bannerAbbrv:this.initialDisplayFor("custom"),description:this.t("secret.typeDescriptions.custom.description")})}return(0,B.Ul)(e,"label")},namespaces(){return this.$store.getters["cluster/all"](u.CU).map((e=>({label:e.nameDisplay,value:e.id})))},hideSensitiveData(){return this.$store.getters["prefs/get"](V.qv)},dataLabel(){switch(this.value._type){case c.J.TLS:return this.t("secret.certificate.certificate");case c.J.SSH:return this.t("secret.ssh.keys");case c.J.BASIC:return this.t("secret.authentication");default:return this.t("secret.data")}},doneRoute(){return this.$store.getters["currentProduct"].name===E.o?"c-cluster-manager-secret":"c-cluster-product-resource"}},methods:{async saveSecret(e){if(this.errors&&(0,C.IU)(this.errors),"function"===typeof this.$refs.cloudComponent?.test)try{const t=await this.$refs.cloudComponent.test();if(!t||t?.errors)return this.errors=t?.errors?t.errors:["Authentication test failed, please check your credentials"],void e(!1)}catch(t){return this.errors=[t],void e(!1)}return this.save(e)},selectType(e){let t;this.isCloud&&(e===c.J.CLOUD_CREDENTIAL?t=this.driverName:(t=e,e=c.J.CLOUD_CREDENTIAL),this.mode===g.YQ&&this.value.setAnnotation(w.qt.CREDENTIAL_DRIVER,t)),this.value["_type"]=e,this.$emit("set-subtype",this.typeDisplay(e,t)),this.secretType=e,this.mode===g.YQ&&"custom"===e&&(this.value["_type"]="")},typeDisplay(e,t){if(e===w.qt.CREDENTIAL_DRIVER)return this.$store.getters["i18n/withFallback"](`cluster.provider."${t}"`,null,t);{const t=e.replace(/^kubernetes.io\//,"");return this.$store.getters["i18n/withFallback"](`secret.types."${e}"`,null,t)}},initialDisplayFor(e){const t=((0,x.TF)(this.typeDisplay(e)||"").replace(/[^A-Z]/g,"")||e).substr(0,3);return this.$store.getters["i18n/withFallback"](`secret.initials."${e}"`,null,t)},selectCustomType(e){"custom"!==e&&(this.value["_type"]=e)}}},_=a(47433);const U=(0,_.A)(D,[["render",d]]);var T=U},7093:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var l=a(9274);const o={class:"row mb-10"},s={class:"col span-12"},r={key:0,class:"row mb-20"},n={class:"row mb-20"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(m,{value:u.registryProvider,"onUpdate:value":t[0]||(t[0]=e=>u.registryProvider=e),name:"registryProvider",mode:a.mode,options:p.registryAddresses},null,8,["value","mode","options"])])]),p.needsDockerServer?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createVNode)(v,{value:u.registryUrl,"onUpdate:value":t[1]||(t[1]=e=>u.registryUrl=e),required:"",label:e.t("secret.registry.domainName"),placeholder:"e.g. index.docker.io",mode:a.mode},null,8,["value","label","mode"])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.username,"onUpdate:value":t[2]||(t[2]=e=>u.username=e),label:e.t("secret.registry.username"),mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(v,{value:u.password,"onUpdate:value":t[3]||(t[3]=e=>u.password=e),label:e.t("secret.registry.password"),mode:a.mode,type:"password"},null,8,["value","label","mode"])])])])}var u=a(5327),p=a(21221),m={components:{LabeledInput:u.o,RadioGroup:p.z},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){let e,t="Custom";try{const t=JSON.parse(this.value.decodedData[".dockerconfigjson"]);e=t.auths}catch(s){}e=e||{};const a=Object.keys(e)[0]||"";"index.docker.io/v1/"===a?t="DockerHub":"quay.io"===a?t="Quay.io":a.includes("artifactory")&&(t="Artifactory");const l=e[a]?.username||"",o=e[a]?.password||"";return{registryProvider:t,username:l,password:o,registryUrl:a}},computed:{registryAddresses(){return["Custom","DockerHub","Quay.io","Artifactory"]},needsDockerServer(){return"Artifactory"===this.registryProvider||"Custom"===this.registryProvider},dockerconfigjson(){let e="DockerHub"===this.registryProvider?"index.docker.io/v1/":"quay.io";if(this.needsDockerServer&&(e=this.registryUrl),e){const t={auths:{[e]:{username:this.username,password:this.password}}},a=JSON.stringify(t);return a}return null}},watch:{registryProvider:"update",registryUrl:"update",username:"update",password:"update"},methods:{update(){this.value.setData(".dockerconfigjson",this.dockerconfigjson)}}},v=a(47433);const h=(0,v.A)(m,[["render",c]]);var b=h},59287:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("FileSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.username,"onUpdate:value":t[0]||(t[0]=e=>i.username=e),type:"multiline",label:e.t("secret.ssh.public"),mode:a.mode,required:"",placeholder:e.t("secret.ssh.publicPlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onUsernameSelected},null,8,["label","onSelected"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(c,{value:i.password,"onUpdate:value":t[1]||(t[1]=e=>i.password=e),type:"multiline",label:e.t("secret.ssh.private"),mode:a.mode,required:"",placeholder:e.t("secret.ssh.privatePlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onPasswordSelected},null,8,["label","onSelected"])])])])}var i=a(5327),d=a(28794),c={components:{LabeledInput:i.o,FileSelector:d.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData["ssh-publickey"]||"",t=this.value.decodedData["ssh-privatekey"]||"";return{username:e,password:t}},watch:{username:"update",password:"update"},methods:{onUsernameSelected:(0,d.B)("username"),onPasswordSelected:(0,d.B)("password"),update(){this.value.setData("ssh-publickey",this.username),this.value.setData("ssh-privatekey",this.password)}}},u=a(47433);const p=(0,u.A)(c,[["render",n]]);var m=p},89228:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("FileSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.key,"onUpdate:value":t[0]||(t[0]=e=>i.key=e),type:"multiline",label:e.t("secret.certificate.privateKey"),mode:a.mode,placeholder:e.t("secret.certificate.privateKeyPlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onKeySelected},null,8,["label","onSelected"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(c,{value:i.crt,"onUpdate:value":t[1]||(t[1]=e=>i.crt=e),required:"",type:"multiline",label:e.t("secret.certificate.certificate"),mode:a.mode,placeholder:e.t("secret.certificate.certificatePlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onCrtSelected},null,8,["label","onSelected"])])])])}var i=a(71779),d=a(5327),c=a(28794),u={components:{LabeledInput:d.o,FileSelector:c.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData["tls.key"]||"",t=this.mode===i.G5?"":e,a=this.value.decodedData["tls.crt"]||"";return{originalKey:e,key:t,crt:a}},watch:{key:"update",crt:"update"},methods:{onKeySelected:(0,c.B)("key"),onCrtSelected:(0,c.B)("crt"),update(){let e;e=this.mode!==i.G5||this.key.length?this.key:this.originalKey,this.value.setData("tls.crt",this.crt),this.value.setData("tls.key",e)}}},p=a(47433);const m=(0,p.A)(u,[["render",n]]);var v=m},42750:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-723bdc1d"),e=e(),(0,l.popScopeId)(),e),s={class:"label"},r={class:"text-label"},n={class:"mt-10"},i=["onClick"],d=o((()=>(0,l.createElementVNode)("i",{class:"icon icon-plus icon-sm"},null,-1))),c={key:1,class:"tag input"};function u(e,t,a,o,u,p){const m=(0,l.resolveComponent)("t"),v=(0,l.resolveComponent)("Tag");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[a.labelKey?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,k:a.labelKey},null,8,["k"])):a.label?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)((0,l.toDisplayString)(a.label),1)],64)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",n,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.value,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(v,{key:t,class:"tag"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e),1),p.canRemove?((0,l.openBlock)(),(0,l.createElementBlock)("i",{key:0,class:"icon icon-close ml-5 icon-sm",onClick:t=>p.onRemoveTag(e)},null,8,i)):(0,l.createCommentVNode)("",!0)])),_:2},1024)))),128)),p.addVisible&&!u.inputVisible?((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:0,class:"tag add",onClick:t[0]||(t[0]=(...e)=>p.onClickPlusButton&&p.onClickPlusButton(...e))},[d,(0,l.createElementVNode)("span",null,[a.addLabelKey?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,k:a.addLabelKey},null,8,["k"])):a.addLabel?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)((0,l.toDisplayString)(a.addLabel),1)],64)):(0,l.createCommentVNode)("",!0)])])):p.addVisible&&u.inputVisible?((0,l.openBlock)(),(0,l.createElementBlock)("span",c,[(0,l.withDirectives)((0,l.createElementVNode)("input",{ref:"addTagInput","onUpdate:modelValue":t[1]||(t[1]=e=>u.inputValue=e),type:"text",size:"small",onBlur:t[2]||(t[2]=(...e)=>p.confirmAdd&&p.confirmAdd(...e)),onKeydown:t[3]||(t[3]=(0,l.withKeys)((0,l.withModifiers)(((...e)=>p.confirmAdd&&p.confirmAdd(...e)),["prevent"]),["enter"]))},null,544),[[l.vModelText,u.inputValue]])])):(0,l.createCommentVNode)("",!0)])])}var p=a(71779),m=a(98763),v={name:"Tags",emits:["update:value"],components:{Tag:m.A},props:{value:{type:Array,required:!0},label:{type:String,default:""},labelKey:{type:String,default:""},addLabel:{type:String,default:""},addLabelKey:{type:String,default:""},canAdd:{type:Boolean,default:!0},mode:{type:String,default:p.YQ},disabled:{type:Boolean,default:!1}},data(){return{tags:this.value,inputVisible:!1,inputValue:""}},computed:{isCreate(){return this.mode===p.YQ},isView(){return this.mode===p.nW},isEdit(){return this.mode===p.G5},canRemove(){return!this.isView},addVisible(){return this.canAdd&&!this.isView}},methods:{onClickPlusButton(){this.inputVisible=!0,this.$nextTick((()=>{this.$refs.addTagInput&&this.$refs.addTagInput.focus()}))},confirmAdd(){this.inputValue&&!this.value.includes(this.inputValue)&&(this.tags.push(this.inputValue),this.$emit("update:value",this.tags)),this.inputValue="",this.inputVisible=!1},onRemoveTag(e){this.tags=this.tags.filter((t=>t!==e)),this.$emit("update:value",this.tags)}}},h=(a(45096),a(47433));const b=(0,h.A)(v,[["render",u],["__scopeId","data-v-723bdc1d"]]);var g=b},36955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("FileSelector"),c=(0,l.resolveComponent)("TextAreaAutoGrow");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{class:"btn btn-sm bg-primary mb-10",label:e.t("generic.readFromFile"),onSelected:i.onKeySelected},null,8,["label","onSelected"]),(0,l.createElementVNode)("div",null,[(0,l.createVNode)(c,{value:e.value.value,"onUpdate:value":t[0]||(t[0]=t=>e.value.value=t),"min-height":254},null,8,["value"])])])])])}var n=a(72706),i=a(28794),d=a(57848),c={name:"HarvesterAdditionalCA",components:{FileSelector:i.A,TextAreaAutoGrow:d.V},mixins:[n.A],methods:{onKeySelected:(0,i.B)("value.value")}},u=a(47433);const p=(0,u.A)(c,[["render",r]]);var m=p},53867:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.ratio,"onUpdate:value":[t[0]||(t[0]=e=>n.ratio=e),i.update],label:e.t("harvester.setting.ratio")},null,8,["value","label","onUpdate:value"])])])}var n=a(72706),i=a(5327),d={name:"AdditionalGuestMemoryOverheadRatio",components:{LabeledInput:i.o},mixins:[n.A],data(){return{ratio:this.value.value||this.value.default}},methods:{update(){this.value["value"]=this.ratio},useDefault(){this["ratio"]=this.value.default,this.update()}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},76395:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("RadioGroup"),c=(0,l.resolveComponent)("UnitInput"),u=(0,l.resolveDirective)("int-number");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.parseDefaultValue.enable,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.enable=e),i.update],class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","labels","onUpdate:value"]),n.parseDefaultValue.enable?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(c,{key:0,value:n.parseDefaultValue.expiringInHours,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.expiringInHours=e),i.update],class:"mb-20",min:1,max:8759,required:!0,suffix:1===n.parseDefaultValue.expiringInHours?"Hour":"Hours",label:e.t("harvester.setting.autoRotateRKE2Certs.expiringInHours"),mode:e.mode},null,8,["value","suffix","label","mode","onUpdate:value"])),[[u]]):(0,l.createCommentVNode)("",!0)])])}var n=a(72706),i=a(21221),d=a(57903),c={name:"HarvesterAutoRotateRKE2Certs",components:{RadioGroup:i.z,UnitInput:d.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},u=(a(77397),a(47433));const p=(0,u.A)(c,[["render",r],["__scopeId","data-v-f5bf7aea"]]);var m=p},41084:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var l=a(9274);const o={class:"col span-12"},s={class:"mb-20"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("LabeledSelect"),c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("Tip"),p=(0,l.resolveComponent)("Password"),m=(0,l.resolveComponent)("MessageLink");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row","onUpdate:value":t[7]||(t[7]=(...e)=>i.update&&i.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(d,{value:n.parseDefaultValue.type,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.type=e),i.update],class:"mb-20",label:e.t("harvester.fields.type"),options:i.typeOption},null,8,["value","label","options","onUpdate:value"]),(0,l.createVNode)(c,{value:n.parseDefaultValue.endpoint,"onUpdate:value":t[1]||(t[1]=e=>n.parseDefaultValue.endpoint=e),class:"mb-5",placeholder:i.endpointPlaceholder,mode:e.mode,label:"Endpoint"},null,8,["value","placeholder","mode"]),(0,l.createVNode)(u,{class:"mb-20",icon:"icon icon-info",text:e.t("harvester.backup.backupTargetTip")},null,8,["text"]),i.isS3?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createVNode)(c,{value:n.parseDefaultValue.bucketName,"onUpdate:value":t[2]||(t[2]=e=>n.parseDefaultValue.bucketName=e),class:"mb-20",mode:e.mode,label:"Bucket Name",required:""},null,8,["value","mode"]),(0,l.createVNode)(c,{value:n.parseDefaultValue.bucketRegion,"onUpdate:value":t[3]||(t[3]=e=>n.parseDefaultValue.bucketRegion=e),class:"mb-20",mode:e.mode,label:"Bucket Region",required:""},null,8,["value","mode"]),(0,l.createVNode)(c,{value:n.parseDefaultValue.accessKeyId,"onUpdate:value":t[4]||(t[4]=e=>n.parseDefaultValue.accessKeyId=e),placeholder:e.t("harvester.setting.placeholder.accessKeyId"),class:"mb-20",mode:e.mode,label:"Access Key ID",required:""},null,8,["value","placeholder","mode"]),(0,l.createVNode)(p,{value:n.parseDefaultValue.secretAccessKey,"onUpdate:value":t[5]||(t[5]=e=>n.parseDefaultValue.secretAccessKey=e),class:"mb-20",mode:e.mode,placeholder:e.t("harvester.setting.placeholder.secretAccessKey"),label:"Secret Access Key",required:""},null,8,["value","mode","placeholder"]),(0,l.createVNode)(d,{value:n.parseDefaultValue.virtualHostedStyle,"onUpdate:value":[t[6]||(t[6]=e=>n.parseDefaultValue.virtualHostedStyle=e),i.update],class:"mb-20",label:"Virtual Hosted-Style",options:i.virtualHostedStyleType},null,8,["value","options","onUpdate:value"]),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(u,{icon:"icon icon-info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{to:i.toCA,target:"_blank","prefix-label":"harvester.setting.message.ca.prefix","middle-label":"harvester.setting.message.ca.middle","suffix-label":"harvester.setting.message.ca.suffix"},null,8,["to"])])),_:1})])],64)):(0,l.createCommentVNode)("",!0)])],32)}var n=a(41920),i=a(95261),d=a(45842),c=a(72706),u=a(5327),p=a(80316),m=a(5415),v={name:"HarvesterEditBackupTarget",components:{LabeledInput:u.o,LabeledSelect:p.A,Tip:n.A,Password:i.A,MessageLink:d.A},mixins:[c.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e={type:"",endpoint:""}}return e.type||(e.type="s3"),{parseDefaultValue:e,errors:[]}},computed:{typeOption(){return[{value:"nfs",label:"NFS"},{value:"s3",label:"S3"}]},virtualHostedStyleType(){return[{value:!0,label:"True"},{value:!1,label:"False"}]},isS3(){return"s3"===this.parseDefaultValue.type},endpointPlaceholder(){return this.isS3?"":"nfs://server:/path/"},toCA(){return`${m.EP.ADDITIONAL_CA}?mode=edit`}},watch:{value:{handler(e){let t;try{t=JSON.parse(e.value)}catch(a){t={type:"",endpoint:""}}this["parseDefaultValue"]=t,this.update()},deep:!0}},created(){this.update()},methods:{update(){this.isS3||(delete this.parseDefaultValue.accessKeyId,delete this.parseDefaultValue.secretAccessKey,delete this.parseDefaultValue.bucketName,delete this.parseDefaultValue.bucketRegion,delete this.parseDefaultValue.virtualHostedStyle,delete this.parseDefaultValue.cert);const e=JSON.stringify(this.parseDefaultValue);this.parseDefaultValue.type?this.value["value"]=e:delete this.value["value"]},useDefault(){const e={type:"",endpoint:""};this["parseDefaultValue"]=e}}},h=(a(34984),a(47433));const b=(0,h.A)(v,[["render",r],["__scopeId","data-v-3ec80c26"]]);var g=b},51032:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-6d178477"),e=e(),(0,l.popScopeId)(),e),s=["onClick"],r=o((()=>(0,l.createElementVNode)("i",{class:"icon icon-2x icon-x"},null,-1))),n=[r],i={class:"row mb-20"},d={class:"col span-12"},c={class:"mb-20"},u={class:"row mb-20"},p=o((()=>(0,l.createElementVNode)("hr",{class:"divider mt-20 mb-20"},null,-1))),m=["onClick"],v=o((()=>(0,l.createElementVNode)("i",{class:"icon icon-2x icon-x"},null,-1))),h=[v],b={class:"row mb-20"},g={class:"col span-12"},f={class:"col span-12"},y={class:"row mb-20"},k={class:"col span-6"},N={class:"col span-6"},V={class:"row mb-20"},w={class:"col span-6"},C={class:"col span-6"},E={class:"row"};function S(e,t,a,o,r,v){const S=(0,l.resolveComponent)("LabeledInput"),B=(0,l.resolveComponent)("LabeledSelect"),x=(0,l.resolveComponent)("KeyValue"),A=(0,l.resolveComponent)("InfoBox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.mirrors.mirrors")),1),(0,l.createElementVNode)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(r.mirrors,((o,r)=>((0,l.openBlock)(),(0,l.createBlock)(A,{key:o.idx,class:"box"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{type:"button",class:"role-link btn btn-sm remove",onClick:e=>v.remove("mirrors",r)},n,8,s),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(S,{value:o.key,"onUpdate:value":[e=>o.key=e,v.update],mode:a.mode,required:"","label-key":"harvester.setting.containerdRegistry.mirrors.registryName",onKeydown:t[0]||(t[0]=(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode"])])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(B,{value:o.value.Endpoints,"onUpdate:value":[e=>o.value.Endpoints=e,v.update],mode:a.mode,required:"","label-key":"harvester.setting.containerdRegistry.mirrors.endpoints",multiple:!0,taggable:!0,searchable:!0,options:[],onKeydown:t[1]||(t[1]=(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(x,{value:o.value.Rewrites,"onUpdate:value":[e=>o.value.Rewrites=e,v.update],"add-label":e.t("harvester.setting.containerdRegistry.mirrors.rewrite.addRewrite"),mode:a.mode,title:e.t("harvester.setting.containerdRegistry.mirrors.rewrite.rewrite"),"read-allowed":!1,"value-can-be-empty":!0,onKeydown:t[2]||(t[2]=(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","add-label","mode","title"])])])),_:2},1024)))),128))]),(0,l.createElementVNode)("button",{class:"btn btn-sm role-primary",onClick:t[3]||(t[3]=(0,l.withModifiers)(((...e)=>v.addMirror&&v.addMirror(...e)),["self"]))},(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.mirrors.addMirror")),1),p,(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.configs.configs")),1),(0,l.createElementVNode)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(r.configs,((t,o)=>((0,l.openBlock)(),(0,l.createBlock)(A,{key:t.idx,class:"box"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{type:"button",class:"role-link btn btn-sm remove",onClick:e=>v.remove("configs",o)},h,8,m),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(S,{value:t.key,"onUpdate:value":[e=>t.key=e,v.update],mode:a.mode,placeholder:e.t("harvester.setting.containerdRegistry.configs.registryPlaceholder"),"label-key":"harvester.setting.containerdRegistry.configs.registryEDQNorIP"},null,8,["value","onUpdate:value","mode","placeholder"])])])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(S,{value:t.value.Auth.Username,"onUpdate:value":[e=>t.value.Auth.Username=e,v.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.username"},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(S,{value:t.value.Auth.Password,"onUpdate:value":[e=>t.value.Auth.Password=e,v.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.password"},null,8,["value","onUpdate:value","mode"])])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(S,{value:t.value.Auth.Auth,"onUpdate:value":[e=>t.value.Auth.Auth=e,v.update],mode:a.mode,type:"multiline","min-height":150,"label-key":"harvester.setting.containerdRegistry.configs.auth"},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(S,{value:t.value.Auth.IdentityToken,"onUpdate:value":[e=>t.value.Auth.IdentityToken=e,v.update],mode:a.mode,type:"multiline","min-height":150,"label-key":"harvester.setting.containerdRegistry.configs.identityToken"},null,8,["value","onUpdate:value","mode"])])]),(0,l.createElementVNode)("div",E,[(0,l.createVNode)(B,{value:t.value.TLS.InsecureSkipVerify,"onUpdate:value":[e=>t.value.TLS.InsecureSkipVerify=e,v.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.insecureSkipVerify",options:v.insecureSkipVerifyOption},null,8,["value","onUpdate:value","mode","options"])])])),_:2},1024)))),128)),(0,l.createElementVNode)("button",{class:"btn btn-sm role-primary",onClick:t[4]||(t[4]=(...e)=>v.addConfig&&v.addConfig(...e))},(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.configs.addConfig")),1)])])}var B=a(5327),x=a(71779),A=a(41594),D=a(80316),_=a(14815),U=a(26865),T=a(3384),M={name:"HarvesterContainerdRegistry",components:{InfoBox:U.A,KeyValue:_.A,LabeledInput:B.o,LabeledSelect:D.A},props:{mode:{type:String,default:x.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},data(){const e={Endpoints:[],Rewrites:{}},t={Auth:{Username:"",Password:"",Auth:"",IdentityToken:""},TLS:{InsecureSkipVerify:!1}};let a={};const l={Mirrors:{"":(0,T.o8)(e)},Configs:{}};try{a=JSON.parse(this.value.value)}catch(c){a=l}Object.keys(a).length||(a=l);const o=a.Mirrors||{},s=a.Configs||{},r=Object.keys(o),n=Object.keys(s),i=r.map((e=>({key:e,value:a.Mirrors[e],idx:(0,A.vx)(5).toLowerCase()}))),d=n.map((e=>(a.Configs[e]?.Auth||(a.Configs[e].Auth=t.Auth),{key:e,value:a.Configs[e],idx:(0,A.vx)(5).toLowerCase()})));return{mirrors:i,configs:d,originMirror:e,originConfig:t,mirrorsKeys:r,configsKeys:n,errors:[]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{insecureSkipVerifyOption(){return[{label:"True",value:!0},{label:"False",value:!1}]}},methods:{willSave(){const e=[];if(this.value.value)try{JSON.parse(this.value.value),this.mirrors.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.mirrors.registryName")},!0)),0===t.value.Endpoints.length&&e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.mirrors.endpoints")},!0))})),this.configs.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.configs.registryEDQNorIP")},!0))}))}catch(t){}return e.length>0?Promise.reject(e):Promise.resolve()},update(){const e={},t={};this.mirrors.forEach((t=>{e[t.key]=t.value})),this.configs.forEach((e=>{t[e.key]=e.value}));const a={Mirrors:e,Configs:t};Object.keys(e).length||delete a.Mirrors,Object.keys(t).length||delete a.Configs;const l=Object.keys(a).length?JSON.stringify(a):"";this.value["value"]=l},addMirror(){this.mirrors.push({key:"",value:(0,T.o8)(this.originMirror),idx:(0,A.vx)(5).toLowerCase()}),this.update()},addConfig(){this.configs.push({key:"",value:(0,T.o8)(this.originConfig),idx:(0,A.vx)(5).toLowerCase()}),this.update()},remove(e,t){this[e].splice(t,1),this.update()}},watch:{value:{handler(e){e.value||(this["mirrors"]=[],this["configs"]=[],this.update())},deep:!0}}},L=(a(50325),a(47433));const O=(0,L.A)(M,[["render",S],["__scopeId","data-v-6d178477"]]);var I=O},73261:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-92b1b3bc"),e=e(),(0,l.popScopeId)(),e),s=["disabled","onClick"],r=o((()=>(0,l.createElementVNode)("i",{class:"icon icon-x"},null,-1))),n=[r],i={class:"row"},d={class:"col span-4"},c={class:"col span-4"},u={class:"col span-4"},p=["disabled"];function m(e,t,a,o,r,m){const v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("InfoBox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(r.configArr,((o,r)=>((0,l.openBlock)(),(0,l.createBlock)(h,{key:r},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{disabled:m.disableEdit(o.key),type:"button",class:"role-link btn btn-sm remove",onClick:e=>m.remove(r)},n,8,s),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(v,{value:o.key,"onUpdate:value":[e=>o.key=e,m.update],mode:a.mode,required:"",disabled:m.disableEdit(o.key),"label-key":"harvester.setting.csiDriverConfig.provisioner",searchable:!0,options:m.provisioners,onKeydown:t[0]||(t[0]=(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode","disabled","options"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(v,{value:o.value.volumeSnapshotClassName,"onUpdate:value":[e=>o.value.volumeSnapshotClassName=e,m.update],mode:a.mode,required:"",disabled:m.disableEdit(o.key),options:m.getVolumeSnapshotOptions(o.key),label:e.t("harvester.setting.csiDriverConfig.volumeSnapshotClassName"),onKeydown:t[1]||(t[1]=(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(v,{value:o.value.backupVolumeSnapshotClassName,"onUpdate:value":[e=>o.value.backupVolumeSnapshotClassName=e,m.update],mode:a.mode,required:"",disabled:m.disableEdit(o.key),options:m.getVolumeSnapshotOptions(o.key),label:e.t("harvester.setting.csiDriverConfig.backupVolumeSnapshotClassName"),onKeydown:t[2]||(t[2]=(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"]))},null,8,["value","onUpdate:value","mode","disabled","options","label"])])])])),_:2},1024)))),128)),(0,l.createElementVNode)("button",{class:"btn btn-sm role-primary",disabled:m.disableAdd,onClick:t[3]||(t[3]=(0,l.withModifiers)(((...e)=>m.add&&m.add(...e)),["self"]))},(0,l.toDisplayString)(e.t("generic.add")),9,p)])}var v=a(71779),h=a(80316),b=a(26865),g=a(86639),f=a(32766);const y="driver.longhorn.io";var k={name:"HarvesterCsiDriver",components:{InfoBox:b.A,LabeledSelect:h.A},props:{mode:{type:String,default:v.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:f.Zq}),volumeSnapshotClass:this.$store.dispatch(`${e}/findAll`,{type:f.nE})};await(0,g.kR)(t)},data(){const e=this.value.value||this.value.default,t=this.parseValue(e);return{configArr:t}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{provisioners(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](f.Zq)||[];return t.filter((e=>!this.configArr.map((e=>e.key)).includes(e.name))).map((e=>e.name))},disableAdd(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](f.Zq)||[];return this.configArr.length>=t.length}},methods:{getVolumeSnapshotOptions(e){const t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](f.nE)||[];return a.filter((t=>t.driver===e)).map((e=>({label:e.name,value:e.name})))},parseValue(e){const t=[];let a={};try{a=JSON.parse(e)}catch(l){new Error("json error")}for(const[o,s]of Object.entries(a))t.push({key:o,value:s});return t},update(){const e={};this.configArr.map((t=>{e[t.key]=t.value}));const t=this.configArr.length?JSON.stringify(e):"";this.value["value"]=t},willSave(){this.update();const e=[];try{this.configArr.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.provisioner")},!0)),t.value.volumeSnapshotClassName||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.volumeSnapshotClassName")},!0)),t.value.backupVolumeSnapshotClassName||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.backupVolumeSnapshotClassName")},!0))}))}catch(t){}return e.length>0?Promise.reject(e):Promise.resolve()},remove(e){this.configArr.splice(e,1)},disableEdit(e){return e===y},add(){this.configArr.push({key:"",value:{volumeSnapshotClassName:"",backupVolumeSnapshotClassName:""}})},useDefault(){const e=this.parseValue(this.value.default);this["configArr"]=e,this.update()}}},N=(a(74347),a(47433));const V=(0,N.A)(k,[["render",m],["__scopeId","data-v-92b1b3bc"]]);var w=V},45168:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.terminationGracePeriodSeconds,"onUpdate:value":t[0]||(t[0]=e=>n.terminationGracePeriodSeconds=e),suffix:1===n.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,onInput:i.update},null,8,["value","suffix","label","mode","onInput"])])])}var n=a(72706),i=a(57903),d={name:"DefaultVMTerminationGracePeriodSeconds",components:{UnitInput:i.A},mixins:[n.A],data(){return{terminationGracePeriodSeconds:this.value.value||this.value.default}},methods:{update(){this.value["value"]=String(this.terminationGracePeriodSeconds)},useDefault(){this["terminationGracePeriodSeconds"]=Number(this.value.default),this.update()}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},83239:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("t"),d=(0,l.resolveComponent)("Banner"),c=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(d,{color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{k:"harvester.setting.httpProxy.warning",raw:!0})])),_:1}),(0,l.createElementVNode)("div",{class:"row","onUpdate:value":t[3]||(t[3]=(...e)=>n.update&&n.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("template",null,[(0,l.createVNode)(c,{value:r.parseDefaultValue.httpProxy,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.httpProxy=e),class:"mb-20",mode:e.mode,label:"http-proxy"},null,8,["value","mode"]),(0,l.createVNode)(c,{value:r.parseDefaultValue.httpsProxy,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.httpsProxy=e),class:"mb-20",mode:e.mode,label:"https-proxy"},null,8,["value","mode"]),(0,l.createVNode)(c,{value:r.parseDefaultValue.noProxy,"onUpdate:value":t[2]||(t[2]=e=>r.parseDefaultValue.noProxy=e),class:"mb-20",mode:e.mode,label:"no-proxy"},null,8,["value","mode"])])])],32)])}var r=a(72706),n=a(89121),i=a(5327),d={name:"HarvesterHttpProxy",components:{Banner:n.l,LabeledInput:i.o},mixins:[r.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,errors:[]}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",s]]);var p=u},35459:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("template",null,[(0,l.createVNode)(d,{value:n.parseDefaultValue.ntpServers,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.ntpServers=e),i.update],title:e.t("harvester.host.ntp.label"),protip:e.t("harvester.host.ntp.tips"),"value-placeholder":e.t("harvester.host.ntp.placeholder"),mode:e.mode},null,8,["value","title","protip","value-placeholder","mode","onUpdate:value"])])])])}var n=a(72706),i=a(43528),d={name:"HarvesterNtpServersConfig",components:{ArrayList:i.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e={ntpServers:[]}}return{parseDefaultValue:e}},watch:{value:{handler(e){let t;try{t=JSON.parse(e.value)}catch(a){t={ntpServers:[]}}this["parseDefaultValue"]=t,this.update()},deep:!0}},methods:{useDefault(){const e={ntpServers:[]};this["parseDefaultValue"]=e},update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},30108:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("UnitInput"),c=(0,l.resolveDirective)("int-number");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("template",null,[(0,l.withDirectives)((0,l.createVNode)(d,{value:n.parseDefaultValue.cpu,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.cpu=e),i.update],"label-key":"harvester.generic.cpu",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),[[c]]),(0,l.withDirectives)((0,l.createVNode)(d,{value:n.parseDefaultValue.memory,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.memory=e),i.update],"label-key":"harvester.generic.memory",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),[[c]]),(0,l.withDirectives)((0,l.createVNode)(d,{value:n.parseDefaultValue.storage,"onUpdate:value":[t[2]||(t[2]=e=>n.parseDefaultValue.storage=e),i.update],"label-key":"harvester.generic.storage",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),[[c]])])])])}var n=a(72706),i=a(57903),d={name:"HarvesterOvercommitConfig",components:{UnitInput:i.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,errors:[]}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},54122:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-12"},r={class:"mb-10"},n={class:"chooseFile"},i={class:"row mb-20"},d={class:"col span-12"},c={class:"mb-10"},u={class:"chooseFile"},p={class:"row mb-20"},m={class:"col span-12"},v={class:"mb-10"},h={class:"chooseFile"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("FileSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,(0,l.toDisplayString)(e.t("harvester.setting.sslCertificates.publicCertificate")),1),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[0]||(t[0]=e=>f.onKeySelectedCa("publicCertificate",e))}),(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-muted":!g.publicCertificateFileName})},(0,l.toDisplayString)(g.publicCertificateFileName?g.publicCertificateFileName:e.t("harvester.generic.noFileChosen")),3)])])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,(0,l.toDisplayString)(e.t("harvester.setting.sslCertificates.privateKey")),1),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[1]||(t[1]=e=>f.onKeySelectedCa("privateKey",e))}),(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-muted":!g.privateKeyFileName})},(0,l.toDisplayString)(g.privateKeyFileName?g.privateKeyFileName:e.t("harvester.generic.noFileChosen")),3)])])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,(0,l.toDisplayString)(e.t("harvester.setting.sslCertificates.ca")),1),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[2]||(t[2]=e=>f.onKeySelectedCa("ca",e))}),(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-muted":!g.caFileName})},(0,l.toDisplayString)(g.caFileName?g.caFileName:e.t("harvester.generic.noFileChosen")),3)])])])])}var g=a(72706),f=a(28794),y={name:"HarvesterSSLCertificates",components:{FileSelector:f.A},mixins:[g.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,caFileName:"",publicCertificateFileName:"",privateKeyFileName:""}},methods:{onKeySelectedCa(e,t){const{name:a,value:l}=t;this.parseDefaultValue[e]=l,this[`${e}FileName`]=a;const o=JSON.stringify(this.parseDefaultValue);this.value["value"]=o}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},k=(a(92427),a(47433));const N=(0,k.A)(y,[["render",b],["__scopeId","data-v-27a09764"]]);var V=N},13515:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(9274);const o={class:"row mt-10"},s={class:"col span-12"},r={class:"row mt-20"},n={class:"col span-12"};function i(e,t,a,i,d,c){const u=(0,l.resolveComponent)("LabeledSelect"),p=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(u,{value:d.parsedDefaultValue.protocols,"onUpdate:value":[t[0]||(t[0]=e=>d.parsedDefaultValue.protocols=e),c.update],mode:a.mode,"label-key":"harvester.sslParameters.protocols.label",multiple:!0,options:c.protocolOptions},null,8,["value","mode","options","onUpdate:value"])])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(p,{value:d.parsedDefaultValue.ciphers,"onUpdate:value":[t[1]||(t[1]=e=>d.parsedDefaultValue.ciphers=e),c.update],mode:a.mode,"label-key":"harvester.sslParameters.ciphers.label"},null,8,["value","mode","onUpdate:value"])])])])}var d=a(5327),c=a(71779),u=a(80316),p={name:"HarvesterSslParameters",components:{LabeledInput:d.o,LabeledSelect:u.A},props:{mode:{type:String,default:c.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},data(){let e={};try{e=JSON.parse(this.value.value)}catch(a){e=JSON.parse(this.value.default)}const t=e.protocols&&(e.protocols||"").split(" ");return{parsedDefaultValue:{protocols:t,ciphers:e.ciphers}}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{protocolOptions(){return[{label:"TLSv1.3",value:"TLSv1.3"},{label:"TLSv1.2",value:"TLSv1.2"},{label:`TLSv1.1 (${this.t("generic.deprecated")})`,value:"TLSv1.1"},{label:`TLSv1 (${this.t("generic.deprecated")})`,value:"TLSv1"},{label:`SSLv3 (${this.t("generic.deprecated")})`,value:"SSLv3"},{label:`SSLv2 (${this.t("generic.deprecated")})`,value:"SSLv2"}]}},methods:{update(){const e={protocols:(this.parsedDefaultValue.protocols||[]).join(" "),ciphers:this.parsedDefaultValue.ciphers},t=JSON.stringify(e);this.value["value"]=t},willSave(){const e=[],t=this.parsedDefaultValue.ciphers,a=this.parsedDefaultValue.protocols||[];t&&0===a.length&&e.push(this.t("validation.required",{key:this.t("harvester.sslParameters.protocols.label")},!0)),!t&&a.length>0&&e.push(this.t("validation.required",{key:this.t("harvester.sslParameters.ciphers.label")},!0));const l=/^(:?[A-Z0-9]+(?:-[A-Z0-9]+)+)+$/gm;return!t||t.match(l)&&!t.startsWith(":")||e.push(this.t("validation.invalid",{key:this.t("harvester.sslParameters.ciphers.label")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}},watch:{"value.value":{handler(e){e===this.value.default&&(this.parsedDefaultValue.protocols=[],this.parsedDefaultValue.ciphers="")},deep:!0}}},m=a(47433);const v=(0,m.A)(p,[["render",i]]);var h=v},85289:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var l=a(9274);const o={key:0},s={class:"box"},r={class:"key"},n={class:"key"},i=["onUpdate:modelValue","placeholder"];function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("t"),m=(0,l.resolveComponent)("Banner"),v=(0,l.resolveComponent)("RadioGroup"),h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("LabeledSelect"),g=(0,l.resolveComponent)("Tip"),f=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(a.mode),"onUpdate:value":t[6]||(t[6]=(...e)=>u.update&&u.update(...e))},[(0,l.createVNode)(m,{color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{k:"harvester.setting.storageNetwork.warning",raw:!0})])),_:1}),(0,l.createVNode)(v,{value:c.openVlan,"onUpdate:value":[t[0]||(t[0]=e=>c.openVlan=e),u.update],class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","labels","onUpdate:value"]),c.openVlan?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createVNode)(h,{modelValue:c.parsedDefaultValue.vlan,"onUpdate:modelValue":t[1]||(t[1]=e=>c.parsedDefaultValue.vlan=e),modelModifiers:{number:!0},class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.storageNetwork.vlan"},null,8,["modelValue","mode"]),(0,l.createVNode)(b,{value:c.parsedDefaultValue.clusterNetwork,"onUpdate:value":[t[2]||(t[2]=e=>c.parsedDefaultValue.clusterNetwork=e),u.update],"label-key":"harvester.setting.storageNetwork.clusterNetwork",class:"mb-20",required:"",options:u.clusterNetworkOptions},null,8,["value","options","onUpdate:value"]),(0,l.createVNode)(h,{value:c.parsedDefaultValue.range,"onUpdate:value":t[3]||(t[3]=e=>c.parsedDefaultValue.range=e),class:"mb-5",mode:a.mode,required:"",placeholder:e.t("harvester.setting.storageNetwork.range.placeholder"),"label-key":"harvester.setting.storageNetwork.range.label"},null,8,["value","mode","placeholder"]),(0,l.createVNode)(g,{class:"mb-20",icon:"icon icon-info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{k:"harvester.setting.storageNetwork.tip",raw:!0,url:u.storageNetworkExampleLink},null,8,["url"])])),_:1}),(0,l.createVNode)(f,{value:c.exclude,"onUpdate:value":[t[5]||(t[5]=e=>c.exclude=e),u.update],"show-header":!0,"default-add-value":c.defaultAddValue,mode:a.mode,"add-label":e.t("harvester.setting.storageNetwork.exclude.addIp")},{"column-headers":(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,(0,l.toDisplayString)(e.t("harvester.setting.storageNetwork.exclude.label")),1)])])),columns:(0,l.withCtx)((a=>[(0,l.createElementVNode)("div",n,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":e=>a.row.value=e,placeholder:e.t("harvester.setting.storageNetwork.exclude.placeholder"),"onUpdate:value":t[4]||(t[4]=(...e)=>u.update&&u.update(...e))},null,40,i),[[l.vModelText,a.row.value]])])])),_:1},8,["value","default-add-value","mode","add-label","onUpdate:value"])])):(0,l.createCommentVNode)("",!0)],34)}var c=a(5327),u=a(80316),p=a(21221),m=a(43528);const v=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(3[0-2]|2[0-9]|1[0-9]|[0-9])$/;function h(e){return!!e.match(v)}var b=a(71779),g=a(89121),f=a(41920),y=a(86639),k=a(20665),N=a(32766),V=a(66242),w={name:"HarvesterEditStorageNetwork",components:{ArrayList:m.A,Tip:f.A,Banner:g.l,LabeledInput:c.o,LabeledSelect:u.A,RadioGroup:p.z},props:{registerBeforeHook:{type:Function,required:!0},mode:{type:String,default:b.G5},value:{type:Object,default:()=>({})}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,y.kR)({clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:N.rk.CLUSTER_NETWORK}),vlanStatus:this.$store.dispatch(`${e}/findAll`,{type:N.rk.VLAN_STATUS}),nodes:this.$store.dispatch(`${e}/findAll`,{type:k.NW})})},data(){let e={},t=!1;try{e=JSON.parse(this.value.value),t=!0}catch(l){e={vlan:"",clusterNetwork:"",range:"",exclude:[]}}const a=e?.exclude?.toString().split(",")||[];return{openVlan:t,errors:[],exclude:a,parsedDefaultValue:e,defaultAddValue:""}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{storageNetworkExampleLink(){return V.T.STORAGE_NETWORK_EXAMPLE},clusterNetworkOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](N.rk.CLUSTER_NETWORK)||[];return t.map((e=>{const t=!e.isReadyForStorageNetwork;return{label:t?`${e.id} (${this.t("generic.notReady")})`:e.id,value:e.id,disabled:t}}))}},methods:{update(){const e=this.exclude.filter((e=>e));Array.isArray(e)&&e.length>0?this.parsedDefaultValue.exclude=e:delete this.parsedDefaultValue.exclude;const t=JSON.stringify(this.parsedDefaultValue);this.openVlan?this.value["value"]=t:this.value["value"]=""},willSave(){this.update();const e=[];if(!this.openVlan)return Promise.resolve();{const t=!!/^(?:(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\/([1-9]|[1-2]\d|3[0-2])$/.test(this.parsedDefaultValue.range);if(t||e.push(this.t("harvester.setting.storageNetwork.range.invalid",null,!0)),this.parsedDefaultValue.vlan||e.push(this.t("validation.required",{key:this.t("harvester.setting.storageNetwork.vlan")},!0)),this.parsedDefaultValue.clusterNetwork||e.push(this.t("validation.required",{key:this.t("harvester.setting.storageNetwork.clusterNetwork")},!0)),this.exclude){const t=this.exclude.find((e=>!h(e)));t&&e.push(this.t("harvester.setting.storageNetwork.exclude.invalid",null,!0))}}return e.length>0?Promise.reject(e):Promise.resolve()}}},C=a(47433);const E=(0,C.A)(w,[["render",d]]);var S=E},91222:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("LabeledInput"),d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row",onInput:t[3]||(t[3]=(...e)=>n.update&&n.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("template",null,[(0,l.createVNode)(i,{value:r.parseDefaultValue.repository,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.repository=e),class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.supportBundleImage.repo"},null,8,["value","mode"]),(0,l.createVNode)(i,{value:r.parseDefaultValue.tag,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.tag=e),class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.supportBundleImage.tag"},null,8,["value","mode"]),(0,l.createVNode)(d,{value:r.parseDefaultValue.imagePullPolicy,"onUpdate:value":t[2]||(t[2]=e=>r.parseDefaultValue.imagePullPolicy=e),class:"mb-20",required:"","label-key":"harvester.setting.supportBundleImage.imagePullPolicy",options:n.imagePolicyOptions,onInput:n.update},null,8,["value","options","onInput"])])])],32)}var r=a(71779),n=a(5327),i=a(80316),d={name:"HarvesterSupportBundleImage",components:{LabeledInput:n.o,LabeledSelect:i.A},props:{registerBeforeHook:{type:Function,required:!0},mode:{type:String,default:r.G5},value:{type:Object,default:()=>({})}},data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update(),this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{imagePolicyOptions(){return[{label:this.t("generic.imagePullPolicy.always"),value:"Always"},{label:this.t("generic.imagePullPolicy.ifNotPresent"),value:"IfNotPresent"},{label:this.t("generic.imagePullPolicy.never"),value:"Never"}]}},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e},willSave(){const e=[];return this.parseDefaultValue.repository||e.push(this.t("validation.required",{key:this.t("harvester.setting.supportBundleImage.repo")},!0)),this.parseDefaultValue.tag||e.push(this.t("validation.required",{key:this.t("harvester.setting.supportBundleImage.tag")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",s]]);var p=u},30859:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.namespaces,"onUpdate:value":[t[0]||(t[0]=e=>n.namespaces=e),i.update],multiple:!0,"label-key":"nameNsDescription.namespace.label",mode:e.mode,options:i.namespaceOptions},null,8,["value","mode","options","onUpdate:value"])])])}var n=a(20665),i=a(72706),d=a(80316),c={name:"HarvesterBundleNamespaces",components:{LabeledSelect:d.A},mixins:[i.A],async fetch(){await this.$store.dispatch("harvester/findAll",{type:n.CU})},data(){let e=[];const t=this.value?.value||this.value?.default||"";return t&&(e=t.split(",")),{namespaces:e}},computed:{namespaceOptions(){return this.$store.getters["harvester/all"](n.CU).map((e=>({label:e.id,value:e.id})))}},methods:{update(){const e=this.namespaces.join(",");this.value["value"]=e}},watch:{"value.value":{handler(e){e!==this.value.default&&e||(this.namespaces=[])},deep:!0}}},u=a(47433);const p=(0,u.A)(c,[["render",r]]);var m=p},10384:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("RadioGroup"),d=(0,l.resolveComponent)("LabeledInput"),c=(0,l.resolveDirective)("int-number");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row",onInput:t[2]||(t[2]=(...e)=>n.update&&n.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(i,{value:r.parseDefaultValue.enable,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.enable=e),class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")],onInput:n.update},null,8,["value","labels","onInput"]),r.parseDefaultValue.enable?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,modelValue:r.parseDefaultValue.period,"onUpdate:modelValue":t[1]||(t[1]=e=>r.parseDefaultValue.period=e),modelModifiers:{number:!0},class:"mb-20",mode:e.mode,"label-key":"harvester.setting.vmForceDeletionPolicy.period"},null,8,["modelValue","mode"])),[[c]]):(0,l.createCommentVNode)("",!0)])],32)}var r=a(72706),n=a(5327),i=a(21221),d={name:"HarvesterVMForceDeletePolicy",components:{LabeledInput:n.o,RadioGroup:i.z},mixins:[r.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=(a(97187),a(47433));const u=(0,c.A)(d,[["render",s],["__scopeId","data-v-50bfd026"]]);var p=u},55608:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274);const o={class:"text-default-text"},s={class:"pl-10 pr-10"},r={class:"bottom"},n={class:"buttons"};function i(e,t,a,i,d,c){const u=(0,l.resolveComponent)("Banner"),p=(0,l.resolveComponent)("AsyncButton"),m=(0,l.resolveComponent)("Card"),v=(0,l.resolveComponent)("app-modal"),h=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createBlock)(v,{class:"restart-modal",name:"restartDialog",width:600,height:"auto","click-to-close":!1,onClose:c.close},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{class:"prompt-restart","show-highlight-border":!1},{title:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("h4",o,null,512),[[h,e.t("harvester.modal.restart.title")]])])),body:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",s,null,512),[[h,e.t("harvester.modal.restart.tip")]])])),actions:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",r,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(d.errors,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128)),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e))},(0,l.toDisplayString)(e.t("harvester.modal.restart.cancel")),1),(0,l.createVNode)(p,{mode:"restart",onClick:c.apply},null,8,["onClick"])])])])),_:1})])),_:1},8,["onClose"])}var d=a(65359),c=a(55506),u=a(5068),p=a(89121),m=a(26953),v=a(49882),h=a(26006),b={emits:["close"],components:{AppModal:v.A,Card:u.Z,AsyncButton:c.A,Banner:p.l},props:{vm:{type:Object,required:!0}},data(){return{errors:[],resolve:null}},computed:{...(0,d.L8)({t:"i18n/t"})},methods:{close(){this.resolve(),this.$emit("close")},apply(e){try{this.vm.doActionGrowl("restart",{}),e(!0),this.close()}catch(t){h.error(t),this.errors=(0,m.rz)(t),e(!1)}}}},g=(a(79372),a(47433));const f=(0,g.A)(b,[["render",i],["__scopeId","data-v-e74c29aa"]]);var y=f},26370:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("RadioGroup"),i=(0,l.resolveComponent)("Tab"),d=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(d,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{name:"basic",label:e.t("generic.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(99373),r=a(82906),n=a(21221),i=a(72706),d={name:"EditGenericAddon",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(21030),a(47433));const u=(0,c.A)(d,[["render",o],["__scopeId","data-v-24a677c4"]]);var p=u},17438:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("RadioGroup"),i=(0,l.resolveComponent)("Tab"),d=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(d,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(99373),r=a(82906),n=a(21221),i=a(72706),d={name:"EditSeederAddon",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(19949),a(47433));const u=(0,c.A)(d,[["render",o],["__scopeId","data-v-4b980a18"]]);var p=u},88049:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(n,{resource:a.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(r.currentComponent),{value:a.value,"register-before-hook":e.registerBeforeHook,mode:e.mode},null,8,["value","register-before-hook","mode"]))])),_:1},8,["resource","mode","errors","onFinish"])}var s=a(72706),r=a(57985),n={name:"EditAddon",components:{CruResource:r.A},mixins:[s.A],props:{value:{type:Object,required:!0}},computed:{currentComponent(){const e=this.value.metadata.name;try{return a(2467)(`./${e}.vue`).default}catch{return a(26370)["default"]}}}},i=a(47433);const d=(0,i.A)(n,[["render",o]]);var c=d},54512:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(9274);const o={key:0},s={key:0,class:"row mb-15"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mb-15"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("Banner"),m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("Tab"),b=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[u.parsingSpecError?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,color:"error",label:e.t("harvester.addons.nvidiaDriverToolkit.parsingSpecError",null,{raw:!0})},null,8,["label"])):((0,l.openBlock)(),(0,l.createBlock)(b,{key:1,"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{name:"basic",label:e.t("harvester.addons.nvidiaDriverToolkit.titles.basic"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{value:a.value.spec.enabled,class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")],"onUpdate:value":u.toggleEnable},null,8,["value","mode","labels","onUpdate:value"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[c.valuesContentJson.image?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(v,{value:c.valuesContentJson.image.repo,"onUpdate:value":t[0]||(t[0]=e=>c.valuesContentJson.image.repo=e),mode:a.mode,required:!0,"label-key":"harvester.addons.nvidiaDriverToolkit.image.repository"},null,8,["value","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(v,{value:c.valuesContentJson.image.tag,"onUpdate:value":t[1]||(t[1]=e=>c.valuesContentJson.image.tag=e),mode:a.mode,required:!0,class:"col span-6","label-key":"harvester.addons.nvidiaDriverToolkit.image.tag"},null,8,["value","mode"])])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:c.valuesContentJson.driverLocation,"onUpdate:value":t[2]||(t[2]=e=>c.valuesContentJson.driverLocation=e),mode:a.mode,required:!0,"label-key":"harvester.addons.nvidiaDriverToolkit.driver.location"},null,8,["value","mode"])])])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1}))])}var c=a(82451),u=a.n(c),p=a(20246),m=a.n(p),v=a(3384),h=a(99373),b=a(82906),g=a(21221),f=a(5327),y=a(89121),k=a(72706);const N={image:{repo:"rancher/harvester-nvidia-driver-toolkit"}};var V={name:"EditAddonNvidiaDriverToolkit",components:{Banner:y.l,LabeledInput:f.o,RadioGroup:g.z,Tabbed:h.A,Tab:b.A},mixins:[k.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{initSpec:(0,v.o8)(this.value.spec),valuesContentJson:this.parseValuesContent()}},watch:{valuesContentJson:{handler(e){this.update(e)},deep:!0}},computed:{parsingSpecError(){return this.valuesContentJson&&(void 0===this.valuesContentJson.image||void 0===this.valuesContentJson.driverLocation)}},methods:{parseValuesContent(){try{return u()({},N,m().load(this.value.spec.valuesContent))}catch(e){return this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:e.data||e},{root:!0}),N}},toggleEnable(e){this.resetSpec(),this.value.spec.enabled=e},resetSpec(){this.value.spec=(0,v.o8)(this.initSpec),this.valuesContentJson=this.parseValuesContent()},update(e){this.value.spec.valuesContent=m().dump(e)}}},w=(a(32103),a(47433));const C=(0,w.A)(V,[["render",d],["__scopeId","data-v-4522cd50"]]);var E=C},55821:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("RadioGroup"),i=(0,l.resolveComponent)("Tab"),d=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(d,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(99373),r=a(82906),n=a(21221),i=a(72706),d={name:"EditAddonPCI",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(71318),a(47433));const u=(0,c.A)(d,[["render",o],["__scopeId","data-v-bdc3ab06"]]);var p=u},52059:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"row mt-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-20"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row mt-20"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-20"},v={class:"col span-6"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("RadioGroup"),k=(0,l.resolveComponent)("Tab"),N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(V,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,name:"fluentbit",label:e.t("harvester.logging.configuration.section.fluentbit"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.requests.cpu,"onUpdate:value":t[1]||(t[1]=e=>g.valuesContentJson.fluentbit.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.requests.memory,"onUpdate:value":t[2]||(t[2]=e=>g.valuesContentJson.fluentbit.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.limits.cpu,"onUpdate:value":t[3]||(t[3]=e=>g.valuesContentJson.fluentbit.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.limits.memory,"onUpdate:value":t[4]||(t[4]=e=>g.valuesContentJson.fluentbit.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(k,{key:1,name:"fluentd",label:e.t("harvester.logging.configuration.section.fluentd"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.requests.cpu,"onUpdate:value":t[5]||(t[5]=e=>g.valuesContentJson.fluentd.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.requests.memory,"onUpdate:value":t[6]||(t[6]=e=>g.valuesContentJson.fluentd.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>g.valuesContentJson.fluentd.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.limits.memory,"onUpdate:value":t[8]||(t[8]=e=>g.valuesContentJson.fluentd.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1})}var g=a(82451),f=a.n(g),y=a(99373),k=a(82906),N=a(21221),V=a(5327),w=a(72706),C=a(20246),E=a.n(C);const S={fluentbit:{resources:{limits:{cpu:"200m",memory:"200Mi"},requests:{cpu:"50m",memory:"50Mi"}}},fluentd:{resources:{limits:{cpu:"1000m",memory:"800Mi"},requests:{cpu:"100m",memory:"20Mi"}}}};var B={name:"EditAddonLogging",components:{Tabbed:y.A,Tab:k.A,RadioGroup:N.z,LabeledInput:V.o},mixins:[w.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){let e=S;try{e=f()({},S,E().load(this.value.spec.valuesContent))}catch(t){e=S,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:t.data||t},{root:!0})}return{valuesContentJson:e}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=E().dump(e)},deep:!0,immediate:!0}}},x=(a(85349),a(47433));const A=(0,x.A)(B,[["render",b],["__scopeId","data-v-45a8cb68"]]);var D=A},80908:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return we}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-3c4e5e1e"),e=e(),(0,l.popScopeId)(),e),s=["disabled","href"],r={class:"subtype-content"},n={class:"title"},i={class:"subtype-logo round-image"},d=o((()=>(0,l.createElementVNode)("div",{class:"flex-right"},[(0,l.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))),c={class:"row"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row mt-10"},g={class:"col span-12 mt-5"},f={class:"mb-0"},y={class:"row mt-10"},k={class:"col span-6"},N={class:"col span-6"},V={class:"row mt-10"},w={class:"col span-6"},C={class:"col span-6"},E={class:"row mt-10"},S={class:"col span-6"},B={class:"col span-6"},x={class:"row mt-10"},A={class:"col span-6"},D={class:"col span-6"},_=["disabled","href"],U={class:"subtype-content"},T={class:"title"},M={class:"subtype-logo round-image"},L=o((()=>(0,l.createElementVNode)("div",{class:"flex-right"},[(0,l.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))),O={class:"row mt-10"},I={class:"col span-6"},R={class:"col span-6"},$={class:"row mt-10"},P={class:"col span-6"},q={class:"col span-6"},F=["disabled","href"],K={class:"subtype-content"},j={class:"title"},H={class:"subtype-logo round-image"},G=o((()=>(0,l.createElementVNode)("div",{class:"flex-right"},[(0,l.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))),J={key:1},z={class:"row mt-10"},Q={class:"col span-6"},Y={class:"row mt-10"},W={class:"col span-6"},Z={class:"col span-6"},X={class:"row mt-10"},ee={class:"col span-6"},te={class:"col span-6"};function ae(e,t,a,o,ae,le){const oe=(0,l.resolveComponent)("RadioGroup"),se=(0,l.resolveComponent)("Tab"),re=(0,l.resolveComponent)("LazyImage"),ne=(0,l.resolveComponent)("t"),ie=(0,l.resolveComponent)("LabeledInput"),de=(0,l.resolveComponent)("Tabbed"),ce=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createBlock)(de,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(se,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(oe,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(se,{key:0,name:"prometheus",label:e.t("harvester.setting.harvesterMonitoring.section.prometheus"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{disabled:!ae.externalLinks.prometheus.enabled,href:ae.externalLinks.prometheus.link,target:"_blank",rel:"noopener noreferrer",class:"subtype-banner m-0 mt-10 mb-10"},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(re,{src:ae.externalLinks.prometheus.iconSrc},null,8,["src"])]),(0,l.createElementVNode)("h5",null,[(0,l.createElementVNode)("span",null,[(0,l.createVNode)(ne,{k:ae.externalLinks.prometheus.label},null,8,["k"])])]),d])])],8,s)),[[ce,ae.externalLinks.prometheus.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.scrapeInterval,"onUpdate:value":t[1]||(t[1]=e=>ae.valuesContentJson.prometheus.prometheusSpec.scrapeInterval=e),label:e.t("monitoring.prometheus.config.scrape"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.scrape"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.evaluationInterval,"onUpdate:value":t[2]||(t[2]=e=>ae.valuesContentJson.prometheus.prometheusSpec.evaluationInterval=e),label:e.t("monitoring.prometheus.config.evaluation"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.evaluation"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.retention,"onUpdate:value":t[3]||(t[3]=e=>ae.valuesContentJson.prometheus.prometheusSpec.retention=e),label:e.t("monitoring.prometheus.config.retention"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.retention"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.retentionSize,"onUpdate:value":t[4]||(t[4]=e=>ae.valuesContentJson.prometheus.prometheusSpec.retentionSize=e),label:e.t("monitoring.prometheus.config.retentionSize"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.retentionSize"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("h4",f,(0,l.toDisplayString)(e.t("monitoring.prometheus.config.resourceLimits")),1)])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.cpu,"onUpdate:value":t[5]||(t[5]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.memory,"onUpdate:value":t[6]||(t[6]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.memory,"onUpdate:value":t[8]||(t[8]=e=>ae.valuesContentJson.prometheus.prometheusSpec.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(se,{key:1,name:"nodeExporter",label:e.t("harvester.setting.harvesterMonitoring.section.prometheusNodeExporter"),weight:-2},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",S,[(0,l.createVNode)(ie,{value:le.prometheusNodeExporter.resources.limits.cpu,"onUpdate:value":t[9]||(t[9]=e=>le.prometheusNodeExporter.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",B,[(0,l.createVNode)(ie,{value:le.prometheusNodeExporter.resources.limits.memory,"onUpdate:value":t[10]||(t[10]=e=>le.prometheusNodeExporter.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(ie,{value:le.prometheusNodeExporter.resources.requests.cpu,"onUpdate:value":t[11]||(t[11]=e=>le.prometheusNodeExporter.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",D,[(0,l.createVNode)(ie,{value:le.prometheusNodeExporter.resources.requests.memory,"onUpdate:value":t[12]||(t[12]=e=>le.prometheusNodeExporter.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled&&ae.valuesContentJson.grafana.resources?((0,l.openBlock)(),(0,l.createBlock)(se,{key:2,name:"grafana",label:e.t("harvester.setting.harvesterMonitoring.section.grafana"),weight:-3},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{disabled:!ae.externalLinks.grafana.enabled,href:ae.externalLinks.grafana.link,target:"_blank",rel:"noopener nofollow",class:"subtype-banner m-0 mt-10 mb-10"},[(0,l.createElementVNode)("div",U,[(0,l.createElementVNode)("div",T,[(0,l.createElementVNode)("div",M,[(0,l.createVNode)(re,{src:ae.externalLinks.grafana.iconSrc},null,8,["src"])]),(0,l.createElementVNode)("h5",null,[(0,l.createElementVNode)("span",null,[(0,l.createVNode)(ne,{k:ae.externalLinks.grafana.label},null,8,["k"])])]),L])])],8,_)),[[ce,ae.externalLinks.grafana.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]),(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("div",I,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.requests.cpu,"onUpdate:value":t[13]||(t[13]=e=>ae.valuesContentJson.grafana.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",R,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.requests.memory,"onUpdate:value":t[14]||(t[14]=e=>ae.valuesContentJson.grafana.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("div",P,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.limits.cpu,"onUpdate:value":t[15]||(t[15]=e=>ae.valuesContentJson.grafana.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",q,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.grafana.resources.limits.memory,"onUpdate:value":t[16]||(t[16]=e=>ae.valuesContentJson.grafana.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(se,{key:3,name:"alertmanager",label:e.t("harvester.setting.harvesterMonitoring.section.alertmanager"),weight:-4},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(oe,{value:ae.valuesContentJson.alertmanager.enabled,"onUpdate:value":t[17]||(t[17]=e=>ae.valuesContentJson.alertmanager.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"]),ae.valuesContentJson.alertmanager.enabled?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:0,disabled:!ae.externalLinks.alertmanager.enabled,href:ae.externalLinks.alertmanager.link,target:"_blank",rel:"noopener noreferrer",class:"subtype-banner m-0 mt-10 mb-10"},[(0,l.createElementVNode)("div",K,[(0,l.createElementVNode)("div",j,[(0,l.createElementVNode)("div",H,[(0,l.createVNode)(re,{src:ae.externalLinks.alertmanager.iconSrc},null,8,["src"])]),(0,l.createElementVNode)("h5",null,[(0,l.createElementVNode)("span",null,[(0,l.createVNode)(ne,{k:ae.externalLinks.alertmanager.label},null,8,["k"])])]),G])])],8,F)),[[ce,ae.externalLinks.alertmanager.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]):(0,l.createCommentVNode)("",!0),ae.valuesContentJson.alertmanager.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",J,[(0,l.createElementVNode)("div",z,[(0,l.createElementVNode)("div",Q,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.retention,"onUpdate:value":t[18]||(t[18]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.retention=e),label:e.t("monitoring.prometheus.config.retention"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",Y,[(0,l.createElementVNode)("div",W,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.cpu,"onUpdate:value":t[19]||(t[19]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",Z,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.memory,"onUpdate:value":t[20]||(t[20]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",X,[(0,l.createElementVNode)("div",ee,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.cpu,"onUpdate:value":t[21]||(t[21]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",te,[(0,l.createVNode)(ie,{value:ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.memory,"onUpdate:value":t[22]||(t[22]=e=>ae.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1})}var le=a(82451),oe=a.n(le),se=a(3514),re=a.n(se),ne=a(20246),ie=a.n(ne),de=a(86639),ce=a(26812),ue=a(5327),pe=a(21221),me=a(71915),ve=a(99373),he=a(82906),be=a(72706),ge=a(20665);const fe="cattle-monitoring-system",ye={prometheus:{prometheusSpec:{resources:{limits:{cpu:"1000m",memory:"3000Mi"},requests:{cpu:"750m",memory:"750Mi"}},evaluationInterval:"1m",scrapeInterval:"1m",retention:"5d",retentionSize:"50GiB"}},"prometheus-node-exporter":{resources:{limits:{cpu:"200m",memory:"180Mi"},requests:{cpu:"100m",memory:"30Mi"}}},grafana:{resources:{limits:{cpu:"200m",memory:"500Mi"},requests:{cpu:"100m",memory:"200Mi"}}},alertmanager:{enabled:!1,alertmanagerSpec:{retention:"120h",resources:{limits:{cpu:"1000m",memory:"600Mi"},requests:{cpu:"100m",memory:"100Mi"}}}}};var ke={name:"EditAddonMonitoring",components:{LabeledInput:ue.o,RadioGroup:pe.z,LazyImage:me.A,Tabbed:ve.A,Tab:he.A},mixins:[be.A],async fetch(){const{$store:e,externalLinks:t}=this;if(!e.getters["harvester/schemaFor"](ge.Hr))return;const a=await(0,de.kR)({endpoints:e.dispatch("harvester/findAll",{type:ge.Hr})});if(!re()(a.endpoints)){const e=t.alertmanager,l=t.grafana,o=t.prometheus,s=(0,ce.jq)(a.endpoints,"id",`${fe}/rancher-monitoring-alertmanager`),r=(0,ce.jq)(a.endpoints,"id",`${fe}/rancher-monitoring-grafana`),n=(0,ce.jq)(a.endpoints,"id",`${fe}/rancher-monitoring-prometheus`);re()(s)||re()(s.subsets)||(e.enabled=!0),re()(r)||re()(r.subsets)||(l.enabled=!0),re()(n)||re()(n.subsets)||(o.enabled=!0)}},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=a(41239),t=a(46945),l=this.$store.getters["currentCluster"];let o=ye;try{o=oe()({},ye,ie().load(this.value.spec.valuesContent))}catch(s){o=ye,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:s.data||s},{root:!0})}return{valuesContentJson:o,externalLinks:{alertmanager:{enabled:!1,iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:`/k8s/clusters/${l.id}/api/v1/namespaces/${fe}/services/http:rancher-monitoring-alertmanager:9093/proxy`},grafana:{enabled:!1,iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:`/k8s/clusters/${l.id}/api/v1/namespaces/${fe}/services/http:rancher-monitoring-grafana:80/proxy`},prometheus:{enabled:!1,iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:`/k8s/clusters/${l.id}/api/v1/namespaces/${fe}/services/http:rancher-monitoring-prometheus:9090/proxy`}}}},computed:{prometheusNodeExporter(){return this.valuesContentJson["prometheus-node-exporter"]}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=ie().dump(e)},deep:!0,immediate:!0}}},Ne=(a(21002),a(47433));const Ve=(0,Ne.A)(ke,[["render",ae],["__scopeId","data-v-3c4e5e1e"]]);var we=Ve},15580:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row mb-20"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row mt-20"},c={class:"col span-6"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("RadioGroup"),h=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(h,{value:p.valuesContentJson.hostname,"onUpdate:value":t[1]||(t[1]=e=>p.valuesContentJson.hostname=e),"label-key":"harvester.addons.rancherVcluster.hostname",required:!0,mode:a.mode,placeholder:"rancher.$vip.nip.io"},null,8,["value","mode"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{value:p.valuesContentJson.rancherVersion,"onUpdate:value":t[2]||(t[2]=e=>p.valuesContentJson.rancherVersion=e),"label-key":"harvester.addons.rancherVcluster.rancherVersion",required:!0,disabled:!0},null,8,["value"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(h,{value:p.valuesContentJson.bootstrapPassword,"onUpdate:value":t[3]||(t[3]=e=>p.valuesContentJson.bootstrapPassword=e),"label-key":"harvester.addons.rancherVcluster.password",mode:a.mode,required:!0,type:"password"},null,8,["value","mode"])])])],64)):(0,l.createCommentVNode)("",!0)])}var p=a(82451),m=a.n(p),v=a(20246),h=a.n(v),b=a(5327),g=a(21221);const f={hostname:"",rancherVersion:"",bootstrapPassword:""};var y={name:"EditAddonVcluster",components:{LabeledInput:b.o,RadioGroup:g.z},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},registerBeforeHook:{type:Function,required:!0}},data(){let e={};try{e=m()({},f,h().load(this.value.spec.valuesContent))}catch(t){e=f,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:t.data||t},{root:!0})}return{valuesContentJson:e}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},methods:{willSave(){const e=[];return this.value.spec.enabled?(this.valuesContentJson.hostname||e.push(this.t("validation.required",{key:this.t("harvester.addons.rancherVcluster.hostname")},!0)),this.valuesContentJson.bootstrapPassword||e.push(this.t("validation.required",{key:this.t("harvester.addons.rancherVcluster.password")},!0)),e.length>0?Promise.reject(e):Promise.resolve()):Promise.resolve()}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=h().dump(e)},deep:!0,immediate:!0}}},k=(a(17476),a(47433));const N=(0,k.A)(y,[["render",u],["__scopeId","data-v-5ab11ded"]]);var V=N},92764:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-23f2094e"),e=e(),(0,l.popScopeId)(),e),s={key:0},r={class:"row mt-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row mt-10"},c={class:"col span-6"},u={class:"col span-6"},p=o((()=>(0,l.createElementVNode)("br",null,null,-1))),m={key:0},v={key:0},h={class:"row mt-10"},b={class:"col span-6"},g={class:"col span-6"};function f(e,t,a,o,f,y){const k=(0,l.resolveComponent)("RadioGroup"),N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("LabeledSelect"),w=(0,l.resolveComponent)("Tab"),C=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(C,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(N,{value:f.valuesContent.resources.limits.cpu,"onUpdate:value":[t[1]||(t[1]=e=>f.valuesContent.resources.limits.cpu=e),y.update],label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(N,{value:f.valuesContent.resources.limits.memory,"onUpdate:value":[t[2]||(t[2]=e=>f.valuesContent.resources.limits.memory=e),y.update],label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(N,{value:f.valuesContent.resources.requests.cpu,"onUpdate:value":[t[3]||(t[3]=e=>f.valuesContent.resources.requests.cpu=e),y.update],label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(N,{value:f.valuesContent.resources.requests.memory,"onUpdate:value":[t[4]||(t[4]=e=>f.valuesContent.resources.requests.memory=e),y.update],label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])])]),p,(0,l.createElementVNode)("h2",null,(0,l.toDisplayString)(e.t("harvester.addons.vmImport.titles.pvc")),1),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",m,[(0,l.createVNode)(k,{value:f.valuesContent.pvcClaim.enabled,"onUpdate:value":[t[5]||(t[5]=e=>f.valuesContent.pvcClaim.enabled=e),y.update],class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels","onUpdate:value"]),f.valuesContent.pvcClaim.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(N,{value:f.valuesContent.pvcClaim.size,"onUpdate:value":[t[6]||(t[6]=e=>f.valuesContent.pvcClaim.size=e),y.update],label:e.t("harvester.volume.size"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(V,{value:f.valuesContent.pvcClaim.storageClassName,"onUpdate:value":[t[7]||(t[7]=e=>f.valuesContent.pvcClaim.storageClassName=e),y.update],options:y.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:a.mode,class:"mb-20"},null,8,["value","options","label","mode","onUpdate:value"])])])])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1})}var y=a(5327),k=a(99373),N=a(82906),V=a(21221),w=a(80316),C=a(72706),E=a(20665),S=a(86639),B=a(3384);const x=["resources.requests.cpu","resources.requests.memory","resources.limits.cpu","resources.limits.memory","pvcClaim.enabled","pvcClaim.size","pvcClaim.storageClassName"],A={"resources.requests.cpu":"0.5","resources.requests.memory":"2Gi","resources.limits.cpu":"2","resources.limits.memory":"4Gi","pvcClaim.enabled":!1,"pvcClaim.size":"200Gi","pvcClaim.storageClassName":""};var D={name:"EditHarvesterLogging",components:{LabeledInput:y.o,Tabbed:k.A,Tab:N.A,RadioGroup:V.z,LabeledSelect:w.A},mixins:[C.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={storages:this.$store.dispatch(`${e}/findAll`,{type:E.fJ})};await(0,S.kR)(t)},data(){let e={};try{e=JSON.parse(this.value?.spec?.valuesContent||"{}")}catch(a){}const t=(0,B.o8)(e);return x.map((a=>{(0,B.Jt)(e,a)||(0,B.hZ)(t,a,A[a])})),{valuesContent:t}},computed:{storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](E.fJ),a=t.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return a}},methods:{update(){(0,B.hZ)(this.value,"spec.valuesContent",JSON.stringify(this.valuesContent))},setDefaultClassName(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](E.fJ).find((e=>e.isDefault));this.valuesContent.pvcClaim["storageClassName"]=this.valuesContent?.pvcClaim?.storageClassName||t?.metadata?.name||"longhorn",this.update()}},watch:{"valuesContent.pvcClaim.enabled"(e){e&&this.setDefaultClassName()}}},_=(a(54820),a(47433));const U=(0,_.A)(D,[["render",f],["__scopeId","data-v-23f2094e"]]);var T=U},40241:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"mb-20"},s={class:"resource-yaml"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("LabeledSelect"),u=(0,l.resolveComponent)("YamlEditor"),p=(0,l.resolveComponent)("Tab"),m=(0,l.resolveComponent)("Tabbed"),v=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(v,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,namespaced:!0},null,8,["value","mode"]),(0,l.createVNode)(m,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{name:"basics",label:e.t("harvester.host.tabs.basics"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(c,{value:n.type,"onUpdate:value":t[1]||(t[1]=e=>n.type=e),label:e.t("harvester.cloudTemplate.templateType"),disabled:!e.isCreate,options:i.types},null,8,["value","label","disabled","options"])]),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(u,{ref:"yamlUser",value:n.config,"onUpdate:value":t[2]||(t[2]=e=>n.config=e),class:"yaml-editor","editor-mode":"view"===e.mode?"VIEW_CODE":"EDIT_CODE",onOnChanges:i.update},null,8,["value","editor-mode","onOnChanges"])])])),_:1},8,["label"])])),_:1})])),_:1},8,["done-route","mode","resource","errors","apply-hooks","onFinish","onCancel"])}var n=a(99373),i=a(82906),d=a(57985),c=a(80316),u=a(70346),p=a(44650),m=a(72706),v=a(2602),h={name:"HarvesterEditCloudTemplate",emits:["update:value"],components:{Tab:i.A,Tabbed:n.A,YamlEditor:p.A,CruResource:d.A,LabeledSelect:c.A,NameNsDescription:u.A},mixins:[m.A],data(){return{config:this.value.data?.cloudInit||"",type:this.value?.metadata?.labels?.[v.r.CLOUD_INIT]||"user"}},computed:{types(){return[{label:"User Data",value:"user"},{label:"Network Data",value:"network"}]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{update(){this.value.data={cloudInit:this.config}},updateBeforeSave(){this.isCreate&&(this.value.metadata.labels={...this.value.metadata.labels,[v.r.CLOUD_INIT]:this.type},this.value.data={cloudInit:this.config})}}},b=(a(87293),a(47433));const g=(0,b.A)(h,[["render",r],["__scopeId","data-v-6c6f8f7f"]]);var f=g},4439:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-307c0505"),e=e(),(0,l.popScopeId)(),e),s=o((()=>(0,l.createElementVNode)("div",{class:"mt-10"},null,-1))),r={key:3},n={class:"row"},i={class:"col span-12"},d={class:"row mt-10"},c={class:"col span-12"},u={class:"pull-left"},p={class:"pull-right"},m={key:0,class:"row mt-30"},v={class:"col flex span-12"},h=o((()=>(0,l.createElementVNode)("hr",{class:"mt-10"},null,-1))),b={class:"row mt-10"},g={class:"col span-12"},f={key:4,class:"row mt-10"},y={class:"col span-6"};function k(e,t,a,o,k,N){const V=(0,l.resolveComponent)("Banner"),w=(0,l.resolveComponent)("Tags"),C=(0,l.resolveComponent)("RadioGroup"),E=(0,l.resolveComponent)("BadgeState"),S=(0,l.resolveComponent)("LabelValue"),B=(0,l.resolveComponent)("LabeledInput"),x=(0,l.resolveComponent)("RadioButton"),A=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"disk","onUpdate:value":t[4]||(t[4]=(...e)=>N.update&&N.update(...e))},[s,N.mountedMessage&&N.isProvisioned?((0,l.openBlock)(),(0,l.createBlock)(V,{key:0,color:"error",label:N.mountedMessage},null,8,["label"])):(0,l.createCommentVNode)("",!0),N.isFormatting?((0,l.openBlock)(),(0,l.createBlock)(V,{key:1,color:"info",label:e.t("harvester.host.disk.fileSystem.formatting")},null,8,["label"])):N.isFormatted&&!N.isCorrupted?((0,l.openBlock)(),(0,l.createBlock)(V,{key:2,color:"info",label:N.formattedBannerLabel},null,8,["label"])):(0,l.createCommentVNode)("",!0),a.value.isNew?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(w,{value:a.value.tags,"onUpdate:value":t[0]||(t[0]=e=>a.value.tags=e),label:e.t("harvester.host.disk.tags.label"),"add-label":e.t("harvester.host.disk.tags.addLabel"),mode:a.mode},null,8,["value","label","add-label","mode"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(C,{value:a.value.allowScheduling,"onUpdate:value":t[1]||(t[1]=e=>a.value.allowScheduling=e),name:"diskScheduling",label:e.t("harvester.host.disk.allowScheduling.label"),mode:a.mode,options:N.allowSchedulingOptions,row:!0},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",p,[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.host.disk.conditions"))+": ",1),(0,l.withDirectives)((0,l.createVNode)(E,{color:"True"===e.readyCondition.status?"bg-success":"bg-error",icon:"True"===e.readyCondition.status?"icon-checkmark":"icon-warning",label:"Ready",class:"mr-10 ml-10 state"},null,8,["color","icon"]),[[A,e.readyCondition.message]]),(0,l.withDirectives)((0,l.createVNode)(E,{color:"True"===e.schedulableCondition.status&&N.targetDisk?.allowScheduling?"bg-success":"bg-error",icon:"True"===e.schedulableCondition.status&&N.targetDisk?.allowScheduling?"icon-checkmark":"icon-warning",label:"Schedulable",class:"mr-10 state"},null,8,["color","icon"]),[[A,N.schedulableTooltipMessage]]),N.provisionPhase.label?((0,l.openBlock)(),(0,l.createBlock)(E,{key:0,color:N.provisionPhase.color,icon:N.provisionPhase.icon,label:N.provisionPhase.label,class:"mr-10 state"},null,8,["color","icon","label"])):(0,l.createCommentVNode)("",!0)])])]),a.value.isNew?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(S,{name:e.t("harvester.host.disk.storageAvailable.label"),value:a.value.storageAvailable},null,8,["name","value"]),(0,l.createVNode)(S,{name:e.t("harvester.host.disk.storageScheduled.label"),value:a.value.storageScheduled},null,8,["name","value"]),(0,l.createVNode)(S,{name:e.t("harvester.host.disk.storageMaximum.label"),value:a.value.storageMaximum},null,8,["name","value"])])])),h])),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(B,{value:a.value.displayName,"onUpdate:value":t[2]||(t[2]=e=>a.value.displayName=e),label:e.t("generic.name"),disabled:!0},null,8,["value","label"])])]),a.value.isNew&&!N.isFormatted||N.isCorrupted?((0,l.openBlock)(),(0,l.createElementBlock)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(C,{value:a.value.forceFormatted,"onUpdate:value":t[3]||(t[3]=e=>a.value.forceFormatted=e),mode:a.mode,name:"forceFormatted","label-key":"harvester.host.disk.forceFormatted.label",labels:[e.t("generic.no"),e.t("harvester.host.disk.forceFormatted.yes")],options:[!1,!0],disabled:N.forceFormattedDisabled,"tooltip-key":"harvester.host.disk.forceFormatted.toolTip"},{1:(0,l.withCtx)((({option:e,listeners:t})=>[(0,l.createVNode)(x,(0,l.mergeProps)({label:e.label,val:e.value,value:a.value.forceFormatted,disabled:N.forceFormattedDisabled&&!a.value.forceFormatted},(0,l.toHandlers)(t)),null,16,["label","val","value","disabled"])])),_:1},8,["value","mode","labels","disabled"])])])):(0,l.createCommentVNode)("",!0)],32)}var N=a(5327),V=a(76092),w=a(38487),C=a(89121),E=a(21221),S=a(154),B=a(42750),x=a(32766),A=a(45855),D={components:{LabeledInput:N.o,LabelValue:V.A,BadgeState:w.j,Banner:C.l,RadioGroup:E.z,RadioButton:E.a,Tags:B.A},mixins:[S.A],props:{value:{type:Object,default:()=>({})},disks:{type:Array,default:()=>[]},mode:{type:String,default:"edit"}},data(){return{}},computed:{targetDisk(){return this.disks.find((e=>e.name===this.value.name))},schedulableTooltipMessage(){const{name:e,path:t}=this.value;return this.targetDisk&&!this.targetDisk.allowScheduling&&e&&t?this.t("harvester.host.disk.allowScheduling.tooltip",{name:e,path:t}):this.schedulableCondition.message},allowSchedulingOptions(){return[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}]},evictionRequestedOptions(){return[{label:this.t("generic.yes"),value:!0},{label:this.t("generic.no"),value:!1}]},mountedMessage(){const e=this.blockDevice?.metadata?.state||{};return e?.error?e?.message:""},isProvisioned(){return this.blockDevice?.spec.fileSystem.provisioned},forceFormattedDisabled(){const e=this.blockDevice?.status?.deviceStatus?.fileSystem?.LastFormattedAt,t=this.blockDevice?.status?.deviceStatus?.fileSystem.type,a=["ext4","XFS"];return!!(e||this.blockDevice?.childParts?.length>0)||!a.includes(t)&&(!t||!this.canEditPath)},canEditPath(){return!!this.mountedMessage||!(!this.value.isNew||this.value.originPath)},isFormatted(){return!!this.blockDevice?.status?.deviceStatus?.fileSystem?.LastFormattedAt},formattedBannerLabel(){const e=this.blockDevice?.status?.deviceStatus?.fileSystem?.type,t=this.t("harvester.host.disk.lastFormattedAt.info");return e?`${t} ${this.t("harvester.host.disk.fileSystem.info",{system:e})}`:t},provisionPhase(){return this.blockDevice?.provisionPhase||{}},blockDevice(){const e=this.$store.getters["currentProduct"].inStore,t=this.value?.name;return this.$store.getters[`${e}/byId`](x.rk.BLOCK_DEVICE,`${A.LONGHORN_SYSTEM}/${t}`)||{}},isCorrupted(){return this.blockDevice?.status?.deviceStatus?.fileSystem?.corrupted},isFormatting(){return this.blockDevice.isFormatting}},methods:{update(){this.$emit("update:value",this.value)}}},_=(a(48279),a(47433));const U=(0,_.A)(D,[["render",k],["__scopeId","data-v-307c0505"]]);var T=U},87207:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={key:0},s={class:"row"},r={class:"col span-6"},n={key:1},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-20"},p={class:"col span-6"},m={class:"row mt-20"},v={class:"col span-6"},h={key:0,class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("Banner"),k=(0,l.resolveComponent)("RadioGroup"),N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("Checkbox"),w=(0,l.resolveComponent)("LabeledSelect"),C=(0,l.resolveComponent)("NameNsDescription"),E=(0,l.resolveComponent)("ModalWithCard");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[a.inventory.warningMessages.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.inventory.warningMessages,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(y,{key:t,color:"error",label:e.text},null,8,["label"])))),128))])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(k,{value:g.enableInventory,"onUpdate:value":t[0]||(t[0]=e=>g.enableInventory=e),options:[{label:e.t("generic.enabled"),value:!0},{label:e.t("generic.disabled"),value:!1}],mode:a.mode,name:"enableInventory"},null,8,["value","options","mode"])])]),g.enableInventory?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(N,{value:g.value.spec.baseboardSpec.connection.host,"onUpdate:value":t[1]||(t[1]=e=>g.value.spec.baseboardSpec.connection.host=e),label:e.t("harvester.seeder.inventory.host.label"),placeholder:e.t("harvester.seeder.inventory.host.placeholder"),mode:a.mode,required:""},null,8,["value","label","placeholder","mode"]),(0,l.createVNode)(V,{value:g.value.spec.baseboardSpec.connection.insecureTLS,"onUpdate:value":t[2]||(t[2]=e=>g.value.spec.baseboardSpec.connection.insecureTLS=e),class:"mt-5",mode:a.mode,label:e.t("harvester.seeder.inventory.insecureTLS.label")},null,8,["value","mode","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(N,{modelValue:g.value.spec.baseboardSpec.connection.port,"onUpdate:modelValue":t[3]||(t[3]=e=>g.value.spec.baseboardSpec.connection.port=e),modelModifiers:{number:!0},label:e.t("harvester.seeder.inventory.port.label"),placeholder:e.t("harvester.seeder.inventory.port.placeholder"),mode:a.mode,required:""},null,8,["modelValue","label","placeholder","mode"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(w,{value:f.selectedSecret,"onUpdate:value":t[4]||(t[4]=e=>f.selectedSecret=e),label:e.t("harvester.seeder.inventory.secret.label"),mode:a.mode,options:f.secretOption,required:""},null,8,["value","label","mode","options"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(k,{value:g.value.spec.events.enabled,"onUpdate:value":t[5]||(t[5]=e=>g.value.spec.events.enabled=e),name:"enabled",options:[!0,!1],label:e.t("harvester.seeder.inventory.event.label"),labels:[e.t("generic.enabled"),e.t("generic.disabled")],mode:a.mode},null,8,["value","label","labels","mode"])]),g.value.spec.events.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",h,[(0,l.createVNode)(N,{value:g.value.spec.events.pollingInterval,"onUpdate:value":t[6]||(t[6]=e=>g.value.spec.events.pollingInterval=e),label:e.t("harvester.seeder.inventory.pollingInterval.label"),mode:a.mode},null,8,["value","label","mode"])])):(0,l.createCommentVNode)("",!0)]),g.isOpen?((0,l.openBlock)(),(0,l.createBlock)(E,{key:0,width:"80%",errors:g.errors,name:"secretModal",onFinish:f.saveSecret,onClose:f.cancel},{title:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.seeder.inventory.secret.create.title")),1)])),content:(0,l.withCtx)((()=>[(0,l.createVNode)(C,{value:g.value,"onUpdate:value":t[7]||(t[7]=t=>e.$emit("update:value",t)),namespaced:!0,mode:"create"},null,8,["value"]),(0,l.createVNode)(N,{value:f.username,"onUpdate:value":t[8]||(t[8]=e=>f.username=e),label:e.t("harvester.virtualMachine.input.username"),class:"mb-20",required:""},null,8,["value","label"]),(0,l.createVNode)(N,{value:f.password,"onUpdate:value":t[9]||(t[9]=e=>f.password=e),type:"password",label:e.t("harvester.virtualMachine.input.password"),class:"mb-20",required:""},null,8,["value","label"])])),_:1},8,["errors","onFinish","onClose"])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)])}var g=a(80316),f=a(5327),y=a(21221),k=a(34211),N=a(20665),V=a(9014),w=a(70346),C=a(89121),E=a(89795),S=a(26953);const B="_NEW";var x={name:"HarvesterSeeder",emits:["update:value"],components:{Checkbox:k.S,LabeledInput:f.o,LabeledSelect:g.A,RadioGroup:y.z,ModalWithCard:V.A,NameNsDescription:w.A,Banner:C.l},props:{mode:{type:String,required:!0},node:{type:Object,required:!0},registerAfterHook:{type:Function,required:!0},inventory:{type:Object,required:!0}},data(){const e=!!this.inventory?.id;return{enableInventory:e,value:this.inventory,secret:{},errors:[],newSecretSelected:!1,isOpen:!1}},created(){this.registerAfterHook(this.saveInventory,"saveInventory")},async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.secret=await this.$store.dispatch(`${e}/create`,{type:N.bB,data:{username:"",password:""},metadata:{namespace:"",name:"",describe:""}})},computed:{secretOption(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](N.bB).filter((e=>e.data?.username&&e.data?.password)).map((e=>({label:e.id,value:e.id})));return t.unshift({label:this.t("harvester.virtualMachine.createSSHKey"),value:B}),t},selectedSecret:{get(){const e=this.value.spec?.baseboardSpec?.connection?.authSecretRef?.namespace,t=this.value?.spec?.baseboardSpec?.connection?.authSecretRef?.name;return e&&t?`${e}/${t}`:""},set(e){if(e===B)this.newSecretSelected=!0;else{const[t,a]=e.split("/");this.value.spec.baseboardSpec.connection.authSecretRef["namespace"]=t,this.value.spec.baseboardSpec.connection.authSecretRef["name"]=a}}},username:{get(){return(0,E.u)(this.secret?.data?.username)},set(e){this.secret.data["username"]=(0,E.KA)(e)}},password:{get(){return(0,E.u)(this.secret?.data?.password)},set(e){this.secret.data["password"]=(0,E.KA)(e)}}},methods:{async saveInventory(){if(this.enableInventory){const e=[];return this.value.spec.baseboardSpec.connection.host||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.host.label")},!0)),this.value.spec.baseboardSpec.connection.port||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.port.label")},!0)),this.selectedSecret||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.secret.label")},!0)),e.length>0?Promise.reject((0,S.rz)(e)):(this.value.id||(this.value.metadata.annotations["metal.harvesterhci.io/local-node-name"]=this.node.id),this.value.metadata.annotations["metal.harvesterhci.io/local-inventory"]="true",await this.value.save())}return this.value.id?await this.value.remove():Promise.resolve()},show(){this.isOpen=!0},hide(){this.isOpen=!1,this.newSecretSelected=!1},cancel(){this.hide()},async saveSecret(e){if(this.errors=[],this.username||this.errors.push(this.t("validation.required",{key:this.t("harvester.virtualMachine.input.username")},!0)),this.password||this.errors.push(this.t("validation.required",{key:this.t("harvester.virtualMachine.input.password")},!0)),this.errors.length>0)e(!1);else try{const t=await this.secret.save();t.id&&this.secretOption.push({label:t.id,value:t.id}),this.selectedSecret=t.id,e(!0),this.cancel()}catch(t){this.errors=[t.message],e(!1)}}},watch:{newSecretSelected(e){e&&this.show()}}},A=a(47433);const D=(0,A.A)(x,[["render",b]]);var _=D},45855:function(e,t,a){"use strict";a.r(t),a.d(t,{LONGHORN_SYSTEM:function(){return J},default:function(){return W}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-f33a4910"),e=e(),(0,l.popScopeId)(),e),s={key:1,id:"node"},r={class:"content"},n={key:0,class:"row mb-20"},i={class:"col span-12"},d={key:0},c={key:1},u=["onClick"],p=o((()=>(0,l.createElementVNode)("i",{class:"icon icon-x"},null,-1))),m=[p],v={key:1},h={key:1},b={key:2};function g(e,t,a,o,p,g){const f=(0,l.resolveComponent)("Loading"),y=(0,l.resolveComponent)("NameNsDescription"),k=(0,l.resolveComponent)("LabeledInput"),N=(0,l.resolveComponent)("Tab"),V=(0,l.resolveComponent)("Tags"),w=(0,l.resolveComponent)("HarvesterDisk"),C=(0,l.resolveComponent)("ButtonDropdown"),E=(0,l.resolveComponent)("ArrayListGrouped"),S=(0,l.resolveComponent)("HarvesterKsmtuned"),B=(0,l.resolveComponent)("HarvesterSeeder"),x=(0,l.resolveComponent)("Banner"),A=(0,l.resolveComponent)("MessageLink"),D=(0,l.resolveComponent)("KeyValue"),_=(0,l.resolveComponent)("Tabbed"),U=(0,l.resolveComponent)("Footer");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(f,{key:0})):((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(y,{value:a.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),namespaced:!1,mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(_,{ref:"tabbed",class:"mt-15","side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(N,{name:"basics",weight:100,label:e.t("harvester.host.tabs.basics")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{value:p.customName,"onUpdate:value":t[1]||(t[1]=e=>p.customName=e),label:e.t("harvester.host.detail.customName"),class:"mb-20",mode:e.mode},null,8,["value","label","mode"]),(0,l.createVNode)(k,{value:p.consoleUrl,"onUpdate:value":t[2]||(t[2]=e=>p.consoleUrl=e),label:e.t("harvester.host.detail.consoleUrl"),class:"mb-20",mode:e.mode},null,8,["value","label","mode"])])),_:1},8,["label"]),g.hasBlockDevicesSchema?((0,l.openBlock)(),(0,l.createBlock)(N,{key:0,name:"disk",weight:80,label:e.t("harvester.host.tabs.storage")},{default:(0,l.withCtx)((()=>[g.longhornNode?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(V,{value:g.longhornNode.spec.tags,"onUpdate:value":t[3]||(t[3]=e=>g.longhornNode.spec.tags=e),label:e.t("harvester.host.tags.label"),"add-label":e.t("harvester.host.tags.addLabel"),mode:e.mode},null,8,["value","label","add-label","mode"])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(E,{value:p.newDisks,"onUpdate:value":t[5]||(t[5]=e=>p.newDisks=e),mode:e.mode,"initial-empty-row":!1},{default:(0,l.withCtx)((t=>[(0,l.createVNode)(w,{value:t.row.value,"onUpdate:value":e=>t.row.value=e,class:"mb-20",mode:e.mode,disks:p.disks},null,8,["value","onUpdate:value","mode","disks"])])),add:(0,l.withCtx)((()=>[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(C,{key:0,"button-label":e.t("harvester.host.disk.add"),"dropdown-options":p.blockDeviceOpts,size:"sm",selectable:g.selectable,onClickAction:t[4]||(t[4]=e=>g.addDisk(e.value)),onDdButtonAction:g.ddButtonAction},{option:(0,l.withCtx)((e=>["group"===e.kind?((0,l.openBlock)(),(0,l.createElementBlock)("b",d,(0,l.toDisplayString)(e.label),1)):((0,l.openBlock)(),(0,l.createElementBlock)("div",c,(0,l.toDisplayString)(e.label),1))])),_:1},8,["button-label","dropdown-options","selectable","onDdButtonAction"]))])),"remove-button":(0,l.withCtx)((t=>[g.canRemove(t.row,t.i)&&!e.isView?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,type:"button",class:"btn role-link close btn-sm",onClick:()=>g.onRemove(t)},m,8,u)):((0,l.openBlock)(),(0,l.createElementBlock)("span",v))])),_:1},8,["value","mode"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),g.hasKsmtunedSchema?((0,l.openBlock)(),(0,l.createBlock)(N,{key:1,name:"Ksmtuned",weight:70,label:e.t("harvester.host.tabs.ksmtuned")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(S,{mode:e.mode,node:a.value,"register-before-hook":e.registerBeforeHook},null,8,["mode","node","register-before-hook"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),g.hasAddonSchema?((0,l.openBlock)(),(0,l.createBlock)(N,{key:2,name:"seeder",weight:60,label:e.t("harvester.host.tabs.seeder")},{default:(0,l.withCtx)((()=>[g.seederEnabled&&g.hasInventorySchema?((0,l.openBlock)(),(0,l.createBlock)(B,{key:0,mode:e.mode,node:a.value,"register-after-hook":e.registerAfterHook,inventory:p.inventory},null,8,["mode","node","register-after-hook","inventory"])):g.seederEnabled&&!g.hasInventorySchema?((0,l.openBlock)(),(0,l.createElementBlock)("div",h,[(0,l.createVNode)(x,{color:"info",label:e.t("harvester.seeder.banner.noInventory")},null,8,["label"])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",b,[g.hasSeederAddon?((0,l.openBlock)(),(0,l.createBlock)(x,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(A,{to:g.toEnableSeederAddon,"prefix-label":"harvester.seeder.banner.enable.prefix","middle-label":"harvester.seeder.banner.enable.middle","suffix-label":"harvester.seeder.banner.enable.suffix"},null,8,["to"])])),_:1})):((0,l.openBlock)(),(0,l.createBlock)(x,{key:1,color:"warning",label:e.t("harvester.seeder.banner.noAddon")},null,8,["label"]))]))])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(N,{name:"labels","label-key":"harvester.host.tabs.labels"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{key:"labels",value:p.filteredLabels,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":g.updateHostLabels},null,8,["value","add-label","mode","onUpdate:value"])])),_:1})])),_:1},512),g.showFormattedWarning?((0,l.openBlock)(),(0,l.createBlock)(x,{key:0,color:"warning",label:e.t("harvester.host.disk.forceFormatted.toolTip")},null,8,["label"])):(0,l.createCommentVNode)("",!0)]),(0,l.createVNode)(U,{class:"footer",mode:e.mode,errors:e.errors,onSave:e.save,onDone:e.done},null,8,["mode","errors","onSave","onDone"])]))}var f=a(65359),y=a(99373),k=a(82906),N=a(41253),V=a(70346),w=a(5327),C=a(76651),E=a(56785),S=a(72706),B=a(2602),x=a(20665),A=a(86639),D=a(49844),_=a(26812),U=a(3384),T=a(26953),M=a(14815),L=a(6483),O=a(45842),I=a(66905),R=a(20652),$=a(71779),P=a(73331),q=a(89121),F=a(32766),K=a(4439),j=a(87207),H=a(57701),G=a(42750);const J="longhorn-system";var z={name:"HarvesterEditNode",emits:["update:value"],components:{Footer:N.A,Tabbed:y.A,Tab:k.A,LabeledInput:w.o,NameNsDescription:V.A,ArrayListGrouped:C.A,HarvesterDisk:K["default"],HarvesterKsmtuned:H["default"],ButtonDropdown:E.A,KeyValue:M.A,Banner:q.l,Tags:G.A,Loading:L.A,HarvesterSeeder:j["default"],MessageLink:O.A},mixins:[S.A],props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={longhornNodes:this.$store.dispatch(`${e}/findAll`,{type:x.oe.NODES}),blockDevices:this.$store.dispatch(`${e}/findAll`,{type:F.rk.BLOCK_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:F.rk.ADD_ONS}),secrets:this.$store.dispatch(`${e}/findAll`,{type:x.bB})};this.$store.getters[`${e}/schemaFor`](F.rk.INVENTORY)&&(t.inventories=this.$store.dispatch(`${e}/findAll`,{type:F.rk.INVENTORY})),await(0,A.kR)(t);const a=this.$store.getters[`${e}/all`](F.rk.BLOCK_DEVICE),l=a.filter((e=>{const t=e?.spec?.fileSystem?.provisioned,a=e?.spec?.nodeName===this.value.id,l=(0,_.jq)(this.longhornDisks,"name",e.metadata.name);return t&&a&&!l})).map((e=>{const t=e?.status?.deviceStatus?.fileSystem?.corrupted;return{isNew:!0,name:e?.metadata?.name,originPath:e?.spec?.fileSystem?.mountPoint,path:e?.spec?.fileSystem?.mountPoint,blockDevice:e,displayName:e?.displayName,forceFormatted:!!t||(e?.spec?.fileSystem?.forceFormatted||!1)}})),o=[...this.longhornDisks,...l];this.disks=o,this.newDisks=(0,U.o8)(o),this.blockDeviceOpts=this.getBlockDeviceOpts();const s=this.$store.getters[`${e}/all`](F.rk.ADD_ONS),r=s.find((e=>e.id===`harvester-system/${I.Jo.HARVESTER_SEEDER}`)),n=!!r&&r?.spec?.enabled;if(n){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.INVENTORY)||[],a=t.find((e=>e.id===`harvester-system/${this.value.id}`));a?this.inventory=await this.$store.dispatch(`${e}/clone`,{resource:a}):(this.inventory=await this.$store.dispatch(`${e}/create`,{type:F.rk.INVENTORY,metadata:{name:this.value.id,namespace:"harvester-system"}}),this.inventory.applyDefaults())}},data(){const e=this.value.metadata?.annotations?.[B.r.HOST_CUSTOM_NAME]||"",t=this.value.metadata?.annotations?.[B.r.HOST_CONSOLE_URL]||"";return{customName:e,consoleUrl:t,disks:[],newDisks:[],blockDevice:[],blockDeviceOpts:[],filteredLabels:(0,U.o8)(this.value.filteredSystemLabels),inventory:{},originValue:(0,U.o8)(this.value)}},computed:{...(0,f.L8)({t:"i18n/t"}),removedDisks(){const e=this.disks.filter((e=>!(0,_.jq)(this.newDisks,"name",e.name)))||[];return e},longhornDisks(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](x.oe.NODES,`${J}/${this.value.id}`),a=t?.status?.diskStatus||{},l=t?.spec?.disks||{},o={increment:1024,minExponent:3,maxExponent:3,maxPrecision:2,suffix:"iB"},s=Object.keys(a).map((t=>{const s=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${J}/${t}`);return{...a[t],...l?.[t],name:t,isNew:!1,storageReserved:(0,D.Mo)(l[t]?.storageReserved,o),storageAvailable:(0,D.Mo)(a[t]?.storageAvailable,o),storageMaximum:(0,D.Mo)(a[t]?.storageMaximum,o),storageScheduled:(0,D.Mo)(a[t]?.storageScheduled,o),blockDevice:s,displayName:s?.displayName||t,forceFormatted:s?.spec?.fileSystem?.forceFormatted||!1,tags:l?.[t]?.tags||[]}}));return s},showFormattedWarning(){const e=this.newDisks.filter((e=>e.forceFormatted&&e.isNew))||[];return e.length>0},hasKsmtunedSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](F.rk.KSTUNED)},hasBlockDevicesSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](F.rk.BLOCK_DEVICE)},longhornNode(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](x.oe.NODES);return t.find((e=>e.id===`${J}/${this.value.id}`))},seederEnabled(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.ADD_ONS),a=t.find((e=>e.id===`harvester-system/${I.Jo.HARVESTER_SEEDER}`));return!!a&&a?.spec?.enabled},toEnableSeederAddon(){const{cluster:e}=this.$router?.currentRoute?.params||{};return{name:`${R.KR}-c-cluster-resource-namespace-id`,params:{resource:`${F.rk.ADD_ONS}`,namespace:"harvester-system",cluster:e,id:`${I.Jo.HARVESTER_SEEDER}`},query:{mode:$.G5}}},hasAddonSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](F.rk.ADD_ONS)},hasSeederAddon(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.ADD_ONS);return t.find((e=>e.id===`harvester-system/${I.Jo.HARVESTER_SEEDER}`))},hasInventorySchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](F.rk.INVENTORY)}},watch:{customName(e){this.value.setAnnotation(B.r.HOST_CUSTOM_NAME,e)},consoleUrl(e){this.value.setAnnotation(B.r.HOST_CONSOLE_URL,e)},newDisks(){this.blockDeviceOpts=this.getBlockDeviceOpts()}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave"),this.registerAfterHook&&(this.registerAfterHook(this.saveDisk),this.registerAfterHook(this.saveLonghornNode))},methods:{addDisk(e){const t=(0,_.jq)(this.removedDisks,"blockDevice.id",e);if(t)return this.newDisks.push(t);const a=this.$store.getters["currentProduct"].inStore,l=this.$store.getters[`${a}/byId`](F.rk.BLOCK_DEVICE,e),o=l?.spec?.fileSystem?.mountPoint,s=l?.status?.deviceStatus?.fileSystem?.LastFormattedAt;let r=!0;const n=["ext4","XFS"];l.childParts?.length>0?r=!0:(s||n.includes(l?.status?.deviceStatus?.fileSystem?.type))&&(r=!1);const i=l?.metadata?.name;this.newDisks.push({name:i,path:o,allowScheduling:!1,evictionRequested:!1,storageReserved:0,isNew:!0,originPath:l?.spec?.fileSystem?.mountPoint,blockDevice:l,displayName:l?.displayName,forceFormatted:r})},async saveDisk(){const e=this.$store.getters["currentProduct"].inStore,t=this.newDisks.filter((e=>e.isNew)),a=this.disks.filter((e=>!(0,_.jq)(this.newDisks,"name",e.name)&&e.blockDevice));if(0===t.length&&0===a.length)return Promise.resolve();if(0!==t.length&&0===a.length){const a=t.filter((t=>{const a=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${J}/${t.name}`),{provisioned:l,forceFormatted:o}=a.spec.fileSystem;return!l||o!==t.forceFormatted}));if(0===a.length)return Promise.resolve()}try{await Promise.all(t.map((t=>{const a=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${J}/${t.name}`);return a.spec.fileSystem.provisioned=!0,a.spec.fileSystem.forceFormatted=t.forceFormatted,a.save()}))),await Promise.all(a.map((t=>{const a=this.$store.getters[`${e}/byId`](F.rk.BLOCK_DEVICE,`${J}/${t.name}`);return a.spec.fileSystem.provisioned=!1,a.save()}))),this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.host.disk.notification.success",{name:this.value.metadata?.name||""})},{root:!0})}catch(l){return Promise.reject((0,T.rz)(l))}},canRemove(e){return!!e?.value?.blockDevice},onRemove(e){e.remove()},updateHostLabels(e){this.filteredLabels=e},selectable(e){return!e.disabled},getBlockDeviceOpts(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](F.rk.BLOCK_DEVICE),a=t.filter((e=>{const t=(0,_.jq)(e?.status?.conditions||[],"type","AddedToNode"),a=(0,_.jq)(this.newDisks,"name",e.metadata.name),l=(0,_.jq)(this.removedDisks,"name",e.metadata.name),o=e.status?.deviceStatus?.details?.deviceType;return"disk"===o&&"Active"===e?.status?.state&&!(((0,_.jq)(this.disks||[],"name",e.metadata.name)||e?.spec?.nodeName!==this.value.id||t&&"False"!==t?.status||e.spec?.fileSystem?.provisioned||a)&&!l)})).map((e=>{const t=e.spec?.devPath,a=e.status?.deviceStatus?.details?.deviceType,l=e.status?.deviceStatus?.capacity?.sizeBytes,o=(0,D.Mo)(l,{increment:1024}),s=e.status?.deviceStatus?.parentDevice,r=this.newDisks.find((e=>e.blockDevice?.status?.deviceStatus?.parentDevice===t)),n=e.displayName;let i=`${n} (Type: ${a}, Size: ${o})`;return s&&(i=`- ${i}`),{label:i,value:e.id,action:this.addDisk,kind:s?"":"group",disabled:!!r,group:s||t,isParent:!!s}}));return(0,P.Ul)(a,["group","isParent","label"])},ddButtonAction(){this.blockDeviceOpts=this.getBlockDeviceOpts()},willSave(){const e=this.filteredLabels||{};this.value.metadata.labels={...this.value.metadata.labels,...e};const t=this.value.filteredSystemLabels;Object.keys(t).map((t=>{e[t]||delete this.value.metadata.labels[t]}))},async saveLonghornNode(){const e=this.$store.getters["currentProduct"].inStore,t=this.longhornNode?.spec?.disks||{};this.newDisks.map((e=>{(t[e.name]||{}).tags=e.tags,(t[e.name]||{}).allowScheduling=e.allowScheduling}));let a=0;const l=async()=>{try{await this.longhornNode.save()}catch(t){if(409!==t.status&&403!==t.status||!(a<3))return Promise.reject((0,T.rz)(t));a++,await this.$store.dispatch(`${e}/find`,{type:x.oe.NODES,id:this.longhornNode.id,opt:{force:!0}}),await new Promise((e=>setTimeout(e,"5000"))),await l()}};this.longhornNode&&await l()}}},Q=(a(73500),a(47433));const Y=(0,Q.A)(z,[["render",g],["__scopeId","data-v-f33a4910"]]);var W=Y},83648:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var l=a(9274);const o={class:"header mb-20"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("FileSelector"),d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("Tab"),p=(0,l.resolveComponent)("Tabbed"),m=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(m,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(i,{key:0,class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),accept:".pub",onSelected:n.onKeySelected},null,8,["label","onSelected"])):(0,l.createCommentVNode)("",!0)]),((0,l.openBlock)(),(0,l.createBlock)(d,{ref:"nd",key:r.randomString,value:a.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode},null,8,["value","mode"])),(0,l.createVNode)(p,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{name:"basic",label:e.t("harvester.sshKey.tabs.basics"),weight:1,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:r.publicKey,"onUpdate:value":t[1]||(t[1]=e=>r.publicKey=e),type:"multiline",mode:e.mode,"min-height":160,label:e.t("harvester.sshKey.keypair"),required:""},null,8,["value","mode","label"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])}var r=a(99373),n=a(82906),i=a(57985),d=a(5327),c=a(70346),u=a(28794),p=a(41594),m=a(72706),v={name:"HarvesterEditKeypair",emits:["update:value"],components:{Tab:n.A,Tabbed:r.A,CruResource:i.A,LabeledInput:d.o,FileSelector:u.A,NameNsDescription:c.A},mixins:[m.A],props:{value:{type:Object,required:!0}},data(){return this.value.spec||(this.value.spec={},this.value.metadata={name:""}),{publicKey:this.value.spec.publicKey||"",randomString:""}},watch:{publicKey(e){const t=e.trim();this.value.spec.publicKey=t;const a=t.split(/\s+/);if(3===a.length&&!this.value.metadata.name){const e=a[2];this.randomString=(0,p.vx)(10).toLowerCase(),this.value.metadata.name=e.includes("@")?e.split("@")[0]:e}}},methods:{onKeySelected:(0,u.B)("publicKey")}},h=(a(42338),a(47433));const b=(0,h.A)(v,[["render",s],["__scopeId","data-v-bc35b43e"]]);var g=b},70675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(85401),o=a(20665),s=a(33219),r={extends:s.A,created(){this.isCreate&&this.value.type===o.cm.CLUSTER_FLOW&&(this.value.metadata.namespace="cattle-logging-system"),this.registerBeforeHook(this.willSave,"willSave"),this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:l.Ri,value:a},{root:!0}),this.willSave()}))}};const n=r;var i=n},17733:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var l=a(85401),o=a(283),s={extends:o["default"],created(){this.isCreate&&(this.value.metadata.namespace="cattle-logging-system"),this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:l.Ri,value:a},{root:!0})}))}};const r=s;var n=r},65647:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Flow");return(0,l.openBlock)(),(0,l.createBlock)(n,(0,l.normalizeProps)((0,l.guardReactiveProps)(e.$attrs)),null,16)}var s=a(33219),r={components:{Flow:s.A}},n=a(47433);const i=(0,n.A)(r,[["render",o]]);var d=i},283:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var l=a(9274);const o={class:"output"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"},d=(0,l.createElementVNode)("div",{class:"spacer"},null,-1);function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("NameNsDescription"),v=(0,l.resolveComponent)("Banner"),h=(0,l.resolveComponent)("LabeledSelect"),b=(0,l.resolveComponent)("Tab"),g=(0,l.resolveComponent)("YamlEditor"),f=(0,l.resolveComponent)("Labels"),y=(0,l.resolveComponent)("Tabbed"),k=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createVNode)(k,{"done-route":e.doneRoute,mode:p.cruMode,resource:e.value,subtypes:[],"validation-passed":!0,errors:e.errors,"can-yaml":!0,onError:t[5]||(t[5]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,label:"generic.name","register-before-hook":e.registerBeforeHook,namespaced:e.value.type!==u.LOGGING.CLUSTER_OUTPUT},null,8,["value","mode","register-before-hook","namespaced"])),u.selectedProviders.length>1?((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("logging.output.tips.singleProvider")),1)])),_:1})):e.value.allProvidersSupported?((0,l.openBlock)(),(0,l.createBlock)(y,{key:3,ref:"tabbed","side-tabs":!0,onChanged:t[4]||(t[4]=e=>p.tabChanged(e))},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{name:"Output",label:"Output",weight:2},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(h,{value:u.loggingType,"onUpdate:value":t[1]||(t[1]=e=>u.loggingType=e),class:"mb-20",options:p.outputTypeOptions,disabled:!e.isCreate,mode:e.mode,label:e.t("generic.type")},null,8,["value","options","disabled","mode","label"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{value:u.selectedProvider,"onUpdate:value":t[2]||(t[2]=e=>u.selectedProvider=e),label:"Output",options:u.providers,mode:e.mode},null,8,["value","options","mode"])])]),d,((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(p.getComponent(u.selectedProvider)),{value:e.value.spec[u.selectedProvider],namespace:e.value.namespace,mode:e.mode},null,8,["value","namespace","mode"]))])),_:1}),(0,l.createVNode)(b,{name:"buffer",label:e.t("logging.output.buffer.label"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{ref:"yaml",value:u.bufferYaml,"onUpdate:value":t[3]||(t[3]=e=>u.bufferYaml=e),scrolling:!1,"initial-yaml-values":u.initialBufferYaml,"editor-mode":e.isView?p.EDITOR_MODES.VIEW_CODE:p.EDITOR_MODES.EDIT_CODE,onOnReady:p.onYamlEditorReady},null,8,["value","initial-yaml-values","editor-mode","onOnReady"])])),_:1},8,["label"]),e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])])),_:1}))])),_:1},512)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:2,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("logging.output.tips.multipleProviders")),1)])),_:1}))])),_:1},8,["done-route","mode","resource","errors","onFinish","onCancel"])])}var u=a(72706),p=a(20665),m=a(99373),v=a(82906),h=a(57985),b=a(70346),g=a(20458),f=a(80316),y=a(89121),k=a(88782),N=a(71779),V=a(3384),w=a(46343),C=a.n(w),E=a(3514),S=a.n(E),B=a(20246),x=a.n(B),A=a(1195),D=a(44650),_=a(66905);const U="Logging/Event",T="Audit Only",M=[U,T];var L={emits:["update:value"],components:{Banner:y.l,CruResource:h.A,Labels:g.A,LabeledSelect:f.A,NameNsDescription:b.A,Tab:v.A,Tabbed:m.A,YamlEditor:D.A},mixins:[u.A],async fetch(){await this.$store.dispatch("harvester/findAll",{type:p.bB})},data(){const e=this.$store.getters["harvester/all"](p.yx);this.isCreate&&(this.value.metadata.namespace="default"),(0,V.hZ)(this.value,"spec",this.value.spec||{});const t=k.PROVIDERS.map((e=>({...e,value:e.name,label:this.t(e.labelKey)})));this.mode!==N.nW&&(this.value["spec"]=this.value.spec||{},t.forEach((e=>{this.value.spec[e.name]=this.value.spec[e.name]||(0,V.o8)(e.default)})));const a=t.filter((e=>{const t=this.value.spec[e.name],a="forward"===e.name?t?.servers?.[0]||{}:t;return!S()(a)&&!C()(a,e.default)})),l=a?.[0]?.value||t[0].value;let o;return S()(this.value.spec[l]?.buffer)?(o=(0,A.mH)(e,`logging.banzaicloud.io.v1beta1.output.spec.${l}.buffer`,[]),o=o.substring(o.indexOf("\n")+1).replaceAll("#  ","#")):o=x().dump(this.value.spec[l].buffer),{bufferYaml:o,initialBufferYaml:o,providers:t,selectedProvider:l,hasMultipleProvidersSelected:a.length>1,selectedProviders:a,LOGGING:p.cm,loggingType:this.value.loggingType!==_.UQ.AUDIT?U:T}},computed:{EDITOR_MODES(){return D.j},enabledProviders(){return this.providers.filter((e=>e.enabled))},cruMode(){return this.selectedProviders.length>1||!this.value.allProvidersSupported?N.nW:this.mode},outputTypeOptions(){return M}},created(){this.registerBeforeHook(this.willSave,"willSave")},methods:{getComponent(e){return a(28431)(`./${e}`).default},launch(e){this.$refs.tabbed.select(e.name)},willSave(){this.value.spec={[this.selectedProvider]:this.value.spec[this.selectedProvider]};const e=x().load(this.bufferYaml);S()(e)?delete this.value.spec[this.selectedProvider]["buffer"]:this.value.spec[this.selectedProvider].buffer=e,this.loggingType===T&&(this.value.spec["loggingRef"]="harvester-kube-audit-log-ref")},tabChanged({tab:e}){"buffer"===e.name&&this.$nextTick((()=>{this.$refs.yaml&&(this.$refs.yaml.refresh(),this.$refs.yaml.focus())}))},onYamlEditorReady(e){e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.execCommand("unfold")}}},O=(a(8355),a(47433));const I=(0,O.A)(L,[["render",c]]);var R=I},90482:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var l=a(9274);const o={class:"mt-20"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("NameNsDescription"),d=(0,l.resolveComponent)("Banner"),c=(0,l.resolveComponent)("ClusterMembershipEditor"),u=(0,l.resolveComponent)("Tab"),p=(0,l.resolveComponent)("AgentEnv"),m=(0,l.resolveComponent)("Labels"),v=(0,l.resolveComponent)("Tabbed"),h=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(h,{mode:a.mode,resource:a.value,errors:e.errors,"validation-passed":!0,"done-route":e.doneRoute,"generate-yaml":n.generateYaml,onFinish:n.saveOverride,onError:t[3]||(t[3]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(i,{key:0,value:a.value,mode:a.mode,namespaced:!1,"name-label":"cluster.name.label","name-placeholder":"cluster.name.placeholder","description-label":"cluster.description.label","description-placeholder":"cluster.description.placeholder","onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode"]))]),(0,l.createVNode)(v,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{name:"memberRoles","label-key":"cluster.tabs.memberRoles",weight:3},{default:(0,l.withCtx)((()=>[e.isEdit?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("cluster.memberRoles.removeMessage")),1)])),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(c,{mode:a.mode,"parent-id":a.value.mgmt?a.value.mgmt.id:null,onMembershipUpdate:n.onMembershipUpdate},null,8,["mode","parent-id","onMembershipUpdate"])])),_:1}),(0,l.createVNode)(p,{value:a.value,mode:a.mode,"onUpdate:value":t[1]||(t[1]=t=>e.$emit("input",t))},null,8,["value","mode"]),(0,l.createVNode)(m,{value:a.value,mode:a.mode,"onUpdate:value":t[2]||(t[2]=t=>e.$emit("input",t))},null,8,["value","mode"])])),_:1})])),_:1},8,["mode","resource","errors","done-route","generate-yaml","onFinish"])}var r=a(72706),n=a(57985),i=a(70346),d=a(82906),c=a(99373),u=a(20665);function p(e,t,a,o,s,r){const n=(0,l.resolveComponent)("MembershipEditor");return(0,l.openBlock)(),(0,l.createBlock)(n,(0,l.mergeProps)(e.$attrs,{"add-member-dialog-name":"AddClusterMemberDialog","default-binding-handler":r.defaultBindingHandler,type:s.NORMAN.CLUSTER_ROLE_TEMPLATE_BINDING,mode:a.mode,"parent-key":"clusterId","parent-id":a.parentId}),null,16,["default-binding-handler","type","mode","parent-id"])}var m=a(71779),v=a(66984);var h={components:{MembershipEditor:v.A},props:{parentId:{type:String,default:null},mode:{type:String,required:!0}},data(){return{NORMAN:u.k$,bindings:[],lastSavedBindings:[]}},computed:{isCreate(){return this.mode===m.YQ},isView(){return this.mode===m.nW}},methods:{defaultBindingHandler(){return this.$store.dispatch("rancher/create",{type:u.k$.CLUSTER_ROLE_TEMPLATE_BINDING,roleTemplateId:"cluster-owner",userPrincipalId:this.$store.getters["auth/principalId"]})}}},b=a(47433);const g=(0,b.A)(h,[["render",p]]);var f=g,y=a(89121);function k(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Labels",!0),i=(0,l.resolveComponent)("Tab");return(0,l.openBlock)(),(0,l.createBlock)(i,{name:"labels","label-key":"generic.labelsAndAnnotations"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:r.localValue,"onUpdate:value":t[0]||(t[0]=e=>r.localValue=e),mode:a.mode,"display-side-by-side":!1,onInput:t[1]||(t[1]=t=>e.$emit("input",t))},null,8,["value","mode"])])),_:1})}var N=a(20458),V={emits:["update:value","input"],components:{Labels:N.A,Tab:d.A},props:{mode:{type:String,required:!0},value:{type:Object,required:!0}},computed:{localValue:{get(){return this.value},set(e){this.$emit("update:value",e)}}}};const w=(0,b.A)(V,[["render",k]]);var C=w;function E(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue"),i=(0,l.resolveComponent)("Tab");return(0,l.openBlock)(),(0,l.createBlock)(i,{name:"agentEnv","label-key":"cluster.tabs.agentEnv"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.agentEnvVars,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.agentEnvVars=e),mode:a.mode,"key-name":"name","as-map":!1,"preserve-keys":["valueFrom"],supported:e=>"undefined"===typeof e.valueFrom,"read-allowed":!0,"value-can-be-empty":!0,"key-label":e.t("cluster.agentEnvVars.keyLabel"),"parse-lines-from-file":!0},null,8,["value","mode","supported","key-label"])])),_:1})}var S=a(14815),B={components:{KeyValue:S.A,Tab:d.A},props:{mode:{type:String,required:!0},value:{type:Object,required:!0}}};const x=(0,b.A)(B,[["render",E]]);var A=x,D=a(3384),_=a(55190),U=a(1195);const T=u.qt.RANCHER_CLUSTER;var M={emits:["input"],components:{Banner:y.l,ClusterMembershipEditor:f,NameNsDescription:i.A,CruResource:n.A,Tab:d.A,Tabbed:c.A,Labels:C,AgentEnv:A},mixins:[r.A],props:{mode:{type:String,required:!0},value:{type:Object,required:!0}},data(){return{membershipUpdate:{}}},computed:{generateYaml(){return()=>{const e=this.value,t=this.$store.getters["currentStore"](e),a=this.$store.getters[`${t}/all`](u.yx),l=(0,D.o8)(e);delete l.isSpoofed;const o=(0,U.mH)(a,T,l);return o}}},methods:{done(){return this.$router.replace({name:"c-cluster-product-resource-namespace-id",params:{resource:u.rk.CLUSTER,namespace:this.value.metadata.namespace,id:this.value.metadata.name}})},async saveOverride(){(0,D.hZ)(this.value,"metadata.labels",{...(0,D.Jt)(this.value,"metadata.labels")||{},[_.qt.PROVIDER]:u.BN}),(0,D.hZ)(this.value,"type",T),await this.save(...arguments),this.value.waitForMgmt().then((()=>{this.membershipUpdate.save&&this.membershipUpdate.save(this.value.mgmt.id)}))},onMembershipUpdate(e){this["membershipUpdate"]=e}}};const L=(0,b.A)(M,[["render",s]]);var O=L},421:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var l=a(9274);const o=["disabled","tooltip"],s={key:0,class:"icon icon-info"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("Loading"),c=(0,l.resolveComponent)("NameNsDescription"),u=(0,l.resolveComponent)("RouteConfig"),p=(0,l.resolveComponent)("Tab"),m=(0,l.resolveComponent)("router-link"),v=(0,l.resolveComponent)("ResourceTable"),h=(0,l.resolveComponent)("Tabbed"),b=(0,l.resolveComponent)("ActionMenu"),g=(0,l.resolveComponent)("CruResource"),f=(0,l.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(g,{key:1,class:"route","done-route":e.doneRoute,errors:e.errors,mode:e.mode,resource:e.value,subtypes:[],"cancel-event":!0,onError:t[2]||(t[2]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,namespaced:e.isNamespaced},null,8,["value","mode","namespaced"]),(0,l.createVNode)(h,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{label:e.t("monitoring.route.label"),weight:1,name:"route"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{value:e.value.spec.route,mode:e.mode,"receiver-options":n.receiverOptions},null,8,["value","mode","receiver-options"])])),_:1},8,["label"]),(0,l.createVNode)(p,{label:e.t("alertmanagerConfigReceiver.receivers"),weight:2,name:"receivers"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{headers:n.receiverTableHeaders,schema:n.receiverSchema,rows:e.value.spec.receivers||[],"get-custom-detail-link":i.getReceiverDetailLink,"table-actions":!1,"custom-actions":e.value.receiverActions,onClickedActionButton:i.setActionMenuState},{"header-button":(0,l.withCtx)((()=>[n.createReceiverLink&&n.createReceiverLink.name?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,to:e.mode!==n.create?n.createReceiverLink:{}},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{class:"btn role-primary",disabled:e.mode===n.create,tooltip:e.t("monitoring.alertmanagerConfig.disabledReceiverButton")},[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("monitoring.receiver.addReceiver"))+" ",1),e.mode===n.create?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("i",s,null,512)),[[f,e.t("monitoring.alertmanagerConfig.disabledReceiverButton")]]):(0,l.createCommentVNode)("",!0)],8,o)])),_:1},8,["to"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["headers","schema","rows","get-custom-detail-link","custom-actions","onClickedActionButton"])])),_:1},8,["label"])])),_:1}),(0,l.createVNode)(b,{"custom-actions":n.receiverActions,open:n.receiverActionMenuIsOpen,"use-custom-target-element":!0,"custom-target-element":n.actionMenuTargetElement,"custom-target-event":n.actionMenuTargetEvent,onClose:t[1]||(t[1]=e=>n.receiverActionMenuIsOpen=!1),onGoToEdit:i.goToEdit,onGoToEditYaml:i.goToEditYaml,onPromptRemove:i.promptRemove},null,8,["custom-actions","open","custom-target-element","custom-target-event","onGoToEdit","onGoToEditYaml","onPromptRemove"])])),_:1},8,["done-route","errors","mode","resource","onFinish","onCancel"]))}var n=a(57985),i=a(72706),d=a(99373),c=a(82906),u=a(20665),p=a(6483),m=a(70346),v=a(44650),h=a(83235);const b={class:"icon icon-info"},g={class:"row mb-20"},f={class:"col span-6"},y=(0,l.createElementVNode)("h3",null,"Grouping",-1),k={class:"row mb-20"},N={class:"col span-6"},V={class:"label"},w={class:"icon icon-info"},C=(0,l.createElementVNode)("h3",null,"Waiting and Intervals",-1),E={class:"row mb-20"},S={class:"col span-6"},B={class:"col span-6"},x={class:"row mb-20"},A={class:"col span-6"},D=(0,l.createElementVNode)("h3",null,"Matchers",-1),_={class:"row mt-20 mb-20"},U={class:"col span-4"},T={class:"col span-4"},M={class:"col span-4"};function L(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Banner"),i=(0,l.resolveComponent)("LabeledSelect"),d=(0,l.resolveComponent)("ArrayList"),c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("ArrayListGrouped"),p=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("h3",null,[(0,l.createTextVNode)(" Receiver "),(0,l.withDirectives)((0,l.createElementVNode)("i",b,null,512),[[p,e.t("monitoring.alertmanagerConfig.receiverTooltip")]])]),(0,l.createVNode)(n,{color:"info",label:e.t("monitoring.alertmanagerConfig.routeInfo")},null,8,["label"]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(i,{value:a.value.receiver,"onUpdate:value":t[0]||(t[0]=e=>a.value.receiver=e),mode:a.mode,options:a.receiverOptions},null,8,["value","mode","options"])])]),y,(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("span",V,[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("monitoringRoute.groups.addGroupByLabel'"))+" ",1),(0,l.withDirectives)((0,l.createElementVNode)("i",w,null,512),[[p,e.t("monitoringRoute.groups.groupByTooltip")]])]),(0,l.createVNode)(d,{value:a.value.groupBy,"onUpdate:value":t[1]||(t[1]=e=>a.value.groupBy=e),class:"mt-10",mode:a.mode,"initial-empty-row":!0},null,8,["value","mode"])])]),C,(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",S,[(0,l.createVNode)(c,{value:a.value.groupWait,"onUpdate:value":t[2]||(t[2]=e=>a.value.groupWait=e),label:e.t("monitoringRoute.wait.label"),mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",B,[(0,l.createVNode)(c,{value:a.value.groupInterval,"onUpdate:value":t[3]||(t[3]=e=>a.value.groupInterval=e),label:e.t("monitoringRoute.interval.label"),mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(c,{value:a.value.repeatInterval,"onUpdate:value":t[4]||(t[4]=e=>a.value.repeatInterval=e),label:e.t("monitoringRoute.repeatInterval.label"),mode:a.mode},null,8,["value","label","mode"])])]),D,(0,l.createVNode)(u,{value:a.value.matchers,"onUpdate:value":t[5]||(t[5]=e=>a.value.matchers=e),class:"mt-20",mode:a.mode,"add-label":e.t("monitoringRoute.matching.addMatcher"),"default-add-value":{matchers:[]}},{default:(0,l.withCtx)((t=>[(0,l.createElementVNode)("div",_,[(0,l.createElementVNode)("div",U,[(0,l.createVNode)(c,{value:t.row.value.name,"onUpdate:value":e=>t.row.value.name=e,label:e.t("monitoringRoute.matching.name"),tooltip:e.t("monitoringRoute.matching.nameTooltip"),mode:a.mode},null,8,["value","onUpdate:value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",T,[(0,l.createVNode)(c,{value:t.row.value.value,"onUpdate:value":e=>t.row.value.value=e,label:e.t("monitoringRoute.matching.value"),tooltip:e.t("monitoringRoute.matching.valueTooltip"),mode:a.mode},null,8,["value","onUpdate:value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",M,[(0,l.createVNode)(i,{value:t.row.value.matchType,"onUpdate:value":e=>t.row.value.matchType=e,label:e.t("monitoringRoute.matching.matchType"),mode:a.mode,options:s.matchTypes},null,8,["value","onUpdate:value","label","mode","options"])])])])),_:1},8,["value","mode","add-label"])])}var O=a(43528),I=a(89121),R=a(5327),$=a(80316),P=a(71779),q=a(76651),F={components:{ArrayList:O.A,Banner:I.l,ArrayListGrouped:q.A,LabeledInput:R.o,LabeledSelect:$.A},props:{mode:{type:String,required:!0},value:{type:Object,required:!0},receiverOptions:{type:Array,required:!0}},data(){return this.value["matchers"]=this.value.matchers||[],this.value["groupBy"]=this.value.groupBy||[],{isView:P.nW,matchTypes:[{label:"Match Equal",value:"="},{label:"Match Not Equal",value:"!="},{label:"Match Regexp",value:"=~"},{label:"Match Not Regexp",value:"!~"}]}}},K=a(47433);const j=(0,K.A)(F,[["render",L]]);var H=j,G=a(35654),J=a(66213),z={emits:["update:value"],components:{ActionMenu:J.A,CruResource:n.A,Loading:p.A,NameNsDescription:m.A,ResourceTable:G.A,RouteConfig:H,Tab:c.A,Tabbed:d.A},mixins:[i.A],async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=this.value.id,a=await this.$store.dispatch(`${e}/find`,{type:u.Rp.ALERTMANAGERCONFIG,id:t});this.alertmanagerConfigId=t,this.alertmanagerConfigResource=a,this.alertmanagerConfigDetailRoute=a._detailLocation;const l=a.availableActions,o=a.getReceiverActions(l);this.receiverActions=o},data(){this.value.applyDefaults();const e={},t=this.$store.getters["harvester/schemaFor"](u.Rp.SPOOFED.ALERTMANAGERCONFIG_RECEIVER_SPEC),a=this.$store.getters["harvester/schemaFor"](u.Rp.SPOOFED.ALERTMANAGERCONFIG_ROUTE_SPEC),l=(this.value?.spec?.receivers||[]).map((e=>e.name));return{actionMenuTargetElement:null,actionMenuTargetEvent:null,config:P.au,create:P.YQ,createReceiverLink:this.value.getCreateReceiverRoute(),defaultReceiverValues:e,receiverActionMenuIsOpen:!1,receiverTableHeaders:[{name:"name",labelKey:"tableHeaders.name",value:"name",sort:["nameSort"],formatter:"LinkDetail",canBeVariable:!0},{name:"type",labelKey:"tableHeaders.type",value:"name",formatter:"ReceiverIcons",canBeVariable:!0}],newReceiverType:null,receiverActions:[],receiverOptions:l,receiverTypes:h.RECEIVERS_TYPES,routeSchema:a,receiverSchema:t,selectedReceiverName:"",selectedRowValue:null,view:P.nW}},computed:{editorMode(){return this.mode===P.nW?v.j.VIEW_CODE:v.j.EDIT_CODE}},methods:{translateReceiverTypes(){return this.receiverTypes.map((e=>({...e,label:this.t(e.label)})))},getReceiverDetailLink(e){if(e&&e.name)return this.value.getReceiverDetailLink(e.name)},toggleReceiverActionMenu(){this.receiverActionMenuIsOpen=!0},setActionMenuState(e){const{event:t,targetElement:a}=e;if(!t||!a)throw new Error("Could not find action menu target element.");this.actionMenuTargetElement=a,this.actionMenuTargetEvent=t,this.selectedReceiverName=a.id.split("+").slice(2).join(""),this.toggleReceiverActionMenu()},goToEdit(){this.$router.push(this.alertmanagerConfigResource.getEditReceiverConfigRoute(this.selectedReceiverName,P.G5))},goToEditYaml(){this.$router.push(this.alertmanagerConfigResource.getEditReceiverYamlRoute(this.selectedReceiverName,P.G5))},promptRemove(){const e=this.selectedReceiverName,t=this.alertmanagerConfigResource.spec.receivers||[],a=t.filter((t=>t.name!==e));this.alertmanagerConfigResource.spec.receivers=a,this.alertmanagerConfigResource.save(...arguments)}}};a(81003);const Q=(0,K.A)(z,[["render",r],["__scopeId","data-v-1e838ab4"]]);var Y=Q},23832:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row mt-10"},n={class:"col span-6"},i={key:0,class:"row mt-10"},d={class:"col span-6"},c={key:1,class:"row mt-10"},u={class:"col span-6"},p={class:"col span-6"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("NameNsDescription"),g=(0,l.resolveComponent)("LabeledSelect"),f=(0,l.resolveComponent)("LabeledInput"),y=(0,l.resolveComponent)("Tab"),k=(0,l.resolveComponent)("RadioGroup"),N=(0,l.resolveComponent)("Tabbed"),V=(0,l.resolveComponent)("CruResource"),w=(0,l.resolveDirective)("int-number");return(0,l.openBlock)(),(0,l.createBlock)(V,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:h.saveNetwork},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{ref:"nd",value:a.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(N,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{name:"basics",label:e.t("harvester.network.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{value:v.type,"onUpdate:value":t[1]||(t[1]=e=>v.type=e),class:"mb-20",options:h.networkType,mode:e.mode,label:e.t("harvester.fields.type"),required:""},null,8,["value","options","mode","label"]),h.isUntaggedNetwork?(0,l.createCommentVNode)("",!0):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(f,{key:0,modelValue:v.config.vlan,"onUpdate:modelValue":t[2]||(t[2]=e=>v.config.vlan=e),modelModifiers:{number:!0},class:"mb-20",required:"",type:"number",placeholder:"e.g. 1-4094",label:e.t("tableHeaders.networkVlan"),mode:e.mode,"onUpdate:value":h.input},null,8,["modelValue","label","mode","onUpdate:value"])),[[w]]),(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(g,{value:v.config.bridge,"onUpdate:value":t[3]||(t[3]=e=>v.config.bridge=e),class:"mb-20",label:e.t("harvester.network.clusterNetwork.label"),required:"",options:h.clusterNetworkOptions,mode:e.mode,placeholder:e.t("harvester.network.clusterNetwork.selectPlaceholder")},null,8,["value","label","options","mode","placeholder"])])])])),_:1},8,["label"]),h.isUntaggedNetwork?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(y,{key:0,name:"layer3Network",label:e.t("harvester.network.tabs.layer3Network"),weight:98,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(k,{value:v.layer3Network.mode,"onUpdate:value":t[4]||(t[4]=e=>v.layer3Network.mode=e),name:"layer3NetworkMode",label:e.t("harvester.network.layer3Network.mode.label"),mode:e.mode,options:h.modeOptions},null,8,["value","label","mode","options"])])]),"auto"===v.layer3Network.mode?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(f,{value:v.layer3Network.serverIPAddr,"onUpdate:value":t[5]||(t[5]=e=>v.layer3Network.serverIPAddr=e),class:"mb-20",label:e.t("harvester.network.layer3Network.serverIPAddr.label"),mode:e.mode},null,8,["value","label","mode"])])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(f,{value:v.layer3Network.cidr,"onUpdate:value":t[6]||(t[6]=e=>v.layer3Network.cidr=e),class:"mb-20",label:e.t("harvester.network.layer3Network.cidr.label"),placeholder:e.t("harvester.network.layer3Network.cidr.placeholder"),mode:e.mode,required:""},null,8,["value","label","placeholder","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(f,{value:v.layer3Network.gateway,"onUpdate:value":t[7]||(t[7]=e=>v.layer3Network.gateway=e),class:"mb-20",label:e.t("harvester.network.layer3Network.gateway.label"),placeholder:e.t("harvester.network.layer3Network.gateway.placeholder"),mode:e.mode,required:""},null,8,["value","label","placeholder","mode"])])]))])),_:1},8,["label"]))])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])}var v=a(99373),h=a(82906),b=a(57985),g=a(5327),f=a(21221),y=a(70346),k=a(80316),N=a(2602),V=a(72706),w=a(86639),C=a(32766);const E="auto",S="manual";var B={emits:["update:value"],components:{Tab:h.A,Tabbed:v.A,CruResource:b.A,LabeledInput:g.o,NameNsDescription:y.A,RadioGroup:f.z,LabeledSelect:k.A},mixins:[V.A],props:{value:{type:Object,required:!0}},data(){const e=JSON.parse(this.value.spec.config),t=this.value?.metadata?.annotations||{},a=JSON.parse(t[N.r.NETWORK_ROUTE]||"{}");(e.bridge||"").endsWith("-br")&&(e.bridge=e.bridge.slice(0,-3));const l=this.value.vlanType||"L2VlanNetwork";return{config:e,type:l,layer3Network:{mode:a.mode||E,serverIPAddr:a.serverIPAddr||"",cidr:a.cidr||"",gateway:a.gateway||""}}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,w.kR)({clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:C.rk.CLUSTER_NETWORK})})},created(){this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},computed:{modeOptions(){return[{label:this.t("harvester.network.layer3Network.mode.auto"),value:E},{label:this.t("harvester.network.layer3Network.mode.manual"),value:S}]},clusterNetworkOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.rk.CLUSTER_NETWORK)||[];return t.map((e=>{const t=!e.isReady;return{label:t?`${e.id} (${this.t("generic.notReady")})`:e.id,value:e.id,disabled:t}}))},networkType(){return["L2VlanNetwork","UntaggedNetwork"]},isUntaggedNetwork(){return this.isView?"UntaggedNetwork"===this.value.vlanType:"UntaggedNetwork"===this.type}},methods:{async saveNetwork(e){const t=[];if(this.config.vlan||this.isUntaggedNetwork||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("tableHeaders.networkVlan")})),this.config.bridge||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.clusterNetwork.label")})),this.layer3Network.mode===S&&(this.layer3Network.gateway||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.layer3Network.gateway.label")})),this.layer3Network.cidr||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.layer3Network.cidr.label")}))),t.length>0)return e(!1),this.errors=t,!1;this.value.setAnnotation(N.r.NETWORK_ROUTE,JSON.stringify(this.layer3Network)),await this.save(e)},input(e){if(""===e)return void(this.config.vlan="");const t=Number(e);this.config.vlan=t>4094?4094:t<1?1:t},updateBeforeSave(){this.config.name=this.value.metadata.name,this.isUntaggedNetwork&&delete this.config.vlan,this.value.spec.config=JSON.stringify({...this.config,bridge:`${this.config.bridge}-br`})}}},x=a(47433);const A=(0,x.A)(B,[["render",m]]);var D=A},18549:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={class:"banner"},s={class:"mb-30"},r={class:"row mb-30"},n={class:"col span-6"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("MessageLink"),m=(0,l.resolveComponent)("Banner"),v=(0,l.resolveComponent)("RadioGroup"),h=(0,l.resolveComponent)("LabeledSelect"),b=(0,l.resolveComponent)("LabeledInput"),g=(0,l.resolveComponent)("Tab"),f=(0,l.resolveComponent)("Tabbed"),y=(0,l.resolveComponent)("CruResource"),k=(0,l.resolveDirective)("int-number");return(0,l.openBlock)(),(0,l.createBlock)(y,{"done-route":e.doneRoute,resource:a.value,mode:a.mode,errors:e.errors,"apply-hooks":e.applyHooks,validationPassed:u.canSave,onFinish:e.save,onError:t[6]||(t[6]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[u.isBackupTargetUnAvailable?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,color:"error"},{default:(0,l.withCtx)((()=>[u.isEmptyValue?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,to:u.toBackupTargetSetting,target:e._blank,"prefix-label":"harvester.backup.message.noSetting.prefix","middle-label":"harvester.backup.message.noSetting.middle","suffix-label":"harvester.schedule.message.noSetting.suffix"},null,8,["to","target"])):((0,l.openBlock)(),(0,l.createBlock)(p,{key:1,to:u.toBackupTargetSetting,"prefix-label":"harvester.backup.message.errorTip.prefix","middle-label":"harvester.backup.message.errorTip.middle"},{suffix:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.backup.message.errorTip.suffix"))+" "+(0,l.toDisplayString)(u.errorMessage),1)])),_:1},8,["to"]))])),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:a.value.spec.vmbackup.type,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.vmbackup.type=e),name:"model",options:u.scheduleTypeOptions,labels:[e.t("harvester.schedule.type.backup"),e.t("harvester.schedule.type.snapshot")],disabled:e.isEdit||e.isView,mode:a.mode,row:"",onInput:u.onTypeChange},null,8,["value","options","labels","disabled","mode","onInput"])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(h,{value:a.value.metadata.namespace,"onUpdate:value":t[1]||(t[1]=e=>a.value.metadata.namespace=e),label:e.t("nameNsDescription.namespace.label"),options:u.namespaces,required:"",disabled:u.isBackupTargetUnAvailable||e.isEdit||e.isView},null,8,["value","label","options","disabled"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{value:a.value.spec.vmbackup.source.name,"onUpdate:value":t[2]||(t[2]=e=>a.value.spec.vmbackup.source.name=e),label:e.t("harvester.schedule.virtualMachine.title"),placeholder:e.t("harvester.schedule.virtualMachine.placeholder"),options:u.vmOptions,required:"",disabled:u.isBackupTargetUnAvailable||e.isEdit||e.isView},null,8,["value","label","placeholder","options","disabled"])])])]),(0,l.createVNode)(f,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{name:"basics",label:e.t("harvester.network.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{value:a.value.spec.cron,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.cron=e),class:"mb-30",type:"cron",required:"",mode:a.mode,label:e.t("harvester.schedule.cron"),placeholder:"0 * * * *",disabled:u.isBackupTargetUnAvailable||e.isView},null,8,["value","mode","label","disabled"]),(0,l.withDirectives)((0,l.createVNode)(b,{value:a.value.spec.retain,"onUpdate:value":t[4]||(t[4]=e=>a.value.spec.retain=e),valueModifiers:{number:!0},class:"mb-30",min:2,max:250,type:"number",label:e.t("harvester.schedule.retain.label"),required:"",tooltip:e.t("harvester.schedule.retain.tooltip"),disabled:u.isBackupTargetUnAvailable||e.isView},null,8,["value","label","tooltip","disabled"]),[[k]]),(0,l.withDirectives)((0,l.createVNode)(b,{value:a.value.spec.maxFailure,"onUpdate:value":t[5]||(t[5]=e=>a.value.spec.maxFailure=e),valueModifiers:{number:!0},class:"mb-30",min:2,type:"number",label:e.t("harvester.schedule.maxFailure.label"),required:"",tooltip:e.t("harvester.schedule.maxFailure.tooltip"),disabled:u.isBackupTargetUnAvailable||e.isView,onInput:u.validateFailure},null,8,["value","label","tooltip","disabled","onInput"]),[[k]])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","validationPassed","onFinish"])}var c=a(21221),u=a(89121),p=a(5327),m=a(57985),v=a(99373),h=a(82906),b=a(45842),g=a(80316),f=a(72706),y=a(37021),k=a.n(y);function N(e=""){try{const t=k().toString(e);return!!t}catch(t){return!1}}var V=a(20652),w=a(86639),C=a(32766),E=a(73331),S=a(41837),B=a(71779),x={name:"CreateVMSchedule",components:{CruResource:m.A,Tabbed:v.A,Tab:h.A,RadioGroup:c.z,LabeledInput:p.o,LabeledSelect:g.A,MessageLink:b.A,Banner:u.l},mixins:[f.A],async fetch(){const e=await(0,w.kR)({settings:this.$store.dispatch("harvester/findAll",{type:C.rk.SETTING}),vms:this.$store.dispatch("harvester/findAll",{type:C.rk.VM})});this.allVms=e.vms,this.settings=e.settings},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){if(this.mode===B.YQ){const e=this.$store.getters["defaultNamespace"],t=this.$route.query?.vmNamespace||e,a=this.$route.query?.vmName;delete this.value.metadata.annotations,delete this.value.metadata.labels,this.value["metadata"]={namespace:t,name:a?`svmbackup-${a}`:""},this.value.spec||(this.value["spec"]={cron:"",retain:8,maxFailure:4,vmbackup:{source:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:a||""},type:S.a.BACKUP}})}return{settings:[]}},computed:{backupTargetResource(){return this.settings.find((e=>"backup-target"===e.id))},isEmptyValue(){return this.getBackupTargetValueIsEmpty(this.backupTargetResource)},canUpdate(){return this?.backupTargetResource?.canUpdate},errorMessage(){return this.backupTargetResource?.errMessage},canSave(){return!!this.value.spec.cron&&N(this.value.spec.cron)&&!!this.value.metadata.name&&!!this.value.metadata.namespace&&!!this.value.spec.retain&&!!this.value.spec.maxFailure},isBackupTargetUnAvailable(){return this.value.spec.vmbackup.type===S.a.BACKUP&&(this.errorMessage||this.isEmptyValue)&&this.canUpdate},vmOptions(){const e=this.$store.getters["harvester/all"](C.rk.VM).filter((e=>e.metadata.namespace===this.value.metadata.namespace)),t=e.map((e=>({label:e.nameDisplay,value:e.name})));return(0,E.Ul)(t,"label")},namespaces(){const e=this.$store.getters["allNamespaces"],t=(0,E.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t},toBackupTargetSetting(){const{cluster:e}=this.$router?.currentRoute?.params||{};return{name:`${V.KR}-c-cluster-resource-id`,params:{resource:`${C.rk.SETTING}`,cluster:e,id:"backup-target"},query:{mode:B.G5}}},scheduleTypeOptions(){return[S.a.BACKUP,S.a.SNAPSHOT]}},watch:{"value.metadata.namespace"(){this.value.spec.vmbackup.source.name=""},"value.spec.vmbackup.source.name"(e){this.value.metadata.name=`svm${this.value.spec.vmbackup.type}-${e}`}},methods:{onTypeChange(e){this.value.metadata.name=`svm${e}-${this.value.spec.vmbackup.source.name}`},getBackupTargetValueIsEmpty(e){let t=!0;if(e?.value)try{const a=JSON.parse(e?.value);t=!a.type}catch(a){}return t},validateFailure(e){this.value.spec.retain&&e>this.value.spec.retain&&(this.value.spec["maxFailure"]=this.value.spec.retain)}}},A=a(47433);const D=(0,A.A)(x,[["render",d]]);var _=D},37360:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var l=a(9274);const o={class:"filled-height"},s=(0,l.createElementVNode)("div",{class:"spacer"},null,-1);function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("Loading"),c=(0,l.resolveComponent)("NameNsDescription"),u=(0,l.resolveComponent)("Tab"),p=(0,l.resolveComponent)("Labels"),m=(0,l.resolveComponent)("Tabbed"),v=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createElementBlock)("form",o,[e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,mode:e.mode,"validation-passed":!0,"selected-subtype":e.value._type,resource:e.value,errors:e.errors,onFinish:i.saveSecret,onError:t[2]||(t[2]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,namespaced:!n.isCloud},null,8,["value","mode","namespaced"]),s,n.isCloud?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(i.cloudComponent),{key:0,ref:"cloudComponent","driver-name":i.driverName,value:e.value,mode:e.mode,"hide-sensitive-data":i.hideSensitiveData},null,8,["driver-name","value","mode","hide-sensitive-data"])):((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,"side-tabs":!0,"default-tab":"data"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{name:"data",label:i.dataLabel,weight:99},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(i.dataComponent),{value:e.value,mode:e.mode,"hide-sensitive-data":i.hideSensitiveData},null,8,["value","mode","hide-sensitive-data"]))])),_:1},8,["label"]),(0,l.createVNode)(u,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),mode:e.mode},null,8,["value","mode"])])),_:1})])),_:1}))])),_:1},8,["mode","selected-subtype","resource","errors","onFinish"]))])}var n=a(86310),i=a(20665),d=a(72706),c=a(70346),u=a(5327),p=a(80316),m=a(57985),v=a(71779),h=a(6483),b=a(99373),g=a(82906),f=a(20458),y=a(85401),k=a(55190),N=a(26812),V=a(9981),w=a(64033),C=a(41594),E={name:"CruSecret",emits:["update:value"],components:{LabeledInput:u.o,LabeledSelect:p.A,Loading:h.A,NameNsDescription:c.A,CruResource:m.A,Tabbed:b.A,Tab:g.A,Labels:f.A,SelectIconGrid:w.A},mixins:[d.A],async fetch(){this.isCloud&&(this.nodeDrivers=await this.$store.dispatch("management/findAll",{type:i.Mc.NODE_DRIVER}))},data(){const e=this.$route.query[v.Sd]===v.Qp,t=this.mode===v.G5&&this.value._type===n.J.CLOUD_CREDENTIAL,a=this.realMode===v.dT&&this.liveValue._type===n.J.CLOUD_CREDENTIAL,l=e||t||a;e&&(this.value.metadata.namespace=i.eo,this.value.metadata["name"]="",this.value["data"]={});const o=[{label:"Custom",value:"custom"},{label:"divider",disabled:!0,kind:"divider"}];return Object.values(n.J).forEach((e=>{o.push({label:e,value:e})})),this.mode===v.YQ&&(this.value["_type"]=n.J.OPAQUE),{isCloud:l,nodeDrivers:null,secretTypes:o,secretType:this.value._type,initialSecretType:this.value._type}},computed:{typeKey(){if(this.isCloud)return"cloud";switch(this.value._type){case n.J.TLS:return"tls";case n.J.BASIC:return"basic";case n.J.DOCKER_JSON:return"registry";case n.J.SSH:return"ssh"}return"generic"},dataComponent(){return a(48254)(`./${this.typeKey}`).default},driverName(){const e=this.value.metadata?.annotations?.[k.qt.CREDENTIAL_DRIVER];return e},cloudComponent(){const e=this.driverName,t=this.$store.getters["plugins/credentialDrivers"];return t.includes(e)?(0,V.qq)(e):(0,V.qq)("generic")},namespaces(){return this.$store.getters["cluster/all"](i.CU).map((e=>({label:e.nameDisplay,value:e.id})))},hideSensitiveData(){return this.$store.getters["prefs/get"](y.qv)},dataLabel(){switch(this.value._type){case n.J.TLS:return this.t("secret.certificate.certificate");case n.J.SSH:return this.t("secret.ssh.keys");case n.J.BASIC:return this.t("secret.authentication");default:return this.t("secret.data")}}},created(){this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:y.Ri,value:a},{root:!0})}))},methods:{async saveSecret(e){if(this.errors&&(0,N.IU)(this.errors),"function"===typeof this.$refs.cloudComponent?.test)try{const t=await this.$refs.cloudComponent.test();if(!t||t?.errors)return this.errors=t?.errors?t.errors:["Authentication test failed, please check your credentials"],void e(!1)}catch(t){return this.errors=[t],void e(!1)}return this.save(e)},typeDisplay(e,t){if(e===k.qt.CREDENTIAL_DRIVER)return this.$store.getters["i18n/withFallback"](`cluster.provider."${t}"`,null,t);{const t=e.replace(/^kubernetes.io\//,"");return this.$store.getters["i18n/withFallback"](`secret.types."${e}"`,null,t)}},initialDisplayFor(e){const t=((0,C.TF)(this.typeDisplay(e)||"").replace(/[^A-Z]/g,"")||e).substr(0,3);return this.$store.getters["i18n/withFallback"](`secret.initials."${e}"`,null,t)},selectCustomType(e){"custom"!==e&&(this.value["_type"]=e)}}},S=a(47433);const B=(0,S.A)(E,[["render",r]]);var x=B},6218:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(9274);const o={key:0,class:"edit-help"},s={class:"edit-change mt-20"},r=["disabled"],n={class:"mt-20"},i={key:0},d={key:1},c={key:2},u={key:3},p={key:4};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("LabeledSelect"),g=(0,l.resolveComponent)("RadioGroup"),f=(0,l.resolveComponent)("TextAreaAutoGrow"),y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("CruResource"),N=(0,l.resolveDirective)("clean-html"),V=(0,l.resolveDirective)("t");return(0,l.openBlock)(),(0,l.createBlock)(k,{class:"route",errors:v.errors,mode:e.mode,resource:e.value,subtypes:[],"can-yaml":!1,"cancel-event":!0,onError:t[6]||(t[6]=e=>v.errors=e),onFinish:h.saveSettings,onCancel:h.done},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("h4",null,null,512),[[N,v.description]]),v.editHelp?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("h5",o,null,512)),[[N,v.editHelp]]):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.withDirectives)((0,l.createElementVNode)("h5",null,null,512),[[V,"advancedSettings.edit.changeSetting"]]),(0,l.createElementVNode)("button",{disabled:!v.canReset,type:"button",class:"btn role-primary",onClick:t[0]||(t[0]=(...e)=>h.useDefault&&h.useDefault(...e))},(0,l.toDisplayString)(e.t("advancedSettings.edit.useDefault")),9,r)]),(0,l.createElementVNode)("div",n,["import"===v.setting.from?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[v.hasCustomComponent?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(v.customComponent),{key:0,ref:"settingComp",value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),"register-before-hook":e.registerBeforeHook,mode:e.mode},null,40,["value","register-before-hook","mode"])):(0,l.createCommentVNode)("",!0)])):"enum"===v.setting.kind?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createVNode)(b,{value:e.value.value,"onUpdate:value":t[2]||(t[2]=t=>e.value.value=t),label:e.t("advancedSettings.edit.value"),"localized-label":!0,mode:e.mode,options:v.enumOptions},null,8,["value","label","mode","options"])])):"boolean"===v.setting.kind?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createVNode)(g,{value:e.value.value,"onUpdate:value":t[3]||(t[3]=t=>e.value.value=t),name:"settings_value",labels:[e.t("advancedSettings.edit.trueOption"),e.t("advancedSettings.edit.falseOption")],options:["true","false"]},null,8,["value","labels"])])):"multiline"===v.setting.kind||"json"===v.setting.kind?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[(0,l.createVNode)(f,{value:e.value.value,"onUpdate:value":t[4]||(t[4]=t=>e.value.value=t),"min-height":254},null,8,["value"])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createVNode)(y,{value:e.value.value,"onUpdate:value":t[5]||(t[5]=t=>e.value.value=t),label:e.t("advancedSettings.edit.value")},null,8,["value","label"])]))])])),_:1},8,["errors","mode","resource","onFinish","onCancel"])}var v=a(57985),h=a(21221),b=a(5327),g=a(80316),f=a(57848),y=a(72706),k=a(5415),N={components:{CruResource:v.A,LabeledInput:b.o,LabeledSelect:g.A,RadioGroup:h.z,TextAreaAutoGrow:f.V},mixins:[y.A],data(){const e=this.$store.getters["i18n/t"],t=k.gh[this.value.id]||k.LP[this.value.id];let l=[];"enum"===t.kind&&(l=t.options.map((e=>({label:`advancedSettings.enum.harv-${this.value.id}.${e}`,value:e}))));const o=t.canReset||!!this.value.default||this.value.canReset;void 0===this.value.value&&(this.value["value"]=null),this.value.value=this.value.value||this.value.default||"";const s=this.value.value,r=this.value?.type?.includes("harvesterhci"),n=a(26190).keys().map((e=>e.replace(/(\.\/)|(.vue)/g,"")));return{setting:t,description:e(r?`advancedSettings.descriptions.harv-${this.value.id}`:`advancedSettings.descriptions.${this.value.id}`),editHelp:e(`advancedSettings.editHelp.${this.value.id}`),enumOptions:l,canReset:o,errors:[],hasCustomComponent:!1,customComponent:null,customSettingComponents:n,oldValue:s}},computed:{doneLocationOverride(){return this.value.doneOverride}},created(){let e=!1;const t=this.customSettingComponents.includes(this.value.id);if(t)try{e=a(88292)(`./${this.value.id}.vue`).default}catch{}else{const t=this.$route.params.resource,l=this.value.metadata.name;try{e=a(80373)(`./${t}/${l}.vue`).default}catch{}}this.hasCustomComponent=!!e,this.customComponent=e,this.registerAfterHook((()=>{this.value.id===k.EP.RANCHER_MANAGER_SUPPORT&&this.$store.commit("isRancherInHarvester","true"===this.value.value)}))},methods:{done(){this.$router.go(-1)},async saveSettings(e){const t=this.$store.getters["i18n/t"];if("json"===this.setting.kind&&this.value.default)try{JSON.parse(this.value.value),this.errors=[]}catch(a){return this.errors=[t("advancedSettings.edit.invalidJSON")],e(!1)}this.value.metadata.name===k.EP.CLUSTER_REGISTRATION_URL&&this.oldValue&&this.value.value!==this.oldValue&&await this.clusterRegistrationUrlTip(),this.save(e)},clusterRegistrationUrlTip(){return new Promise((e=>{this.$store.dispatch("harvester/promptModal",{component:"MessageBox",callback:t=>{"ok"===t&&e()},contentKey:"harvester.setting.clusterRegistrationUrl.message"},{root:!0})}))},useDefault(e){e&&e.srcElement&&e.srcElement.blur(),this.value.id===k.EP.VLAN?(this.value.enable=!1,this.value.config&&(this.value.config.defaultPhysicalNIC="")):this.value.value=this.value.default||"","function"===typeof this.$refs.settingComp?.useDefault&&this.$refs.settingComp.useDefault()}}},V=(a(47065),a(47433));const w=(0,V.A)(N,[["render",m],["__scopeId","data-v-63511616"]]);var C=w},70990:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-cbae9646"),e=e(),(0,l.popScopeId)(),e),s={class:"row mt-20"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mt-20"},d={class:"col span-6"},c={class:"box"},u={class:"row"},p={class:"col span-4 key"},m=o((()=>(0,l.createElementVNode)("span",{class:"required"},"*",-1))),v={class:"col span-8 value"},h={class:"row custom-headers"},b={class:"col span-4 key"},g={class:"col span-8 value"};function f(e,t,a,o,f,y){const k=(0,l.resolveComponent)("Loading"),N=(0,l.resolveComponent)("NameNsDescription"),V=(0,l.resolveComponent)("LabeledSelect"),w=(0,l.resolveComponent)("Tab"),C=(0,l.resolveComponent)("RadioGroup"),E=(0,l.resolveComponent)("LabeledInput"),S=(0,l.resolveComponent)("Tags"),B=(0,l.resolveComponent)("ArrayList"),x=(0,l.resolveComponent)("Tabbed"),A=(0,l.resolveComponent)("CruResource");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(A,{key:1,"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":!0,"apply-hooks":e.applyHooks,errors:e.errors,onError:t[6]||(t[6]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(N,{namespaced:!1,value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,"register-before-hook":e.registerBeforeHook},null,8,["value","mode","register-before-hook"]),(0,l.createVNode)(V,{value:e.value.provisioner,label:"Provisioner",options:y.provisioners,"localized-label":!0,mode:y.modeOverride,searchable:!0,taggable:!0,class:"mb-20","onUpdate:value":t[1]||(t[1]=e=>y.updateProvisioner(e))},null,8,["value","options","mode"]),(0,l.createVNode)(x,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{name:"parameters",label:e.t("storageClass.parameters.label"),weight:2},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(y.getComponent(e.value.provisioner)),{key:e.value.provisioner,value:e.value,mode:y.modeOverride,"real-mode":e.realMode},null,8,["value","mode","real-mode"]))])),_:1},8,["label"]),(0,l.createVNode)(w,{name:"customize",label:e.t("storageClass.customize.label")},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(C,{value:e.value.reclaimPolicy,"onUpdate:value":t[2]||(t[2]=t=>e.value.reclaimPolicy=t),name:"reclaimPolicy",label:e.t("storageClass.customize.reclaimPolicy.label"),mode:y.modeOverride,options:f.reclaimPolicyOptions},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(C,{value:e.value.allowVolumeExpansion,"onUpdate:value":t[3]||(t[3]=t=>e.value.allowVolumeExpansion=t),name:"allowVolumeExpansion",label:e.t("storageClass.customize.allowVolumeExpansion.label"),mode:y.modeOverride,options:f.allowVolumeExpansionOptions},null,8,["value","label","mode","options"])])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(C,{value:e.value.volumeBindingMode,"onUpdate:value":t[4]||(t[4]=t=>e.value.volumeBindingMode=t),name:"volumeBindingMode",label:e.t("storageClass.customize.volumeBindingMode.label"),mode:y.modeOverride,options:f.volumeBindingModeOptions},null,8,["value","label","mode","options"])])])])),_:1},8,["label"]),(0,l.createVNode)(w,{name:"allowedTopologies",label:e.t("harvester.storage.allowedTopologies.title"),weight:-1,tooltip:e.t("harvester.storage.allowedTopologies.tooltip")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(B,{value:f.allowedTopologies,"onUpdate:value":t[5]||(t[5]=e=>f.allowedTopologies=e),"default-add-value":f.defaultAddValue,"initial-empty-row":!0,"show-header":!0,mode:y.modeOverride},{"column-headers":(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("generic.key"))+" ",1),m]),(0,l.createElementVNode)("div",v,(0,l.toDisplayString)(e.t("generic.value")),1)])])])),columns:(0,l.withCtx)((t=>[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(E,{value:t.row.value.key,"onUpdate:value":e=>t.row.value.key=e,required:!0,mode:y.modeOverride},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(S,{value:t.row.value.values,"onUpdate:value":e=>t.row.value.values=e,"add-label":e.t("generic.add"),mode:y.modeOverride},null,8,["value","onUpdate:value","add-label","mode"])])])])),_:1},8,["value","default-add-value","mode"])])),_:1},8,["label","tooltip"])])),_:1})])),_:1},8,["done-route","mode","resource","apply-hooks","errors","onFinish","onCancel"]))}var y=a(72706),k=a(57985),N=a(70346),V=a(43528),w=a(82906),C=a(99373),E=a(21221),S=a(75834),B=a(80316),x=a(6483),A=a(71779),D=a(58784),_=a(20665),U=a(86639),T=a(3384),M=a(32766),L=a(42750);const O="driver.longhorn.io";var I={name:"HarvesterStorage",emits:["update:value"],components:{ArrayList:V.A,CruResource:k.A,LabeledSelect:B.A,LabeledInput:S.A,NameNsDescription:N.A,RadioGroup:E.z,Tab:w.A,Tabbed:C.A,Loading:x.A,Tags:L.A},mixins:[y.A],data(){const e=[{label:this.t("storageClass.customize.reclaimPolicy.delete"),value:"Delete"},{label:this.t("storageClass.customize.reclaimPolicy.retain"),value:"Retain"}],t=[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}],a=[{label:this.t("storageClass.customize.volumeBindingMode.now"),value:"Immediate"},{label:this.t("harvester.storage.customize.volumeBindingMode.later"),value:"WaitForFirstConsumer"}],l=(0,T.o8)(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]);return this.value["parameters"]=this.value.parameters||{},this.value["provisioner"]=this.value.provisioner||O,this.value["allowVolumeExpansion"]=this.value.allowVolumeExpansion||t[0].value,this.value["reclaimPolicy"]=this.value.reclaimPolicy||e[0].value,this.value["volumeBindingMode"]=this.value.volumeBindingMode||a[0].value,{reclaimPolicyOptions:e,allowVolumeExpansionOptions:t,volumeBindingModeOptions:a,mountOptions:[],provisioner:O,STORAGE_CLASS:_.fJ,allowedTopologies:l,defaultAddValue:{key:"",values:[]}}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={storages:this.$store.dispatch(`${e}/findAll`,{type:_.fJ}),longhornNodes:this.$store.dispatch(`${e}/findAll`,{type:_.oe.NODES}),csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:M.Zq})};await(0,U.kR)(t)},computed:{showUnsupportedStorage:(0,D.r$)(D.Wt),inStore(){return this.$store.getters["currentProduct"].inStore},modeOverride(){return this.isCreate?A.YQ:A.nW},provisionerWatch(){return this.value.provisioner},provisioners(){const e=this.$store.getters[`${this.inStore}/all`](M.Zq)||[],t={[O]:"storageClass.longhorn.title"};return e.map((e=>({label:t[e.name]||e.name,value:e.name})))},schema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](_.fJ)}},watch:{provisionerWatch(){this.value["parameters"]={}}},created(){this.registerBeforeHook(this.willSave,"willSave")},methods:{getComponent(e){try{return a(6232)(`./${e}`).default}catch{return a(43868)["default"]}},updateProvisioner(e){this.value["provisioner"]=e,this.value["allowVolumeExpansion"]=e===O},willSave(){Object.keys(this.value.parameters).forEach((e=>{null!==this.value.parameters[e]&&""!==this.value.parameters[e]||delete this.value.parameters[e]})),this.formatAllowedTopoloties()},formatAllowedTopoloties(){const e=this.allowedTopologies;if(!e||0===e.length)return void delete this.value.allowedTopologies;const t=e.filter((e=>!!e.key.trim()&&e.values.length>0&&!e.values.find((e=>!e.trim()))));t.length>0&&(this.value.allowedTopologies=[{matchLabelExpressions:t}])}}},R=(a(37642),a(47433));const $=(0,R.A)(I,[["render",f],["__scopeId","data-v-cbae9646"]]);var P=$},43868:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createBlock)(n,{value:a.value.parameters,"onUpdate:value":t[0]||(t[0]=e=>a.value.parameters=e),"add-label":e.t("storageClass.custom.addLabel"),"read-allowed":!1,mode:a.mode},null,8,["value","add-label","mode"])}var s=a(14815),r={components:{KeyValue:s.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},n=a(47433);const i=(0,n.A)(r,[["render",o]]);var d=i},34047:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"},u={key:0,class:"text-muted"},p={class:"row mt-20"},m={class:"row mt-20"},v={key:0,class:"row mt-20"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("LabeledSelect"),N=(0,l.resolveComponent)("RadioGroup"),V=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(y,{value:f.numberOfReplicas,"onUpdate:value":t[0]||(t[0]=e=>f.numberOfReplicas=e),label:e.t("harvester.storage.parameters.numberOfReplicas.label"),required:!0,mode:a.mode,min:"1",max:"3",type:"number"},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(y,{value:a.value.parameters.staleReplicaTimeout,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.staleReplicaTimeout=e),label:e.t("harvester.storage.parameters.staleReplicaTimeout.label"),required:!0,mode:a.mode,type:"number"},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:f.nodeSelector,"onUpdate:value":t[2]||(t[2]=e=>f.nodeSelector=e),label:e.t("harvester.storage.parameters.nodeSelector.label"),options:f.nodeTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",d,(0,l.toDisplayString)(e.t("harvester.storage.parameters.nodeSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(k,{value:f.diskSelector,"onUpdate:value":t[3]||(t[3]=e=>f.diskSelector=e),label:e.t("harvester.storage.parameters.diskSelector.label"),options:f.diskTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",u,(0,l.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:a.value.parameters.migratable,"onUpdate:value":t[4]||(t[4]=e=>a.value.parameters.migratable=e),name:"layer3NetworkMode",label:e.t("harvester.storage.parameters.migratable.label"),mode:a.mode,options:f.migratableOptions},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(N,{value:f.volumeEncryption,"onUpdate:value":t[5]||(t[5]=e=>f.volumeEncryption=e),name:"volumeEncryption",label:e.t("harvester.storage.volumeEncryption"),mode:a.mode,options:f.volumeEncryptionOptions},null,8,["value","label","mode","options"])]),"true"===a.value.parameters.encrypted?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(k,{value:f.secret,"onUpdate:value":t[6]||(t[6]=e=>f.secret=e),label:e.t("harvester.storage.secret"),options:f.secretOptions,mode:a.mode},null,8,["value","label","options","mode"])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(V,{value:f.parameters,"onUpdate:value":t[7]||(t[7]=e=>f.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var g=a(14815),f=a(80316),y=a(5327),k=a(16260),N=a(20665),V=a(71779),w=a(66905),C=a(3384),E=a(26812);const S=["numberOfReplicas","staleReplicaTimeout","diskSelector","nodeSelector","migratable","encrypted"],{CSI_PROVISIONER_SECRET_NAME:B,CSI_PROVISIONER_SECRET_NAMESPACE:x,CSI_NODE_PUBLISH_SECRET_NAME:A,CSI_NODE_PUBLISH_SECRET_NAMESPACE:D,CSI_NODE_STAGE_SECRET_NAME:_,CSI_NODE_STAGE_SECRET_NAMESPACE:U}=w.Et;var T={name:"DriverLonghornIO",components:{KeyValue:g.A,LabeledSelect:f.A,LabeledInput:y.o,RadioGroup:k.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await this.$store.dispatch(`${e}/findAll`,{type:N.CU});const t=await this.$store.dispatch(`${e}/findAll`,{type:N.bB});this.secrets=t.filter((e=>!1===e.isSystem))},data(){return this.realMode===V.YQ&&(this.value["parameters"]={numberOfReplicas:"3",staleReplicaTimeout:"30",diskSelector:null,nodeSelector:null,encrypted:"false",migratable:"true"}),{secrets:[]}},computed:{longhornNodes(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](N.oe.NODES)},nodeTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.tags||[];return(0,E.sb)([...e,...a])}),[])},diskTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.disks,l=Object.keys(a).reduce(((e,t)=>{const l=a[t]?.tags||[];return(0,E.sb)([...e,...l])}),[]);return(0,E.sb)([...e,...l])}),[])},isView(){return this.mode===V.nW},migratableOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},secretOptions(){return this.secrets.map((e=>e.id))},volumeEncryptionOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},parameters:{get(){const e=(0,C.o8)(this.value?.parameters)||{};return S.forEach((t=>{delete e[t]})),Object.values(w.Et).forEach((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}},volumeEncryption:{set(e){this.value["parameters"]={...this.value.parameters,encrypted:e}},get(){return this.value?.parameters?.encrypted||"false"}},secret:{get(){const e=this.value.parameters[x],t=this.value.parameters[B];return e&&t?`${e}/${t}`:""},set(e){const[t,a]=e.split("/");this.value["parameters"]={...this.value.parameters,[B]:a,[A]:a,[_]:a,[x]:t,[D]:t,[U]:t}}},nodeSelector:{get(){const e=this.value?.parameters?.nodeSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.nodeSelector=(e||[]).join(",")}},diskSelector:{get(){const e=this.value?.parameters?.diskSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.diskSelector=(e||[]).join(",")}},numberOfReplicas:{get(){return this.value?.parameters?.numberOfReplicas},set(e){e>=1&&e<=3&&(this.value.parameters.numberOfReplicas=String(e))}}}},M=(a(20998),a(47433));const L=(0,M.A)(T,[["render",b],["__scopeId","data-v-70e1bbc1"]]);var O=L},38968:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={id:"restore"},s={class:"content"},r={class:"mb-20"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("Checkbox"),g=(0,l.resolveComponent)("Footer");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(m,{value:u.restoreNewVm,"onUpdate:value":t[0]||(t[0]=e=>u.restoreNewVm=e),name:"model",options:[!0,!1],labels:[e.t("harvester.backup.restore.createNew"),e.t("harvester.backup.restore.replaceExisting")],disabled:p.disableExisting,mode:e.mode},null,8,["value","labels","disabled","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.namespace,"onUpdate:value":t[1]||(t[1]=e=>u.namespace=e),disabled:!u.restoreNewVm,label:e.t("nameNsDescription.namespace.label"),options:p.namespaces},null,8,["value","disabled","label","options"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(h,{value:u.name,"onUpdate:value":t[2]||(t[2]=e=>u.name=e),disabled:!u.restoreNewVm,label:e.t("harvester.backup.restore.virtualMachineName"),placeholder:e.t("nameNsDescription.name.placeholder"),class:"mb-20"},null,8,["value","disabled","label","placeholder"])])]),(0,l.createVNode)(v,{value:u.backupName,"onUpdate:value":t[3]||(t[3]=e=>u.backupName=e),class:"mb-20",label:e.t("harvester.backup.restore.backup"),options:p.backupOption},null,8,["value","label","options"]),u.restoreNewVm?((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,value:u.restoreResource.spec.keepMacAddress,"onUpdate:value":t[4]||(t[4]=e=>u.restoreResource.spec.keepMacAddress=e),type:"checkbox",label:e.t("harvester.backup.restore.keepMacAddress")},null,8,["value","label"])):(0,l.createCommentVNode)("",!0),u.restoreNewVm?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:u.deletionPolicy,"onUpdate:value":t[5]||(t[5]=e=>u.deletionPolicy=e),label:e.t("harvester.backup.restore.deletePreviousVolumes"),options:p.deletionPolicyOption},null,8,["value","label","options"]))]),(0,l.createVNode)(g,{mode:"create",class:"footer",errors:e.errors,onSave:p.saveRestore,onDone:p.cancelAction},null,8,["errors","onSave","onDone"])])}var u=a(41253),p=a(21221),m=a(5327),v=a(15072),h=a(80316),b=a(72706),g=a(86639),f=a(26953),y=a(73331),k=a(3384),N=a(32766),V=a(41837);const w={apiVersion:"harvesterhci.io/v1beta1",kind:"VirtualMachineRestore",metadata:{name:"",namespace:""},type:N.rk.RESTORE,spec:{target:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:""},virtualMachineBackupName:"",newVM:!0,deletionPolicy:"delete"}};var C={name:"CreateRestore",components:{Checkbox:v.A,Footer:u.A,RadioGroup:p.z,LabeledInput:m.o,LabeledSelect:h.A},mixins:[b.A],async fetch(){await(0,g.kR)({backups:this.$store.dispatch("harvester/findAll",{type:N.rk.BACKUP}),vms:this.$store.dispatch("harvester/findAll",{type:N.rk.VM})})},data(){const e=this.$route.query?.restoreMode,t=this.$route.query?.resourceName,a=(0,k.o8)(w),l="new"===e||void 0===e;return{backupName:t,restoreNewVm:l,restoreResource:a,name:"",description:"",deletionPolicy:"delete",namespace:""}},computed:{backupOption(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.filter((e=>{const t=this.restoreNewVm||e.attachVmExisting;return t&&e?.status?.readyToUse&&e.spec?.type!==V.a.SNAPSHOT})).map((e=>({label:e.metadata.name,value:e.metadata.name})))},deletionPolicyOption(){return[{value:"delete",label:"Delete"},{value:"retain",label:"Retain"}]},currentBackupResource(){const e=this.backupName,t=this.$store.getters["harvester/all"](N.rk.BACKUP);return t.find((t=>t.name===e))},disableExisting(){return!this.currentBackupResource?.attachVmExisting},backupNamespace(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.find((e=>e.metadata.name===this.backupName))?.metadata?.namespace},namespaces(){const e=this.$store.getters["allNamespaces"],t=(0,y.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t}},watch:{backupName:{handler(e){this.currentBackupResource&&(this.restoreNewVm||(this.name=this?.currentBackupResource?.attachVM)),this.restoreResource.spec.virtualMachineBackupName=e},immediate:!0},restoreNewVm(e){this.name=e?"":this?.currentBackupResource?.attachVM},backupNamespace:{handler(e){this.namespace=e},immediate:!0}},methods:{cancelAction(){this.$router.go(-1)},async saveRestore(e){this.update();const t=await this.$store.dispatch("harvester/create",this.restoreResource);t.metadata.namespace=this.namespace,t.spec.virtualMachineBackupNamespace=this.backupNamespace;try{await t.save(),e(!0),this.$router.push({name:this.doneRoute,params:{resource:N.rk.VM}})}catch(a){this.errors=(0,f.rz)(a)||a,e(!1)}},update(){this.restoreResource.metadata.generateName=`restore-${this.backupName}-`,this.name&&(this.restoreResource.spec.target.name=this.name),this.restoreNewVm?(delete this.restoreResource.spec.deletionPolicy,this.restoreResource.spec.newVM=!0):(this.restoreResource.spec.deletionPolicy=this.deletionPolicy,delete this.restoreResource.spec.newVM,delete this.restoreResource.spec.keepMacAddress)}},componentTitle(){return"restoreVM"}},E=(a(95141),a(47433));const S=(0,E.A)(C,[["render",c],["__scopeId","data-v-29d9137f"]]);var B=S},80522:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-e42b2796"),e=e(),(0,l.popScopeId)(),e),s={class:"row mb-20 mt-20"},r={class:"col span-12"},n={key:2},i={key:2,class:"fileName mt-5"},d=o((()=>(0,l.createElementVNode)("span",{class:"icon icon-file"},null,-1))),c={class:"row"},u={class:"col span-6"},p=["onUpdate:modelValue","disabled","placeholder","onUpdate:value"];function m(e,t,a,o,m,v){const h=(0,l.resolveComponent)("NameNsDescription"),b=(0,l.resolveComponent)("RadioGroup"),g=(0,l.resolveComponent)("LabeledInput"),f=(0,l.resolveComponent)("LabeledSelect"),y=(0,l.resolveComponent)("Tab"),k=(0,l.resolveComponent)("Select"),N=(0,l.resolveComponent)("KeyValue"),V=(0,l.resolveComponent)("Tabbed"),w=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(w,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"can-yaml":!!v.showEditAsYaml,"apply-hooks":e.applyHooks,onFinish:v.saveImage,onError:t[11]||(t[11]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{ref:"nd",value:a.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,label:e.t("generic.name"),"name-key":"spec.displayName"},null,8,["value","mode","label"]),(0,l.createVNode)(V,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{name:"basic",label:e.t("harvester.image.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,value:v.sourceType,"onUpdate:value":t[1]||(t[1]=e=>v.sourceType=e),name:"model",options:v.radioGroupOptions,labels:[e.t("harvester.image.sourceType.download"),e.t("harvester.image.sourceType.upload"),e.t("harvester.image.sourceType.encrypt"),e.t("harvester.image.sourceType.decrypt")],mode:e.mode},null,8,["value","options","labels","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[e.isCreate?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(g,{key:0,value:a.value.spec.sourceType,"onUpdate:value":t[2]||(t[2]=e=>a.value.spec.sourceType=e),mode:e.mode,class:"mb-20",disabled:e.isEdit,"label-key":"harvester.image.source"},null,8,["value","mode","disabled"])),"download"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createBlock)(g,{key:1,value:a.value.spec.url,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.url=e),mode:e.mode,disabled:e.isEdit,class:"mb-20 labeled-input--tooltip",required:"","label-key":"harvester.image.url",tooltip:e.t("harvester.image.urlTip",{},!0)},null,8,["value","mode","disabled","tooltip"])):"upload"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[e.isView?((0,l.openBlock)(),(0,l.createBlock)(g,{key:0,value:v.imageName,"onUpdate:value":t[4]||(t[4]=e=>v.imageName=e),mode:e.mode,class:"mt-20","label-key":"harvester.image.fileName"},null,8,["value","mode"])):(0,l.createCommentVNode)("",!0),e.isCreate?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:1,type:"button",class:"btn role-primary",onClick:t[6]||(t[6]=(...e)=>v.selectFile&&v.selectFile(...e))},[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.t("harvester.image.uploadFile")),1),(0,l.withDirectives)((0,l.createElementVNode)("input",{id:"file",ref:"file",type:"file",accept:".qcow, .qcow2, .raw, .img, .iso",onChange:t[5]||(t[5]=e=>v.handleFileUpload())},null,544),[[l.vShow,!1]])])):(0,l.createCommentVNode)("",!0),v.uploadFileName?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[d,(0,l.createTextVNode)(" "+(0,l.toDisplayString)(v.uploadFileName),1)])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0),"download"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createBlock)(g,{key:3,value:a.value.spec.checksum,"onUpdate:value":t[7]||(t[7]=e=>a.value.spec.checksum=e),mode:e.mode,disabled:e.isEdit,"label-key":"harvester.image.checksum",tooltip:e.t("harvester.image.checksumTip")},null,8,["value","mode","disabled","tooltip"])):(0,l.createCommentVNode)("",!0),"clone"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createBlock)(f,{key:4,value:v.sourceImage,"onUpdate:value":t[8]||(t[8]=e=>v.sourceImage=e),options:v.sourceImageOptions,label:e.t("harvester.image.sourceImage"),mode:e.mode,disabled:e.isEdit,class:"mb-20"},null,8,["value","options","label","mode","disabled"])):(0,l.createCommentVNode)("",!0)])])])),_:1},8,["label"]),(0,l.createVNode)(y,{name:"storage",label:e.t("harvester.storage.label"),weight:89,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(f,{value:v.storageClassName,"onUpdate:value":t[9]||(t[9]=e=>v.storageClassName=e),options:v.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:e.mode,disabled:e.isEdit,class:"mb-20"},null,8,["value","options","label","mode","disabled"])])])])),_:1},8,["label"]),(0,l.createVNode)(y,{name:"labels",label:e.t("labels.labels.title"),weight:2,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(N,{key:"labels",ref:"labels",value:a.value.labels,"add-label":e.t("labels.addLabel"),mode:e.mode,"pad-left":!1,"read-allowed":!1,onFocusKey:v.focusKey,"onUpdate:value":t[10]||(t[10]=e=>a.value.setLabels(e))},{value:(0,l.withCtx)((({row:t,keyName:a,valueName:o,queueUpdate:s})=>[v.internalAnnotations(t)?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,value:t[o],"onUpdate:value":[e=>t[o]=e,s],mode:e.mode,searchable:!0,clearable:!1,options:v.calculateOptions(t[a])},null,8,["value","onUpdate:value","mode","options"])):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>t[o]=e,disabled:e.isView,type:"text",placeholder:e.t("keyValue.valuePlaceholder"),autocorrect:"off",autocapitalize:"off",spellcheck:"false","onUpdate:value":s},null,40,p)),[[l.vModelDynamic,t[o]]])])),_:1},8,["value","add-label","mode","onFocusKey"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","can-yaml","apply-hooks","onFinish"])}var v=a(57985),h=a(99373),b=a(82906),g=a(5327),f=a(14815),y=a(70346),k=a(21221),N=a(37321),V=a(80316),w=a(72706),C=a(2602),E=a(26953),S=a(86639),B=a(20665),x=a(52880),A=a(48249),D=a(32766);const _="encrypt",U="decrypt",T="clone",M="download",L="upload",O="raw_qcow2";var I={name:"EditImage",emits:["update:value"],components:{Tab:b.A,Tabbed:h.A,KeyValue:f.A,Select:N.A,CruResource:v.A,LabeledInput:g.o,NameNsDescription:y.A,RadioGroup:k.z,LabeledSelect:V.A},mixins:[w.A],props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,S.kR)({images:this.$store.dispatch(`${e}/findAll`,{type:D.rk.IMAGE}),storageClasses:this.$store.dispatch(`${e}/findAll`,{type:B.fJ})});const t=this.$store.getters[`${e}/all`](B.fJ).find((e=>e.isDefault));this["storageClassName"]=this.storageClassName||t?.metadata?.name||"longhorn",this.images=this.$store.getters[`${e}/all`](D.rk.IMAGE);const{securityParameters:a}=this.value.spec;if(a){const e=`${a.sourceImageNamespace}/${a.sourceImageName}`;this.selectedImage=this.images.find((t=>t.id===e))}},data(){const{image:e,sourceType:t,cryptoOperation:a}=this.$route.query||{};if(this.value.spec||(this.value["spec"]={sourceType:t||M}),e&&a){const t=JSON.parse(e);this.value.spec.securityParameters={cryptoOperation:a,sourceImageName:t.metadata.name,sourceImageNamespace:t.metadata.namespace}}return this.value.metadata.name||(this.value.metadata.generateName="image-"),{selectedImage:null,images:[],url:this.value.spec.url,files:[],resource:"",headers:{},fileUrl:"",file:""}},computed:{uploadFileName(){return this.file?.name||""},imageName(){return this.value?.metadata?.annotations?.[C.r.IMAGE_NAME]||"-"},isCreateEdit(){return this.isCreate||this.isEdit},showEditAsYaml(){return this.value.spec.sourceType===M||this.value.spec.sourceType===T},radioGroupOptions(){return[M,L,_,U]},storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](B.fJ),a=t.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return a},storageClassName:{get(){return this.value.metadata.annotations[C.r.STORAGE_CLASS]},set(e){this.value.metadata.annotations[C.r.STORAGE_CLASS]=e}},sourceImageOptions(){let e=[];return this.value.spec.sourceType!==T?e:(e=this.value.spec.securityParameters.cryptoOperation===_?this.images.filter((e=>!e.isEncrypted)):this.images.filter((e=>e.isEncrypted)),e.map((e=>e.displayNameWithNamespace)))},sourceImage:{get(){return this.selectedImage?this.selectedImage.displayNameWithNamespace:""},set(e){this.selectedImage=this.images.find((t=>t.displayNameWithNamespace===e)),this.value.spec.securityParameters.sourceImageName=this.selectedImage?.metadata.name||"",this.value.spec.securityParameters.sourceImageNamespace=this.selectedImage?.metadata.namespace||""}},sourceType:{get(){return this.value.spec.sourceType===T?this.value.spec?.securityParameters?.cryptoOperation:this.value.spec.sourceType},set(e){e===U||e===_?(this.value.spec.sourceType=T,this.value.spec["securityParameters"]={cryptoOperation:e,sourceImageName:"",sourceImageNamespace:this.value.metadata.namespace},this.selectedImage=null):(delete this.value.spec["securityParameters"],this.value.spec.sourceType=e)}}},watch:{"value.spec.url"(e){const t=e.trim();this.setImageLabels(t)},"value.spec.sourceType"(){this["file"]=null,this.url="",this.$refs?.file?.value&&(this.$refs.file.value=null)}},methods:{async saveImage(e){if(this.value.spec.displayName=(this.value.spec.displayName||"").trim(),this.value.spec.sourceType===L&&this.isCreate)try{this.value.spec.url="";const t=this.file;this.value.metadata.annotations[C.r.IMAGE_NAME]=t?.name;const a=await this.value.save();a.uploadImage(t),e(!0),this.done()}catch(t){this.errors=(0,E.rz)(t),e(!1)}else this.value.spec.url=this.value.spec.url?.trim()||"",this.save(e)},setImageLabels(e){const t=e?.split("/")?.pop()||e,a=t?.split(".")?.pop()?.toLowerCase();if(x.Vi.includes(a)){const e="iso"===a?a:O;this.addLabel(C.r.IMAGE_SUFFIX,e),this.value.spec.displayName||this.$refs.nd.changeNameAndNamespace({text:t,selected:this.value.metadata.namespace})}const l=this.getOSType(e);l&&this.addLabel(C.r.OS_TYPE,l.value)},addLabel(e,t){const a=this.$refs.labels.rows;a.map(((t,a)=>{t.key===e&&this.$refs.labels.remove(a)})),this.$refs.labels.add(e,t)},handleFileUpload(){const e=this.$refs.file.files[0];this.file=e,this.setImageLabels(e?.name),this.value.spec.displayName||this.$refs.nd.changeNameAndNamespace({text:e?.name,selected:this.value.metadata.namespace}),this.setImageLabels()},selectFile(){this.$refs.file.value=null,this.$refs.file.click()},internalAnnotations(e){const t=[C.r.OS_TYPE,C.r.IMAGE_SUFFIX];return t.find((t=>t===e.key))},calculateOptions(e){return e===C.r.OS_TYPE?A.OS:e===C.r.IMAGE_SUFFIX?[{label:"ISO",value:"iso"},{label:"raw/qcow2",value:O}]:[]},focusKey(){this.$refs.key.focus()},getOSType(e){if(e)return A.OS.find((t=>t.match?!!t.match.find((t=>e.toLowerCase().includes(t)))&&t.value:!!e.toLowerCase().includes(t.value.toLowerCase())&&t.value))}}},R=(a(63804),a(47433));const $=(0,R.A)(I,[["render",m],["__scopeId","data-v-e42b2796"]]);var P=$},23048:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return J}});var l=a(9274);const o={class:"mb-20"},s={class:"row mb-20"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mb-20"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mb-20"},p={class:"col span-6"},m={class:"row mb-20"},v={key:0},h={class:"row mb-20"},b={class:"col span-6"},g=(0,l.createElementVNode)("div",{class:"spacer"},null,-1);function f(e,t,a,f,y,k){const N=(0,l.resolveComponent)("NameNsDescription"),V=(0,l.resolveComponent)("Checkbox"),w=(0,l.resolveComponent)("CpuMemory"),C=(0,l.resolveComponent)("SSHKey"),E=(0,l.resolveComponent)("Tab"),S=(0,l.resolveComponent)("Volume"),B=(0,l.resolveComponent)("Network"),x=(0,l.resolveComponent)("NodeScheduling"),A=(0,l.resolveComponent)("PodAffinity"),D=(0,l.resolveComponent)("KeyValue"),_=(0,l.resolveComponent)("Labels"),U=(0,l.resolveComponent)("LabeledSelect"),T=(0,l.resolveComponent)("Reserved"),M=(0,l.resolveComponent)("UnitInput"),L=(0,l.resolveComponent)("CloudConfig"),O=(0,l.resolveComponent)("Tabbed"),I=(0,l.resolveComponent)("CruResource"),R=(0,l.resolveDirective)("t");return y.templateSpec&&e.spec?((0,l.openBlock)(),(0,l.createBlock)(I,{key:0,"done-route":e.doneRoute,resource:a.value,"can-yaml":!1,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:k.saveVMT},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(N,{value:a.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:k.realTemplateMode,"name-label":"harvester.vmTemplate.nameNsDescription.name",namespaced:!0},null,8,["value","mode"]),y.templateId?((0,l.openBlock)(),(0,l.createBlock)(V,{key:0,value:y.isDefaultVersion,"onUpdate:value":t[1]||(t[1]=e=>y.isDefaultVersion=e),class:"mb-20",label:e.t("tableHeaders.defaultVersion"),type:"checkbox",mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(O,{"side-tabs":!0,onChanged:k.onTabChanged},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(E,{name:"Basics",label:e.t("harvester.vmTemplate.tabs.basics")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{cpu:e.cpu,memory:e.memory,disabled:k.isConfig,onUpdateCpuMemory:e.updateCpuMemory},null,8,["cpu","memory","disabled","onUpdateCpuMemory"]),(0,l.createElementVNode)("div",o,[(0,l.createVNode)(C,{value:e.sshKey,"onUpdate:value":t[2]||(t[2]=t=>e.sshKey=t),"create-namespace":!0,namespace:y.templateValue.metadata.namespace,"disable-create":e.isView,mode:e.mode,"onUpdate:sshKey":e.updateSSHKey},null,8,["value","namespace","disable-create","mode","onUpdate:sshKey"])])])),_:1},8,["label"]),(0,l.createVNode)(E,{name:"Volume",label:e.t("harvester.tab.volume"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(S,{value:e.diskRows,"onUpdate:value":t[3]||(t[3]=t=>e.diskRows=t),mode:e.mode,namespace:a.value.metadata.namespace,"existing-volume-disabled":!0},null,8,["value","mode","namespace"])])),_:1},8,["label"]),(0,l.createVNode)(E,{name:"Network",label:e.t("harvester.tab.network"),weight:-2},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(B,{value:e.networkRows,"onUpdate:value":t[4]||(t[4]=t=>e.networkRows=t),mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"]),(0,l.createVNode)(E,{name:"nodeScheduling",label:e.t("workload.container.titles.nodeScheduling"),weight:-3},{default:(0,l.withCtx)((({active:t})=>[(0,l.createVNode)(x,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodesIdOptions},null,8,["mode","value","nodes"])])),_:1},8,["label"]),(0,l.createVNode)(E,{label:e.t("harvester.tab.vmScheduling"),name:"vmScheduling",weight:-4},{default:(0,l.withCtx)((({active:t})=>[(0,l.createVNode)(A,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodes,"all-namespaces-option-available":!0,namespaces:e.filteredNamespaces,"overwrite-labels":e.affinityLabels},null,8,["mode","value","nodes","namespaces","overwrite-labels"])])),_:1},8,["label"]),(0,l.createVNode)(E,{name:e.t("generic.labels"),label:e.t("harvester.tab.instanceLabel"),weight:-5},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(_,{"default-container-class":"labels-and-annotations-container",value:a.value,mode:e.mode,"display-side-by-side":!1,"show-annotations":!1,"show-label-title":!1},{labels:(0,l.withCtx)((({toggler:o})=>[(0,l.createVNode)(D,{key:"labels",value:a.value.instanceLabels,"protected-keys":a.value.systemLabels||[],"toggle-filter":o,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,onInput:t[5]||(t[5]=e=>a.value.setInstanceLabels(e))},null,8,["value","protected-keys","toggle-filter","add-label","mode"])])),_:1},8,["value","mode"])])),_:1},8,["name","label"]),(0,l.createVNode)(E,{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-99},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(U,{value:e.runStrategy,"onUpdate:value":t[6]||(t[6]=t=>e.runStrategy=t),"label-key":"harvester.virtualMachine.runStrategy",options:e.runStrategies,mode:e.mode},null,8,["value","options","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(U,{value:e.osType,"onUpdate:value":t[7]||(t[7]=t=>e.osType=t),"label-key":"harvester.virtualMachine.osType",mode:e.mode,options:e.OS},null,8,["value","mode","options"])])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(U,{value:e.maintenanceStrategy,"onUpdate:value":t[8]||(t[8]=t=>e.maintenanceStrategy=t),"label-key":"harvester.virtualMachine.maintenanceStrategy.label",options:e.maintenanceStrategies,"get-option-label":e.getMaintenanceStrategyOptionLabel,mode:e.mode},null,8,["value","options","get-option-label","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(T,{"reserved-memory":e.reservedMemory,mode:e.mode,onUpdateReserved:e.updateReserved},null,8,["reserved-memory","mode","onUpdateReserved"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(V,{value:e.cpuPinning,"onUpdate:value":t[9]||(t[9]=t=>e.cpuPinning=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.cpuPinning.label",mode:e.mode},null,8,["value","mode"])])]),(0,l.createElementVNode)("div",m,[e.showAdvanced?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:0,role:"button",onClick:t[10]||(t[10]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[R,"harvester.generic.showMore"]]):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:1,role:"button",onClick:t[11]||(t[11]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[R,"harvester.generic.showMore"]])]),e.showAdvanced?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(M,{value:e.terminationGracePeriodSeconds,"onUpdate:value":t[12]||(t[12]=t=>e.terminationGracePeriodSeconds=t),suffix:1==e.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,onChange:e.updateTerminationGracePeriodSeconds},null,8,["value","suffix","label","mode","onChange"])])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(L,{ref:"yamlEditor",mode:e.mode,"user-script":e.userScript,namespace:y.templateValue.metadata.namespace,"network-script":e.networkScript,onUpdateUserData:e.updateUserData,onUpdateNetworkData:e.updateNetworkData},null,8,["mode","user-script","namespace","network-script","onUpdateUserData","onUpdateNetworkData"]),g,(0,l.createVNode)(V,{value:e.installUSBTablet,"onUpdate:value":t[13]||(t[13]=t=>e.installUSBTablet=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.enableUsb"),mode:e.mode},null,8,["value","label","mode"]),(0,l.createVNode)(V,{value:e.installAgent,"onUpdate:value":t[14]||(t[14]=t=>e.installAgent=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.installAgent",mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(V,{value:e.tpmEnabled,"onUpdate:value":t[15]||(t[15]=t=>e.tpmEnabled=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.advancedOptions.tpm",mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(V,{value:e.efiEnabled,"onUpdate:value":t[16]||(t[16]=t=>e.efiEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.efiEnabled"),mode:e.mode},null,8,["value","label","mode"]),e.efiEnabled?((0,l.openBlock)(),(0,l.createBlock)(V,{key:1,value:e.secureBoot,"onUpdate:value":t[17]||(t[17]=t=>e.secureBoot=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.secureBoot"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["onChanged"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])):(0,l.createCommentVNode)("",!0)}var y=a(65359),k=a(99373),N=a(82906),V=a(34211),w=a(57985),C=a(70346),E=a(80316),S=a(20458),B=a(14815),x=a(80149),A=a(9e3),D=a(57903),_=a(41594),U=a(71779),T=a(2602),M=a(72706),L=a(54348),O=a(32766),I=a(48249),R=a(13013),$=a(13329),P=a(54654),q=a(75907),F=a(46902),K=a(9629),j={name:"HarvesterEditVMTemplate",emits:["update:value"],components:{Tab:N.A,SSHKey:K["default"],Volume:$["default"],Tabbed:k.A,Network:P["default"],Checkbox:V.S,CpuMemory:q["default"],CruResource:w.A,CloudConfig:F["default"],LabeledSelect:E.A,NameNsDescription:C.A,NodeScheduling:x.A,PodAffinity:A.A,Reserved:R["default"],UnitInput:D.A,Labels:S.A,KeyValue:B.A},mixins:[M.A,I.Ay],props:{value:{type:Object,required:!0}},data(){this.mode===U.G5&&this.value.cleanForNew();const e=this.value.templateId||this.$route.query.templateId;return{templateId:e,templateValue:null,templateSpec:null,versionName:"",description:"",defaultVersion:null,isDefaultVersion:!1}},computed:{...(0,y.L8)({t:"i18n/t"}),isConfig(){return this.$route.query?.as===U.au||this.isView},realTemplateMode(){return this.templateId?U.nW:this.mode},secretNamePrefix(){return this.templateValue?.metadata?.name}},watch:{templateId:{async handler(e){const t=await this.$store.dispatch("harvester/findAll",{type:O.rk.VM_TEMPLATE});let a=t.find((t=>t.id===e))||null,l=a?.spec;a||(l={description:"",defaultVersionId:""},a=await this.$store.dispatch("harvester/create",{metadata:{name:"",namespace:""},spec:l,type:O.rk.VM_TEMPLATE})),this.templateValue=a,this.templateSpec=l},immediate:!0}},created(){this.registerAfterHook((async()=>{if(this.isDefaultVersion){const t=await this.$store.dispatch("harvester/findAll",{type:O.rk.VM_VERSION,opt:{force:!0}}),a=t.find((e=>e?.metadata?.annotations?.[T.r.TEMPLATE_VERSION_CUSTOM_NAME]===this.customName));if(a)try{this.templateValue.defaultVersionId=a.id;const e=[{op:"replace",path:"/spec/defaultVersionId",value:a.id}];await this.templateValue.patch(e,{url:this.templateValue.linkFor("view")})}catch(e){return Promise.reject(new Error(e.message))}}}))},mounted(){this.imageId=this.diskRows[0]?.image||""},methods:{async saveVMT(e){this.parseVM();const t=await this.$store.dispatch("harvester/findAll",{type:O.rk.VM_TEMPLATE}),a=t.find((e=>e.metadata.name===this.templateValue.metadata.name));try{if(this.templateId)a.save();else{if(!this.templateValue?.metadata?.name)return this.errors=[this.t("validation.required",{key:this.t("harvester.vmTemplate.nameNsDescription.name")})],void e(!1);await this.templateValue.save()}this.value.cleanForNew(),this.customName=(0,_.vx)(10),this.value.metadata["annotations"]={...this.value.metadata.annotations,[T.r.TEMPLATE_VERSION_CUSTOM_NAME]:this.customName};const t=this.templateValue.metadata.name||a.metadata.name,l=this.templateValue.metadata.namespace||a.metadata.namespace;this.isCreate&&(this.value.metadata.namespace=l),this.value.spec["templateId"]=`${l}/${t}`;const o=await this.value.save();await this.saveSecret(o),await this.applyHooks(L.Mz),this.done()}catch(l){this.errors=[l],e(!1)}},onTabChanged({tab:e}){"advanced"===e.name&&this.$refs.yamlEditor?.refresh()}}},H=a(47433);const G=(0,H.A)(j,[["render",f]]);var J=G},64457:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={id:"restore"},s={class:"content"},r={class:"mb-20"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("Footer");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(m,{value:u.restoreNewVm,"onUpdate:value":t[0]||(t[0]=e=>u.restoreNewVm=e),name:"model",options:[!0,!1],labels:[e.t("harvester.backup.restore.createNew"),e.t("harvester.backup.restore.replaceExisting")],disabled:p.disableExisting,mode:e.mode},null,8,["value","labels","disabled","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.namespace,"onUpdate:value":t[1]||(t[1]=e=>u.namespace=e),disabled:!0,label:e.t("nameNsDescription.namespace.label"),options:p.namespaces},null,8,["value","label","options"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(h,{value:u.name,"onUpdate:value":t[2]||(t[2]=e=>u.name=e),disabled:!u.restoreNewVm,label:e.t("harvester.backup.restore.virtualMachineName"),placeholder:e.t("nameNsDescription.name.placeholder"),class:"mb-20"},null,8,["value","disabled","label","placeholder"])])]),(0,l.createVNode)(v,{value:u.snapshotName,"onUpdate:value":t[3]||(t[3]=e=>u.snapshotName=e),class:"mb-20",label:e.t("harvester.vmSnapshot.snapshot"),options:p.snapshotOption},null,8,["value","label","options"]),u.restoreNewVm?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(v,{key:0,value:u.deletionPolicy,"onUpdate:value":t[4]||(t[4]=e=>u.deletionPolicy=e),label:e.t("harvester.backup.restore.deletePreviousVolumes"),options:p.deletionPolicyOption},null,8,["value","label","options"]))]),(0,l.createVNode)(b,{mode:"create",class:"footer",errors:e.errors,onSave:p.saveRestore,onDone:p.cancelAction},null,8,["errors","onSave","onDone"])])}var u=a(41253),p=a(21221),m=a(5327),v=a(80316),h=a(72706),b=a(86639),g=a(26953),f=a(20665),y=a(73331),k=a(3384),N=a(32766),V=a(41837);const w={apiVersion:"harvesterhci.io/v1beta1",kind:"VirtualMachineRestore",metadata:{name:"",namespace:""},type:N.rk.RESTORE,spec:{target:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:""},virtualMachineBackupName:"",newVM:!0,deletionPolicy:"retain"}};var C={name:"CreateRestore",components:{Footer:u.A,RadioGroup:p.z,LabeledInput:m.o,LabeledSelect:v.A},mixins:[h.A],async fetch(){await(0,b.kR)({backups:this.$store.dispatch("harvester/findAll",{type:N.rk.BACKUP}),vms:this.$store.dispatch("harvester/findAll",{type:N.rk.VM})})},data(){const e=this.$route.query?.restoreMode,t=this.$route.query?.resourceName,a=(0,k.o8)(w),l="new"===e||void 0===e;return{snapshotName:t,restoreNewVm:l,restoreResource:a,name:"",description:"",deletionPolicy:"retain",namespace:""}},computed:{snapshotOption(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.filter((e=>{const t=this.restoreNewVm||e.attachVmExisting;return t&&e?.status?.readyToUse&&e.spec?.type===V.a.SNAPSHOT})).map((e=>({label:e.metadata.name,value:e.metadata.name})))},deletionPolicyOption(){return[{value:"retain",label:"Retain"}]},currentBackupResource(){const e=this.snapshotName,t=this.$store.getters["harvester/all"](N.rk.BACKUP);return t.find((t=>t.name===e))},disableExisting(){return!this.currentBackupResource?.attachVmExisting},snapshotNamespace(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.find((e=>e.metadata.name===this.snapshotName))?.metadata?.namespace},namespaces(){const e=this.$store.getters["currentStore"](f.CU),t=this.$store.getters[`${e}/all`](f.CU),a=this.$store.getters["systemNamespaces"],l=(0,y.Ul)(t.filter((e=>!a.includes(e.metadata.name))).map((e=>({label:e.nameDisplay,value:e.id}))),"label");return l}},watch:{snapshotName:{handler(e){this.currentBackupResource&&(this.restoreNewVm||(this.name=this?.currentBackupResource?.attachVM)),this.restoreResource.spec.virtualMachineBackupName=e},immediate:!0},restoreNewVm(e){this.name=e?"":this?.currentBackupResource?.attachVM},snapshotNamespace:{handler(e){this.namespace=e},immediate:!0}},methods:{cancelAction(){this.$router.go(-1)},async saveRestore(e){this.update();const t=await this.$store.dispatch("harvester/create",this.restoreResource);t.metadata.namespace=this.namespace,t.spec.virtualMachineBackupNamespace=this.snapshotNamespace;try{await t.save(),e(!0),this.$router.push({name:this.doneRoute,params:{resource:N.rk.VM}})}catch(a){this.errors=(0,g.rz)(a)||a,e(!1)}},update(){this.restoreResource.metadata.generateName=`restore-${this.snapshotName}-`,this.name&&(this.restoreResource.spec.target.name=this.name),this.restoreNewVm?(delete this.restoreResource.spec.deletionPolicy,this.restoreResource.spec.newVM=!0):(this.restoreResource.spec.deletionPolicy=this.deletionPolicy,delete this.restoreResource.spec.newVM)}},componentTitle(){return"restoreVM"}},E=(a(63514),a(47433));const S=(0,E.A)(C,[["render",c],["__scopeId","data-v-19cfe058"]]);var B=S},35358:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("NameNsDescription"),i=(0,l.resolveComponent)("LabeledSelect"),d=(0,l.resolveComponent)("UnitInput"),c=(0,l.resolveComponent)("Tab"),u=(0,l.resolveComponent)("LabeledInput"),p=(0,l.resolveComponent)("SortableTable"),m=(0,l.resolveComponent)("ResourceTabs"),v=(0,l.resolveComponent)("CruResource"),h=(0,l.resolveDirective)("int-number");return(0,l.openBlock)(),(0,l.createBlock)(v,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:e.errors,"generate-yaml":r.generateYaml,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),namespaced:!0,mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(m,{value:e.value,"onUpdate:value":t[15]||(t[15]=t=>e.value=t),class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{name:"basic",label:e.t("harvester.volume.tabs.basics"),weight:3,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{value:s.source,"onUpdate:value":[t[1]||(t[1]=e=>s.source=e),r.update],label:e.t("harvester.volume.source"),options:r.sourceOption,disabled:!e.isCreate,required:"",mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"]),r.isVMImage?((0,l.openBlock)(),(0,l.createBlock)(i,{key:0,value:s.imageId,"onUpdate:value":[t[2]||(t[2]=e=>s.imageId=e),r.updateImage],label:e.t("harvester.volume.image"),options:r.imageOption,disabled:!e.isCreate,required:"",mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"])):(0,l.createCommentVNode)("",!0),"blank"===s.source?((0,l.openBlock)(),(0,l.createBlock)(i,{key:1,value:e.value.spec.storageClassName,"onUpdate:value":[t[3]||(t[3]=t=>e.value.spec.storageClassName=t),r.update],options:r.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:e.mode,class:"mb-20",disabled:!e.isCreate},null,8,["value","options","label","mode","disabled","onUpdate:value"])):(0,l.createCommentVNode)("",!0),(0,l.withDirectives)((0,l.createVNode)(d,{value:s.storage,"onUpdate:value":[t[4]||(t[4]=e=>s.storage=e),r.update],label:e.t("harvester.volume.size"),"input-exponent":3,"output-modifier":!0,increment:1024,mode:e.mode,required:"",class:"mb-20"},null,8,["value","label","mode","onUpdate:value"]),[[h]])])),_:1},8,["label"]),e.isCreate?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(c,{key:0,name:"details",label:e.t("harvester.volume.tabs.details"),weight:2.5,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{value:r.frontendDisplay,"onUpdate:value":t[5]||(t[5]=e=>r.frontendDisplay=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.frontend")},null,8,["value","mode","label"]),(0,l.createVNode)(u,{value:r.attachedNode,"onUpdate:value":t[6]||(t[6]=e=>r.attachedNode=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.attachedNode")},null,8,["value","mode","label"]),(0,l.createVNode)(u,{value:r.endpoint,"onUpdate:value":t[7]||(t[7]=e=>r.endpoint=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.endpoint")},null,8,["value","mode","label"]),(0,l.createVNode)(i,{value:r.diskTags,"onUpdate:value":t[8]||(t[8]=e=>r.diskTags=e),multiple:!0,label:e.t("harvester.volume.diskTags"),options:[],disabled:!0,mode:e.mode,class:"mb-20"},null,8,["value","label","mode"]),(0,l.createVNode)(i,{value:r.nodeTags,"onUpdate:value":t[9]||(t[9]=e=>r.nodeTags=e),multiple:!0,label:e.t("harvester.volume.nodeTags"),options:[],disabled:!0,mode:e.mode,class:"mb-20"},null,8,["value","label","mode"]),(0,l.createVNode)(u,{value:r.lastBackup,"onUpdate:value":t[10]||(t[10]=e=>r.lastBackup=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.lastBackup")},null,8,["value","mode","label"]),(0,l.createVNode)(u,{value:r.lastBackupAt,"onUpdate:value":t[11]||(t[11]=e=>r.lastBackupAt=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.lastBackupAt")},null,8,["value","mode","label"]),(0,l.createVNode)(u,{value:r.replicasNumber,"onUpdate:value":t[12]||(t[12]=e=>r.replicasNumber=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.replicasNumber")},null,8,["value","mode","label"])])),_:1},8,["label","weight"])),e.isCreate?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(c,{key:1,name:"instances",label:e.t("harvester.volume.tabs.snapshots"),weight:2,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,(0,l.mergeProps)(e.$attrs,{headers:r.snapshotHeaders,"default-sort-by":"age",rows:e.value.relatedVolumeSnapshotCounts,"key-field":"_key"}),null,16,["headers","rows"])])),_:1},8,["label"])),!e.isCreate&&e.value.spec.dataSource?((0,l.openBlock)(),(0,l.createBlock)(c,{key:2,name:"datasource",label:e.t("harvester.volume.tabs.datasource"),weight:1,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{value:r.dataSourceKind,"onUpdate:value":t[13]||(t[13]=e=>r.dataSourceKind=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.kind")},null,8,["value","mode","label"]),(0,l.createVNode)(u,{value:e.value.spec.dataSource.name,"onUpdate:value":t[14]||(t[14]=t=>e.value.spec.dataSource.name=t),mode:e.mode,disabled:!0,label:e.t("nameNsDescription.name.label")},null,8,["value","mode","label"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["value","mode"])])),_:1},8,["done-route","resource","mode","errors","generate-yaml","apply-hooks","onFinish"])}var s=a(82906),r=a(46880),n=a(57985),i=a(57903),d=a(19878),c=a(80316),u=a(5327),p=a(70346),m=a(86639),v=a(3384),h=a(20665),b=a(73331),g=a(1195),f=a(71779),y=a(72706),k=a(2602),N=a(49263),V=a(66905),w=a(32766),C={name:"HarvesterVolume",emits:["update:value"],components:{Tab:s.A,UnitInput:i.A,CruResource:n.A,SortableTable:r.A,ResourceTabs:d.A,LabeledSelect:c.A,LabeledInput:u.o,NameNsDescription:p.A},mixins:[y.A],async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={images:this.$store.dispatch(`${e}/findAll`,{type:w.rk.IMAGE}),snapshots:this.$store.dispatch(`${e}/findAll`,{type:w.qY}),storages:this.$store.dispatch(`${e}/findAll`,{type:h.fJ}),pvs:this.$store.dispatch(`${e}/findAll`,{type:h.PV})};this.$store.getters[`${e}/schemaFor`](h.oe.VOLUMES)&&(t.longhornVolumes=this.$store.dispatch(`${e}/findAll`,{type:h.oe.VOLUMES})),this.$store.getters[`${e}/schemaFor`](h.oe.ENGINES)&&(t.longhornEngines=this.$store.dispatch(`${e}/findAll`,{type:h.oe.ENGINES}));const a=await(0,m.kR)(t);this.snapshots=a.snapshots,this.images=a.images;const l=this.$store.getters["harvester/all"](h.fJ).find((e=>e.isDefault));this.value.spec["storageClassName"]=this.value?.spec?.storageClassName||l?.metadata?.name||"longhorn"},data(){this.mode===f.YQ&&(this.value.spec.volumeMode="Block",this.value.spec.accessModes=["ReadWriteMany"]);const e=this.value?.spec?.resources?.requests?.storage||null,t=(0,v.Jt)(this.value,`metadata.annotations."${k.r.IMAGE_ID}"`),a=t?"url":"blank";return{source:a,storage:e,imageId:t,snapshots:[],images:[]}},created(){this.registerBeforeHook(this.willSave,"willSave")},computed:{isBlank(){return"blank"===this.source},isVMImage(){return"url"===this.source},sourceOption(){return[{value:"blank",label:this.t("harvester.volume.sourceOptions.new")},{value:"url",label:this.t("harvester.volume.sourceOptions.vmImage")}]},interfaceOption(){return V.$z},imageOption(){return(0,b.Ul)(this.images.filter((e=>e.isReady)).map((e=>({label:`${e.metadata.namespace}/${e.spec.displayName}`,value:e.id}))),"label")},snapshotHeaders(){return[N.c4,N.o_,N.CU,{name:"size",labelKey:"tableHeaders.size",value:"status.restoreSize",sort:"size",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"readyToUse",labelKey:"tableHeaders.readyToUse",value:"status.readyToUse",align:"left",formatter:"Checked"},N.K]},dataSourceKind(){return V.$E[this.value.spec?.dataSource?.kind]},storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](h.fJ),a=t.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return a},frontend(){return this.value.longhornVolume?.spec?.frontend},frontendDisplay(){const e=["blockdev"];return e.includes(this.frontend)?this.t(`harvester.volume.${this.frontend}`):this.frontend},attachedNode(){return this.value.longhornVolume?.spec?.nodeID},endpoint(){return this.value.longhornEngine?.status?.endpoint},diskTags(){return this.value.longhornVolume?.spec?.diskSelector},nodeTags(){return this.value.longhornVolume?.spec?.nodeSelector},replicasNumber(){return this.value.longhornVolume?.spec?.numberOfReplicas},lastBackup(){return this.value.longhornVolume?.status?.lastBackup},lastBackupAt(){return this.value.longhornVolume?.status?.lastBackupAt},rebuildStatus(){return this.value.longhornEngine?.status?.rebuildStatus}},methods:{willSave(){this.update()},update(){let e="",t=this.value.spec.storageClassName;if(this.isVMImage&&this.imageId){const a=this.$store.getters["harvester/all"](w.rk.IMAGE);e={...this.value.metadata.annotations,[k.r.IMAGE_ID]:this.imageId},t=a?.find((e=>this.imageId===e.id))?.storageClassName}else e={...this.value.metadata.annotations};const a={...this.value.spec,resources:{requests:{storage:this.storage}},storageClassName:t};this.value.setAnnotations(e),this.value["spec"]=a},updateImage(){if(this.isVMImage&&this.imageId){const e=this.images?.find((e=>this.imageId===e.id)),t=Math.max(e?.status?.size,e?.status?.virtualSize);t&&(this.storage=`${Math.ceil(t/1024/1024/1024)}Gi`)}this.update()},generateYaml(){const e=(0,g.Kq)(this.value);return e}}},E=a(47433);const S=(0,E.A)(C,[["render",o]]);var B=S},82123:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-12"},i={key:0,class:"row"},d={class:"col span-12"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("NameNsDescription"),v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("Tab"),b=(0,l.resolveComponent)("ResourceTabs"),g=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(g,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),namespaced:!0,mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(b,{value:e.value,"onUpdate:value":t[4]||(t[4]=t=>e.value=t),class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics"),class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:p.size,"onUpdate:value":t[1]||(t[1]=e=>p.size=e),label:e.t("harvester.snapshot.size"),class:"mt-20",disabled:!0},null,8,["value","label"])])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(v,{value:p.targetVolume,"onUpdate:value":t[2]||(t[2]=e=>p.targetVolume=e),label:e.t("harvester.snapshot.targetVolume"),class:"mt-20",disabled:!0},null,8,["value","label"])])]),p.isImageVolume?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(v,{value:p.imageName,"onUpdate:value":t[3]||(t[3]=e=>p.imageName=e),label:e.t("harvester.snapshot.image"),class:"mt-20",disabled:!0},null,8,["value","label"])])])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["value","mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])])}var u=a(82906),p=a(57985),m=a(19878),v=a(5327),h=a(70346),b=a(3384),g=a(72706),f=a(55190),y=a(32766),k={name:"HarvesterSnapshot",emits:["update:value"],components:{LabeledInput:v.o,Tab:u.A,ResourceTabs:m.A,CruResource:p.A,NameNsDescription:h.A},mixins:[g.A],computed:{volume(){return this.volumes.find((e=>e.metadata.name===this.targetVolume))},size(){return this.value?.status?.restoreSize},isImageVolume(){return!!(0,b.Jt)(this.value,`metadata.annotations."${f.rk.IMAGE_ID}"`)},imageName(){const e=this.$store.getters["harvester/all"](y.rk.IMAGE).find((e=>e.id===(0,b.Jt)(this.value,`metadata.annotations."${f.rk.IMAGE_ID}"`)));return e?.spec?.displayName},targetVolume(){return this.value?.spec?.source?.persistentVolumeClaimName}}},N=a(47433);const V=(0,N.A)(k,[["render",c]]);var w=V},67649:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"compat-matrix"},s={class:"device-col node-names"},r={class:"blank-corner"},n={class:"text-right"};function i(e,t,a,i,d,c){const u=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,(0,l.toDisplayString)(e.t("harvester.devices.matrixDeviceClaimName")),1),(0,l.createElementVNode)("div",null,(0,l.toDisplayString)(e.t("harvester.devices.matrixHostName")),1)]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(c.allNodeNames,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:t},[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e),1)])))),128))]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.enabledDevices,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:t},[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["compat-cell device-label",{"text-muted":c.noneAvailable(e)}])},[(0,l.createTextVNode)((0,l.toDisplayString)(e.metadata.name),1)],2)),[[u,c.deviceTooltip(e)]]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(c.allNodeNames,((t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:a,class:(0,l.normalizeClass)(["compat-cell",{"has-device":c.nodeHasDevice(t,e)}])},null,2)))),128))])))),128))])}var d=a(65359),c={props:{enabledDevices:{type:Array,required:!0},devicesByNode:{type:Object,required:!0},devicesInUse:{type:Object,default:()=>{}}},computed:{...(0,d.L8)({t:"i18n/t"}),allNodeNames(){return Object.keys(this.devicesByNode)},allDeviceIds(){return Object.keys(this.uniqueDevices)}},methods:{nodeNameFromId(e){return this.devicesByNode[e]?.name},nodeHasDevice(e,t){return t.status.nodeName===e},noneAvailable(e){const t=e.metadata?.name;return!!this.devicesInUse[t]},deviceTooltip(e){return`${e?.status?.resourceName}<br/>${e?.status?.description}`}}},u=(a(46855),a(47433));const p=(0,u.A)(c,[["render",i]]);var m=p},63720:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o={key:0,class:"row"},s={class:"col span-12"},r={key:1},n={class:"row"},i={class:"col span-12"},d={class:"row"},c={class:"col span-6"},u={class:"text-label"},p={key:0,class:"row"},m={class:"col span-12 text-muted"},v={key:1,class:"text-error"},h={key:2,class:"row mt-20"},b={class:"col span-12"},g={class:"row mt-20"},f={class:"col span-12"};function y(e,t,a,y,k,N){const V=(0,l.resolveComponent)("Banner"),w=(0,l.resolveComponent)("t"),C=(0,l.resolveComponent)("LabeledSelect"),E=(0,l.resolveComponent)("CompatibilityMatrix"),S=(0,l.resolveComponent)("DeviceList"),B=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[k.oldFormatDevices.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(V,{color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("p",null,null,512),[[B,e.t("harvester.pci.oldFormatDevices.help",{oldFormatDevicesHTML:N.oldFormatDevicesHTML},!0)]])])),_:1})])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(V,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{k:"harvester.pci.howToUseDevice"})])),_:1}),k.selectedDevices.length>0?((0,l.openBlock)(),(0,l.createBlock)(V,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{k:"harvester.pci.deviceInTheSameHost"})])),_:1})):(0,l.createCommentVNode)("",!0)])]),N.enabledDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(C,{value:k.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>k.selectedDevices=e),label:"Available PCI Devices",searchable:"",multiple:"",taggable:"",options:N.deviceOpts,mode:a.mode},{option:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,[(0,l.createTextVNode)((0,l.toDisplayString)(e.value)+" ",1),(0,l.createElementVNode)("span",u,"("+(0,l.toDisplayString)(e.displayLabel)+")",1)])])),_:1},8,["value","options","mode"])])]),N.compatibleNodes.length&&k.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createTextVNode)(" Compatible hosts: "),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.compatibleNodes,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t},(0,l.toDisplayString)(e)+(0,l.toDisplayString)(t<N.compatibleNodes.length-1?", ":""),1)))),128))])])):k.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,(0,l.toDisplayString)(e.t("harvester.pci.impossibleSelection")),1)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-sm role-link pl-0",onClick:t[1]||(t[1]=e=>{k.showMatrix=!k.showMatrix,e.target.blur()})},(0,l.toDisplayString)(k.showMatrix?e.t("harvester.pci.hideCompatibility"):e.t("harvester.pci.showCompatibility")),1),k.showMatrix?((0,l.openBlock)(),(0,l.createElementBlock)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(E,{"enabled-devices":N.enabledDevices,"devices-by-node":N.devicesByNode,"devices-in-use":N.devicesInUse},null,8,["enabled-devices","devices-by-node","devices-in-use"])])])):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(S,{schema:k.pciDeviceSchema,devices:k.pciDevices,onSubmit:t[2]||(t[2]=(0,l.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])]))])}var k=a(71779),N=a(86639),V=a(80316),w=a(5381),C=a(65079),E=a.n(C),S=a(3384),B=a(32766),x=a(76268),A=a(67649),D={name:"VirtualMachinePCIDevices",components:{LabeledSelect:V.A,DeviceList:x["default"],CompatibilityMatrix:A["default"],Banner:w.A},props:{mode:{type:String,default:k.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={pciDevices:this.$store.dispatch("harvester/findAll",{type:B.rk.PCI_DEVICE}),claims:this.$store.dispatch("harvester/findAll",{type:B.rk.PCI_CLAIM}),vms:this.$store.dispatch("harvester/findAll",{type:B.rk.VM})},t=await(0,N.kR)(e);for(const r in t)this[r]=t[r];const a=[],l=[],o=this.value?.domain?.devices?.hostDevices||[],s=this.otherDevices(o).map((({name:e})=>e));o.forEach((({name:e,deviceName:t})=>{const o=(t||"").split("/")?.[1];o&&e.includes(o)&&!s.includes(e)?l.push(e):this.enabledDevices.find((t=>t?.metadata?.name===e))&&a.push(e)})),l.length>0?this.oldFormatDevices=l:this.selectedDevices=a},data(){return{pciDevices:[],claims:[],vms:[],selectedDevices:[],pciDeviceSchema:this.$store.getters["harvester/schemaFor"](B.rk.PCI_DEVICE),showMatrix:!1,oldFormatDevices:[]}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=t?.status?.resourceName;return{deviceName:a,name:t?.metadata.name}})),a=[...this.otherDevices(this.value.domain.devices.hostDevices||[]),...t];(0,S.hZ)(this.value.domain.devices,"hostDevices",a)}},computed:{enabledDevices(){return this.pciDevices.filter((e=>e.isEnabled&&e.claimedByMe))||[]},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.status?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{E()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a.status.nodeName!==e}))})),e},deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.status.nodeName===t.status.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name,displayLabel:e?.status?.resourceName})))},oldFormatDevicesHTML(){return this.oldFormatDevices.map((e=>`<li>${e}</li>`)).join("")}},methods:{otherDevices(e){return e.filter((e=>!this.pciDevices.find((t=>e.name===t.name))))},nodeNameFromUid(e){for(const t in this.uniqueDevices){const a=this.uniqueDevices[t].nodes,l=a.find((t=>t.systemUUID===e));if(l)return l.name}}}},_=a(47433);const U=(0,_.A)(D,[["render",y]]);var T=U},13013:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("UnitInput"),i=(0,l.resolveDirective)("int-number");return(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(n,{value:s.memory,"onUpdate:value":[t[0]||(t[0]=e=>s.memory=e),r.change],label:e.t("harvester.virtualMachine.input.reservedMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0},null,8,["value","label","mode","onUpdate:value"])),[[i]])}var s=a(57903),r={name:"HarvesterReserved",emits:["updateReserved"],components:{UnitInput:s.A},props:{reservedMemory:{type:String,default:null},mode:{type:String,default:"create"}},data(){return{memory:this.reservedMemory}},watch:{reservedMemory(e){this.memory=e}},methods:{change(){const{memory:e}=this;this.$emit("updateReserved",{memory:e})}}},n=a(47433);const i=(0,n.A)(r,[["render",o]]);var d=i},79261:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-6"},i={class:"text-label"},d={key:0,class:"row"},c={class:"col span-12 text-muted"},u={key:1,class:"text-error"},p={key:2,class:"row mt-20"},m={class:"col span-12"},v={class:"row mt-20"},h={class:"col span-12"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("t"),k=(0,l.resolveComponent)("Banner"),N=(0,l.resolveComponent)("LabeledSelect"),V=(0,l.resolveComponent)("CompatibilityMatrix"),w=(0,l.resolveComponent)("DeviceList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(k,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{k:"harvester.usb.howToUseDevice"})])),_:1}),g.selectedDevices.length>0?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{k:"harvester.usb.deviceInTheSameHost"})])),_:1})):(0,l.createCommentVNode)("",!0)])]),f.enabledDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(N,{value:g.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>g.selectedDevices=e),label:e.t("harvester.usb.available"),searchable:"",multiple:"",taggable:"",options:f.deviceOpts,mode:a.mode},{option:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,[(0,l.createTextVNode)((0,l.toDisplayString)(e.value)+" ",1),(0,l.createElementVNode)("span",i,"("+(0,l.toDisplayString)(e.displayLabel)+")",1)])])),_:1},8,["value","label","options","mode"])])]),f.compatibleNodes.length&&g.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createTextVNode)(" Compatible hosts: "),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(f.compatibleNodes,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:e},(0,l.toDisplayString)(e)+(0,l.toDisplayString)(t<f.compatibleNodes.length-1?", ":""),1)))),128))])])):g.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,(0,l.toDisplayString)(e.t("harvester.usb.impossibleSelection")),1)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-sm role-link pl-0",onClick:t[1]||(t[1]=e=>{g.showMatrix=!g.showMatrix,e.target.blur()})},(0,l.toDisplayString)(g.showMatrix?e.t("harvester.usb.hideCompatibility"):e.t("harvester.usb.showCompatibility")),1),g.showMatrix?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(V,{"enabled-devices":f.enabledDevices,"devices-by-node":f.devicesByNode,"devices-in-use":f.devicesInUse},null,8,["enabled-devices","devices-by-node","devices-in-use"])])])):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(w,{schema:g.deviceSchema,devices:g.devices,onSubmit:t[2]||(t[2]=(0,l.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])])}var g=a(71779),f=a(86639),y=a(32766),k=a(49263),N=a(80316),V=a(5381),w=a(67649),C=a(54815),E=a(65079),S=a.n(E),B=a(3384),x={name:"VirtualMachineUSBDevices",components:{Banner:V.A,CompatibilityMatrix:w["default"],DeviceList:C["default"],LabeledSelect:N.A},props:{mode:{type:String,default:g.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={devices:this.$store.dispatch("harvester/findAll",{type:y.rk.USB_DEVICE}),vms:this.$store.dispatch("harvester/findAll",{type:y.rk.VM})},t=await(0,f.kR)(e);for(const a in t)this[a]=t[a];this.selectedDevices=(this.value?.domain?.devices?.hostDevices||[]).map((({name:e})=>e)).filter((e=>this.enabledDevices.find((t=>t?.metadata?.name===e))))},data(){return{deviceSchema:this.$store.getters["harvester/schemaFor"](y.rk.USB_DEVICE),deviceHeaders:[{...k.c4},k.X0],devices:[],vms:[],selectedDevices:[],showMatrix:!1}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=t?.status?.resourceName;return{deviceName:a,name:t?.metadata.name}})),a=[...this.otherDevices(this.value.domain.devices.hostDevices||[]),...t];(0,B.hZ)(this.value.domain.devices,"hostDevices",a)}},computed:{deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.status.nodeName===t?.status.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name,displayLabel:e?.status?.description})))},enabledDevices(){return this.devices.filter((e=>e.status.enabled))},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.status?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{S()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a?.status.nodeName!==e}))})),e}},methods:{otherDevices(e){return e.filter((e=>!this.devices.find((t=>e.name===t.name))))}}},A=a(47433);const D=(0,A.A)(x,[["render",b]]);var _=D},51813:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-6"},i={key:0,class:"row"},d={class:"col span-12 text-muted"},c={key:1,class:"text-error"},u={class:"row mt-20"},p={class:"col span-12"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("t"),g=(0,l.resolveComponent)("Banner"),f=(0,l.resolveComponent)("LabeledSelect"),y=(0,l.resolveComponent)("VGpuDeviceList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(g,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{k:"harvester.vgpu.howToUseDevice"})])),_:1}),v.selectedDevices.length>0?((0,l.openBlock)(),(0,l.createBlock)(g,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{k:"harvester.vgpu.deviceInTheSameHost"})])),_:1})):(0,l.createCommentVNode)("",!0)])]),h.enabledDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(f,{value:v.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>v.selectedDevices=e),label:"Available vGPU Devices",searchable:"",multiple:"",taggable:"",options:h.deviceOpts,mode:a.mode},{option:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.value),1)])),_:1},8,["value","options","mode"])])]),h.compatibleNodes.length&&v.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createTextVNode)(" Compatible hosts: "),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(h.compatibleNodes,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t},(0,l.toDisplayString)(e)+(0,l.toDisplayString)(t<h.compatibleNodes.length-1?", ":""),1)))),128))])])):v.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,(0,l.toDisplayString)(e.t("harvester.vgpu.impossibleSelection")),1)):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(y,{schema:v.deviceSchema,devices:v.devices,onSubmit:t[1]||(t[1]=(0,l.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])])}var v=a(71779),h=a(86639),b=a(80316),g=a(5381),f=a(65079),y=a.n(f),k=a(3384),N=a(32766),V=a(33212),w=a(26812),C={name:"VirtualMachineVGpuDevices",components:{Banner:g.A,LabeledSelect:b.A,VGpuDeviceList:V["default"]},props:{mode:{type:String,default:v.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={devices:this.$store.dispatch("harvester/findAll",{type:N.rk.VGPU_DEVICE}),vms:this.$store.dispatch("harvester/findAll",{type:N.rk.VM})},t=await(0,h.kR)(e);for(const a in t)this[a]=t[a];(0,w.sb)([...(this.value?.domain?.devices?.gpus||[]).map((({name:e})=>e)),...Object.values(this.vm?.provisionedVGpus).reduce(((e,t)=>[...e,...t]),[])]).forEach((e=>{this.enabledDevices.find((t=>t?.metadata?.name===e))&&this.selectedDevices.push(e)}))},data(){return{deviceSchema:this.$store.getters["harvester/schemaFor"](N.rk.VGPU_DEVICE),devices:[],vms:[],selectedDevices:[]}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=`nvidia.com/${t?.status?.configureVGPUTypeName?.replace(/\s+/g,"_")}`;return{deviceName:a,name:t?.metadata.name}}));(0,k.hZ)(this.value.domain.devices,"gpus",t)}},computed:{enabledDevices(){return this.devices.filter((e=>e.isEnabled))||[]},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.spec?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{y()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a.spec.nodeName!==e}))})),e},deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.spec.nodeName===t.spec.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name})))}}},E=a(47433);const S=(0,E.A)(C,[["render",m]]);var B=S},65916:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return de}});var l=a(9274);const o={key:2,class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mb-20"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row mb-20"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mb-20"},v={key:0,class:"mb-20"},h={class:"row mb-20"},b={class:"col span-6"},g={class:"col span-6"},f={class:"row mb-20"},y={class:"col span-6"},k={key:1};function N(e,t,a,N,V,w){const C=(0,l.resolveComponent)("RadioGroup"),E=(0,l.resolveComponent)("LabeledInput"),S=(0,l.resolveComponent)("NameNsDescription"),B=(0,l.resolveComponent)("Checkbox"),x=(0,l.resolveComponent)("LabeledSelect"),A=(0,l.resolveComponent)("CpuMemory"),D=(0,l.resolveComponent)("SSHKey"),_=(0,l.resolveComponent)("Tab"),U=(0,l.resolveComponent)("Volume"),T=(0,l.resolveComponent)("Network"),M=(0,l.resolveComponent)("NodeScheduling"),L=(0,l.resolveComponent)("PodAffinity"),O=(0,l.resolveComponent)("PciDevices"),I=(0,l.resolveComponent)("VGpuDevices"),R=(0,l.resolveComponent)("UsbDevices"),$=(0,l.resolveComponent)("AccessCredentials"),P=(0,l.resolveComponent)("KeyValue"),q=(0,l.resolveComponent)("Labels"),F=(0,l.resolveComponent)("Reserved"),K=(0,l.resolveComponent)("UnitInput"),j=(0,l.resolveComponent)("CloudConfig"),H=(0,l.resolveComponent)("MessageLink"),G=(0,l.resolveComponent)("Banner"),J=(0,l.resolveComponent)("Tabbed"),z=(0,l.resolveComponent)("RestartVMDialog"),Q=(0,l.resolveComponent)("CruResource"),Y=(0,l.resolveDirective)("int-number"),W=(0,l.resolveDirective)("t");return e.spec?((0,l.openBlock)(),(0,l.createBlock)(Q,{key:0,id:"vm","done-route":e.doneRoute,resource:a.value,cancelEvent:!0,mode:e.mode,"can-yaml":!!V.isSingle,errors:e.errors,"generate-yaml":w.generateYaml,"apply-hooks":e.applyHooks,onFinish:w.saveVM,onCancel:w.cancelAction},{default:(0,l.withCtx)((()=>[e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(C,{key:0,value:V.isSingle,"onUpdate:value":t[0]||(t[0]=e=>V.isSingle=e),class:"mb-20 vm-radio-group",name:"createInstanceMode",options:[!0,!1],labels:[e.t("harvester.virtualMachine.instance.single.label"),e.t("harvester.virtualMachine.instance.multiple.label")]},null,8,["value","labels"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(S,{value:a.value,"onUpdate:value":t[2]||(t[2]=t=>e.$emit("update:value",t)),mode:e.mode,"has-extra":!V.isSingle,"name-label":w.nameLabel,namespaced:!0,"name-placeholder":V.isSingle?"nameNsDescription.name.placeholder":"harvester.virtualMachine.instance.multiple.nameNsDescription","extra-columns":V.isSingle?[]:["type"]},{type:(0,l.withCtx)((()=>[V.isSingle?(0,l.createCommentVNode)("",!0):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(E,{key:0,modelValue:V.count,"onUpdate:modelValue":t[1]||(t[1]=e=>V.count=e),modelModifiers:{number:!0},min:2,type:"number",label:e.t("harvester.virtualMachine.instance.multiple.count"),required:"","onUpdate:value":w.validateCount},null,8,["modelValue","label","onUpdate:value"])),[[Y]])])),_:1},8,["value","mode","has-extra","name-label","name-placeholder","extra-columns"]),e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(B,{key:1,value:V.useTemplate,"onUpdate:value":t[3]||(t[3]=e=>V.useTemplate=e),class:"check mb-20",type:"checkbox","label-key":"harvester.virtualMachine.useTemplate.label"},null,8,["value"])):(0,l.createCommentVNode)("",!0),V.useTemplate?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(x,{value:V.templateId,"onUpdate:value":[t[4]||(t[4]=e=>V.templateId=e),w.updateTemplateId],"label-key":"harvester.virtualMachine.useTemplate.template.label",options:w.templateOptions},null,8,["value","options","onUpdate:value"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(x,{value:V.templateVersionId,"onUpdate:value":t[5]||(t[5]=e=>V.templateVersionId=e),"label-key":"harvester.virtualMachine.useTemplate.version.label",options:w.versionOptions},null,8,["value","options"])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(J,{"side-tabs":!0,onChanged:w.onTabChanged},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(_,{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(A,{cpu:e.cpu,memory:e.memory,mode:e.mode,onUpdateCpuMemory:e.updateCpuMemory},null,8,["cpu","memory","mode","onUpdateCpuMemory"]),(0,l.createVNode)(D,{value:e.sshKey,"onUpdate:value":t[6]||(t[6]=t=>e.sshKey=t),class:"mb-20","create-namespace":!0,namespace:a.value.metadata.namespace,mode:e.mode,disabled:e.isWindows,"onUpdate:sshKey":e.updateSSHKey,onRegisterAfterHook:e.registerAfterHook},null,8,["value","namespace","mode","disabled","onUpdate:sshKey","onRegisterAfterHook"])])),_:1},8,["label"]),(0,l.createVNode)(_,{name:"Volume",label:e.t("harvester.tab.volume"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(U,{value:e.diskRows,"onUpdate:value":t[7]||(t[7]=t=>e.diskRows=t),mode:e.mode,"custom-volume-mode":e.customVolumeMode,namespace:a.value.metadata.namespace,"resource-type":a.value.type,vm:a.value,"validate-required":!0},null,8,["value","mode","custom-volume-mode","namespace","resource-type","vm"])])),_:1},8,["label"]),(0,l.createVNode)(_,{name:"Network",label:e.t("harvester.tab.network"),weight:-2},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(T,{value:e.networkRows,"onUpdate:value":t[8]||(t[8]=t=>e.networkRows=t),mode:e.mode,"is-single":V.isSingle},null,8,["value","mode","is-single"])])),_:1},8,["label"]),(0,l.createVNode)(_,{name:"nodeScheduling",label:e.t("workload.container.titles.nodeScheduling"),weight:-3},{default:(0,l.withCtx)((({active:t})=>[(0,l.createVNode)(M,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodesIdOptions},null,8,["mode","value","nodes"])])),_:1},8,["label"]),(0,l.createVNode)(_,{label:e.t("harvester.tab.vmScheduling"),name:"vmScheduling",weight:-4},{default:(0,l.withCtx)((({active:t})=>[(0,l.createVNode)(L,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodes,"all-namespaces-option-available":!0,namespaces:e.filteredNamespaces,"overwrite-labels":e.affinityLabels},null,8,["mode","value","nodes","namespaces","overwrite-labels"])])),_:1},8,["label"]),e.enabledPCI?((0,l.openBlock)(),(0,l.createBlock)(_,{key:0,label:e.t("harvester.tab.pciDevices"),name:"pciDevices",weight:-5},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(O,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),e.enabledSriovgpu?((0,l.openBlock)(),(0,l.createBlock)(_,{key:1,label:e.t("harvester.tab.vGpuDevices"),name:"vGpuDevices",weight:-6},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(I,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),e.enabledPCI?((0,l.openBlock)(),(0,l.createBlock)(_,{key:2,label:e.t("harvester.tab.usbDevices"),name:"usbDevices",weight:-7},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(R,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),e.isEdit?((0,l.openBlock)(),(0,l.createBlock)(_,{key:3,label:e.t("harvester.tab.accessCredentials"),name:"accessCredentials",weight:-8},{default:(0,l.withCtx)((()=>[(0,l.createVNode)($,{value:e.accessCredentials,"onUpdate:value":t[9]||(t[9]=t=>e.accessCredentials=t),mode:e.mode,resourceType:a.value,"is-qemu-installed":w.isQemuInstalled},null,8,["value","mode","resourceType","is-qemu-installed"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(_,{name:"instanceLabel",label:e.t("harvester.tab.instanceLabel"),weight:-8},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(q,{"default-container-class":"labels-and-annotations-container",value:a.value,mode:e.mode,"display-side-by-side":!1,"show-annotations":!1,"show-label-title":!1},{labels:(0,l.withCtx)((({toggler:o})=>[(0,l.createVNode)(P,{key:"labels",value:a.value.instanceLabels,"protected-keys":a.value.systemLabels||[],"toggle-filter":o,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":t[10]||(t[10]=e=>a.value.setInstanceLabels(e))},null,8,["value","protected-keys","toggle-filter","add-label","mode"])])),_:1},8,["value","mode"])])),_:1},8,["label"]),(0,l.createVNode)(_,{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-9},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(x,{value:e.runStrategy,"onUpdate:value":t[11]||(t[11]=t=>e.runStrategy=t),"label-key":"harvester.virtualMachine.runStrategy",options:e.runStrategies,mode:e.mode},null,8,["value","options","mode"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(x,{value:e.osType,"onUpdate:value":t[12]||(t[12]=t=>e.osType=t),"label-key":"harvester.virtualMachine.osType",options:e.OS,disabled:!e.isCreate},null,8,["value","options","disabled"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(x,{value:e.maintenanceStrategy,"onUpdate:value":t[13]||(t[13]=t=>e.maintenanceStrategy=t),"label-key":"harvester.virtualMachine.maintenanceStrategy.label",options:e.maintenanceStrategies,"get-option-label":e.getMaintenanceStrategyOptionLabel,mode:e.mode},null,8,["value","options","get-option-label","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(F,{"reserved-memory":e.reservedMemory,mode:e.mode,onUpdateReserved:e.updateReserved},null,8,["reserved-memory","mode","onUpdateReserved"])])]),(0,l.createElementVNode)("div",m,[e.showAdvanced?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:0,role:"button",onClick:t[14]||(t[14]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[W,"harvester.generic.showMore"]]):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:1,role:"button",onClick:t[15]||(t[15]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[W,"harvester.generic.showMore"]])]),e.showAdvanced?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(E,{value:V.hostname,"onUpdate:value":t[16]||(t[16]=e=>V.hostname=e),"label-key":w.hostnameLabel,placeholder:w.hostPlaceholder,mode:e.mode},null,8,["value","label-key","placeholder","mode"])]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(x,{value:e.machineType,"onUpdate:value":t[17]||(t[17]=t=>e.machineType=t),"label-key":"harvester.virtualMachine.input.MachineType",options:w.machineTypeOptions,mode:e.mode},null,8,["value","options","mode"])])]),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(K,{value:e.terminationGracePeriodSeconds,"onUpdate:value":[t[18]||(t[18]=t=>e.terminationGracePeriodSeconds=t),e.updateTerminationGracePeriodSeconds],suffix:1==e.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,positive:""},null,8,["value","suffix","label","mode","onUpdate:value"])])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(j,{ref:"yamlEditor","user-script":e.userScript,mode:e.mode,"view-code":e.isWindows,namespace:a.value.metadata.namespace,"network-script":e.networkScript,onUpdateUserData:e.updateUserData,onUpdateNetworkData:e.updateNetworkData,onUpdateDataTemplateId:e.updateDataTemplateId},null,8,["user-script","mode","view-code","namespace","network-script","onUpdateUserData","onUpdateNetworkData","onUpdateDataTemplateId"]),(0,l.createVNode)(B,{value:e.cpuPinning,"onUpdate:value":t[19]||(t[19]=t=>e.cpuPinning=t),disabled:!w.enableCpuPinningCheckbox,class:"check",type:"checkbox","tooltip-key":"harvester.virtualMachine.cpuPinning.tooltip","label-key":"harvester.virtualMachine.cpuPinning.label",mode:e.mode},null,8,["value","disabled","mode"]),(0,l.createVNode)(B,{value:e.installUSBTablet,"onUpdate:value":t[20]||(t[20]=t=>e.installUSBTablet=t),class:"check mt-20",type:"checkbox","tooltip-key":"harvester.virtualMachine.usbTip","label-key":"harvester.virtualMachine.enableUsb",mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(B,{value:e.installAgent,"onUpdate:value":[t[21]||(t[21]=t=>e.installAgent=t),e.updateAgent],class:"check",type:"checkbox",disabled:e.isWindows,"label-key":"harvester.virtualMachine.installAgent",mode:e.mode},null,8,["value","disabled","mode","onUpdate:value"]),(0,l.createVNode)(B,{value:e.tpmEnabled,"onUpdate:value":t[22]||(t[22]=t=>e.tpmEnabled=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.advancedOptions.tpm",mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(B,{value:e.efiEnabled,"onUpdate:value":t[23]||(t[23]=t=>e.efiEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.efiEnabled"),mode:e.mode},null,8,["value","label","mode"]),e.efiEnabled?((0,l.openBlock)(),(0,l.createBlock)(B,{key:1,value:e.secureBoot,"onUpdate:value":t[24]||(t[24]=t=>e.secureBoot=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.secureBoot"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),w.showCpuPinningBanner?((0,l.openBlock)(),(0,l.createBlock)(G,{key:2,color:"warning"},{default:(0,l.withCtx)((()=>["create"===e.mode?((0,l.openBlock)(),(0,l.createBlock)(H,{key:0,to:w.to,"prefix-label":"harvester.virtualMachine.advancedOptions.cpuManager.prefix","middle-label":"harvester.virtualMachine.advancedOptions.cpuManager.middle","suffix-label":"harvester.virtualMachine.advancedOptions.cpuManager.suffix"},null,8,["to"])):(0,l.createCommentVNode)("",!0),"edit"===e.mode?((0,l.openBlock)(),(0,l.createElementBlock)("span",k,(0,l.toDisplayString)(e.t("harvester.virtualMachine.cpuPinning.restartVMMessage")),1)):(0,l.createCommentVNode)("",!0)])),_:1})):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["onChanged"]),V.isOpen?((0,l.openBlock)(),(0,l.createBlock)(z,{key:3,ref:"restartDialog",vm:a.value},null,8,["vm"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["done-route","resource","mode","can-yaml","errors","generate-yaml","apply-hooks","onFinish","onCancel"])):(0,l.createCommentVNode)("",!0)}var V=a(45250),w=a(65359),C=a(99373),E=a(82906),S=a(34211),B=a(57985),x=a(21221),A=a(5327),D=a(80316),_=a(70346),U=a(57903),T=a(20458),M=a(80149),L=a(9e3),O=a(51813),I=a(79261),R=a(14815),$=a(26812),P=a(3384),q=a(1195),F=a(26953),K=a(2602),j=a(54348),H=a(72706),G=a(66490),J=a(48249),z=a(32766),Q=a(55608),Y=a(63720),W=a(47137),Z=a(46902),X=a(75907),ee=a(54654),te=a(13329),ae=a(9629),le=a(13013),oe=a(89121),se=a(45842),re={name:"HarvesterEditVM",emits:["update:value"],components:{Tab:E.A,Tabbed:C.A,Checkbox:S.S,RadioGroup:x.z,CruResource:B.A,LabeledInput:A.o,LabeledSelect:D.A,NameNsDescription:_.A,Volume:te["default"],SSHKey:ae["default"],Network:ee["default"],CpuMemory:X["default"],CloudConfig:Z["default"],NodeScheduling:M.A,PodAffinity:L.A,AccessCredentials:W["default"],Reserved:le["default"],Labels:T.A,PciDevices:Y["default"],RestartVMDialog:Q["default"],UnitInput:U.A,VGpuDevices:O["default"],KeyValue:R.A,Banner:oe.l,MessageLink:se.A,UsbDevices:I["default"]},mixins:[H.A,J.Ay],props:{value:{type:Object,required:!0}},data(){const e=(0,P.o8)(this.value),t="Running"===this.value.actualState,a=this.value.spec.template.spec.hostname||"";return{cloneVM:e,count:2,templateId:"",templateVersionId:"",namePrefix:"",isSingle:!0,useTemplate:!1,isOpen:!1,hostname:a,isRestartImmediately:t}},computed:{...(0,w.L8)({t:"i18n/t"}),to(){return{name:"harvester-c-cluster-resource",params:{cluster:this.$store.getters["clusterId"],resource:z.rk.HOST}}},machineTypeOptions(){return[{label:"None",value:""},{label:"q35",value:"q35"}]},templateOptions(){return this.templates.map((e=>{const t=this.hasAvailableVersion(e.id);return{label:e.id,value:e.id,disabled:!t}}))},versionOptions(){const e=this.curTemplateResource?.defaultVersion;return this.versions.filter((e=>e.templateId===this.templateId)).map((t=>{const a=t.version,l=e===a?`${a} (${this.t("generic.default")})`:a,o=t.id;return{label:l,value:o,disabled:!t.isReady}}))},curTemplateResource(){return this.templates.find((e=>e.id===this.templateId))},nameLabel(){return this.isSingle?"harvester.virtualMachine.instance.single.nameLabel":"harvester.virtualMachine.instance.multiple.nameLabel"},hostnameLabel(){return this.isSingle?"harvester.virtualMachine.instance.single.host.label":"harvester.virtualMachine.instance.multiple.host.label"},hostPlaceholder(){return this.isSingle?this.t("harvester.virtualMachine.instance.single.host.placeholder"):this.t("harvester.virtualMachine.instance.multiple.host.placeholder")},secretNamePrefix(){return this.value?.metadata?.name},isQemuInstalled(){return this.value.isQemuInstalled},hasRestartAction(){return this.value.hasAction("restart")},hasStartAction(){return this.value.hasAction("start")},enableCpuPinningCheckbox(){return"create"!==this.mode||this.nodes.some((e=>e.isCPUManagerEnabled))},showCpuPinningBanner(){return"edit"===this.mode?this.cpuPinning!==!!this.cloneVM.spec.template.spec.domain.cpu.dedicatedCpuPlacement:"create"===this.mode&&this.nodes.every((e=>!e.isCPUManagerEnabled))}},watch:{templateId:{async handler(e,t){if(e&&e!==t&&!this.templateVersionId){const t=await this.$store.dispatch("harvester/findAll",{type:z.rk.VM_TEMPLATE});this.templateVersionId=t.find((t=>t.id===e))?.spec?.defaultVersionId}},immediate:!1},templateVersionId:{async handler(e){if(!e)return;const t=await this.$store.dispatch("harvester/findAll",{type:z.rk.VM_VERSION}),a=t.find((t=>t.id===e)),l=(0,P.o8)(a.spec.vm);delete l.spec?.template?.spec?.accessCredentials,delete l.spec?.template?.metadata?.annotations?.[K.r.DYNAMIC_SSHKEYS_NAMES],delete l.spec?.template?.metadata?.annotations?.[K.r.DYNAMIC_SSHKEYS_USERS];const o=(0,G.v)(l),s=o.map((e=>(e?.spec?.dataSource&&delete e.spec.dataSource,e)));l.metadata.annotations[K.r.VOLUME_CLAIM_TEMPLATE]=JSON.stringify(s),this.getInitConfig({value:l,existUserData:!0,fromTemplate:!0}),this["hasCreateVolumes"]=[]}},useTemplate(e){!1===e&&(this.templateId="",this.templateVersionId="",this.value.applyDefaults(),this.getInitConfig({value:this.value,init:this.isCreate}))}},created(){this.registerAfterHook((async()=>{await this.restartVM();const e=`${this.value.metadata.namespace}/${this.value.metadata.name}`,t=this.$store.getters["harvester/byId"](z.rk.VM,e);try{await this.saveSecret(t),await this.saveAccessCredentials(t)}catch(a){this.errors.push(...(0,F.rz)(a))}!this.errors.length&&this.isSingle&&this.done()})),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},mounted(){this.imageId=this.$route.query?.image||this.imageId;const e=this.getDiskRows(this.value);this["diskRows"]=e;const t=this.$route.query.templateId,a=this.$route.query.versionId;t&&a&&(this.templateId=t,this.templateVersionId=a,this.useTemplate=!0)},methods:{cancelAction(){const{fromPage:e=z.rk.VM}=this.$route?.query,t={name:this.doneRoute,params:{resource:e}};this.$router.replace(t)},saveVM(e){(0,$.IU)(this.errors),this.isSingle?this.saveSingle(e):this.saveMultiple(e)},async saveSingle(e){this.parseVM(),this.value.spec.template.spec.hostname=this.hostname?this.hostname:this.value.metadata.name,await this._save(this.value,e),this.errors.length?e(!1):e(!0)},async saveMultiple(e){this.namePrefix=this.value.metadata.name||"";const t=this.namePrefix.endsWith("-")?"":"-",a=this.hostname?this.hostname:this.namePrefix;if(this.count<1)return this.errors=[this.t("harvester.virtualMachine.instance.multiple.countTip")],void e(!1);if(!this.value.metadata.name)return this.errors.push(this.t("validation.required",{key:this.t("generic.name")},!0)),void e(!1);const l=(0,P.o8)(this.value),o=(0,P.o8)(this.spec);for(let s=1;s<=this.count;s++){this.value["spec"]=l.spec,this["spec"]=o;const r=s<10?`0${s}`:s;this.value.cleanForNew(),this.value.metadata.name=`${this.namePrefix}${t}${r}`,this.value.spec.template.spec["hostname"]=`${a}${t}${r}`,this.secretName="",await this.parseVM();const n=await this.$store.dispatch("harvester/clone",{resource:this.value});await this._save(n,e),s!==this.count||this.errors.length?s===this.count&&(this.value.metadata.name=this.namePrefix,e(!1)):(e(!0),this.done())}},async _save(e,t){try{await this.applyHooks(j.Fm),await e.save(),await this.applyHooks(j.Mz)}catch(a){this.errors.push(...(0,F.rz)(a)),t(!1)}},restartVM(){if("edit"!==this.mode)return;if(!this.value.isRunning)return;const e=(0,P.o8)(this.value);delete e?.metadata,delete this.cloneVM?.metadata,delete this.cloneVM?.__clone;const t=JSON.parse(JSON.stringify(this.cloneVM)),a=JSON.parse(JSON.stringify(e));return(0,V.isEqual)(t,a)?void 0:new Promise((e=>{this.isOpen=!0,this.$nextTick((()=>{this.$refs.restartDialog.resolve=e}))}))},updateBeforeSave(){this.isSingle&&(this.value.spec.template.spec.hostname||(this.value.spec.template.spec["hostname"]=this.value.metadata.name));const e=this.getAccessCredentialsValidation();return e.length>0?Promise.reject(e):Promise.resolve()},validateCount(e){e>10&&(this["count"]=10)},updateTemplateId(){this.templateVersionId=""},onTabChanged({tab:e}){"advanced"===e.name&&this.$refs.yamlEditor?.refresh()},hasAvailableVersion(e){let t=!1;return this.versions.filter((t=>t.templateId===e)).find((e=>{e.isReady&&(t=!0)})),t},generateYaml(){this.parseVM();const e=(0,q.Kq)(this.value);return e}}},ne=(a(30058),a(47433));const ie=(0,ne.A)(re,[["render",N],["__scopeId","data-v-5418426c"]]);var de=ie},2716:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var l=a(9274);const o={key:0},s={key:0,class:"pool-project"},r={class:"pool-namespace"},n={key:1,class:"pool-guestCluster"},i={key:2,class:"remove"},d={key:1,class:"footer"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("t"),v=(0,l.resolveComponent)("PriorityRow");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("harvester.ipPool.scope.label")),1),u.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["pool-headers",{"show-project-and-cluster":p.showProjectAndCluster}])},[p.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("span",s,[(0,l.createVNode)(m,{k:"harvester.ipPool.project.label"})])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("span",r,[(0,l.createVNode)(m,{k:"harvester.ipPool.namespace.label"})]),p.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("span",n,[(0,l.createVNode)(m,{k:"harvester.ipPool.guestCluster.label"})])):(0,l.createCommentVNode)("",!0),p.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("span",i)):(0,l.createCommentVNode)("",!0)],2),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(u.rows,((t,o)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:o},[(0,l.createVNode)(v,{row:t,mode:a.mode,rows:u.rows,idx:o,"onUpdate:value":e.queueUpdate,onRemove:e=>p.remove(o)},null,8,["row","mode","rows","idx","onUpdate:value","onRemove"])])))),128))])):(0,l.createCommentVNode)("",!0),p.showAdd?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[0]||(t[0]=e=>p.add())},[(0,l.createVNode)(m,{k:"harvester.ipPool.scope.addLabel"})])])):(0,l.createCommentVNode)("",!0)])}var u=a(12784),p=a.n(u),m=a(71779),v=a(26812),h=a(3384),b=a(65359),g=a(17183),f={emits:["update:value"],components:{PriorityRow:g["default"]},props:{value:{type:Array,default:null},mode:{type:String,default:m.G5},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(0,h.o8)(this.value||[]);return{rows:e}},computed:{...(0,b.L8)(["isRancherInHarvester","isStandaloneHarvester"]),isView(){return this.mode===m.nW},showAdd(){return!this.isView},showRemove(){return!this.isView},showProjectAndCluster(){return!this.isStandaloneHarvester}},created(){this.queueUpdate=p()(this.update,500)},methods:{add(){const e={namespace:"*"};this.showProjectAndCluster?this.rows.push({...e,project:"*",guestCluster:"*"}):this.rows.push(e),this.queueUpdate()},remove(e){(0,v.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},y=(a(35638),a(47433));const k=(0,y.A)(f,[["render",c],["__scopeId","data-v-09fa2e23"]]);var N=k},17183:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(9274);const o={key:0,class:"pool-project"},s={key:0},r={class:"pool-namespace"},n={key:0},i={key:1,class:"pool-guestCluster"},d={key:0},c={key:2,class:"remove"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("Select"),h=(0,l.resolveComponent)("t");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["pool-row",{"show-project-and-cluster":m.showProjectAndCluster}])},[m.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[m.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",s,(0,l.toDisplayString)(a.row.project),1)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:a.row.project,"onUpdate:value":[t[0]||(t[0]=e=>a.row.project=e),m.update],options:m.projectOptions},null,8,["value","options","onUpdate:value"]))])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",r,[m.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",n,(0,l.toDisplayString)(a.row.namespace),1)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:a.row.namespace,"onUpdate:value":[t[1]||(t[1]=e=>a.row.namespace=e),m.update],options:m.namespaceOptions},null,8,["value","options","onUpdate:value"]))]),m.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[m.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",d,(0,l.toDisplayString)(a.row.guestCluster),1)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:a.row.guestCluster,"onUpdate:value":[t[2]||(t[2]=e=>a.row.guestCluster=e),m.update],options:m.guestClusterOptions},null,8,["value","options","onUpdate:value"]))])):(0,l.createCommentVNode)("",!0),m.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:t[3]||(t[3]=e=>m.remove(a.idx))},[(0,l.createVNode)(h,{k:"generic.remove"})])])):(0,l.createCommentVNode)("",!0)],2)}var p=a(71779),m=a(37321),v=a(20665),h=a(65359),b=a(32766),g={emits:["update:value","remove"],components:{Select:m.A},props:{row:{type:Object,default:()=>({})},mode:{type:String,default:p.G5},rows:{type:Array,default:()=>[]},idx:{type:Number,required:!0}},data(){return{value:""}},computed:{...(0,h.L8)(["allNamespaces","currentCluster","isRancherInHarvester","isStandaloneHarvester"]),showProjectAndCluster(){return!this.isStandaloneHarvester},isView(){return this.mode===p.nW},showRemove(){return!this.isView},filteredNamespaces(){const e=this.allNamespaces||[];return e.filter((e=>"*"===this.row.project||(!this.row.project||e.project?.id===this.row.project)))},namespaceOptions(){const e=(this.filteredNamespaces||[]).map((e=>({label:e.metadata.name,value:e.id})));return[{label:this.t("generic.all"),value:"*"},...e]},guestClusterOptions(){const e=this.$store.getters["management/all"](v.qt.RANCHER_CLUSTER),t=this.$store.getters["management/all"](b.rk.HARVESTER_CONFIG),a=this.rows.map((e=>e?.guestCluster)),l=this.filteredNamespaces.map((e=>e.id)),o=e.filter((e=>{const o=e.spec?.rkeConfig?.machinePools||[],s=o[0]?.machineConfigRef?.name,r=t.find((e=>e.id===`fleet-default/${s}`));if(r){const t=r?.vmNamespace;return!("*"!==this.row.namespace||!l.includes(t))||t===this.row.namespace&&!a.includes(e.id)}return!1})).map((e=>({label:e.nameDisplay,value:e.metadata.name})));return[{label:this.t("generic.none"),value:""},{label:this.t("generic.all"),value:"*"},...o]},projectOptions(){const e=this.$store.getters["management/all"](v.Mc.PROJECT),t=e.filter((e=>e.metadata.namespace===this.currentCluster.id)).map((e=>({label:e.nameDisplay,value:e.id})));return[{label:this.t("generic.none"),value:""},{label:this.t("generic.all"),value:"*"},...t]}},methods:{update(){const{namespace:e,project:t,guestCluster:a}=this.row;this.$emit("update:value",{namespace:e,project:t,guestCluster:a})},remove(){this.$emit("remove")}},watch:{"row.project"(){"*"!==this.row.namespace&&(this.row.namespace=""),"*"===this.row.guestCluster&&""===this.row.guestCluster||(this.row.guestCluster="")},"row.namespace"(){"*"!==this.row.guestCluster&&(this.row.guestCluster="")}}},f=(a(89878),a(47433));const y=(0,f.A)(g,[["render",u],["__scopeId","data-v-cef9d91e"]]);var k=y},39727:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-538886a7"),e=e(),(0,l.popScopeId)(),e),s={key:0},r={class:"pool-subnet"},n=o((()=>(0,l.createElementVNode)("span",{class:"text-error"}," * ",-1))),i={class:"pool-gateway"},d={key:0,class:"pool-startIP"},c={key:1,class:"pool-endIP"},u={key:2,class:"remove"},p={class:"pool-subnet"},m={key:0},v=["onUpdate:modelValue"],h={class:"pool-gateway"},b={key:0},g=["onUpdate:modelValue"],f={key:0,class:"pool-startIP"},y={key:0},k=["onUpdate:modelValue"],N={key:1,class:"pool-endIP"},V={key:0},w=["onUpdate:modelValue"],C={key:2,class:"remove"},E=["onClick"],S={key:1,class:"footer"};function B(e,t,a,o,B,x){const A=(0,l.resolveComponent)("t");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[B.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(B.rows,((a,o)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:o},[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["pool-headers",{[a.type]:!0}])},[(0,l.createElementVNode)("span",r,[(0,l.createVNode)(A,{k:"harvester.ipPool.subnet.label"}),n]),(0,l.createElementVNode)("span",i,[(0,l.createVNode)(A,{k:"harvester.ipPool.gateway.label"})]),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("span",d,[(0,l.createVNode)(A,{k:"harvester.ipPool.startIP.label"})])):(0,l.createCommentVNode)("",!0),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("span",c,[(0,l.createVNode)(A,{k:"harvester.ipPool.endIP.label"})])):(0,l.createCommentVNode)("",!0),x.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("span",u)):(0,l.createCommentVNode)("",!0)],2),(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["pool-row",{[a.type]:!0}])},[(0,l.createElementVNode)("div",p,[x.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",m,(0,l.toDisplayString)(a.subnet),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.subnet=e,type:"text",onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,v)),[[l.vModelText,a.subnet]])]),(0,l.createElementVNode)("div",h,[x.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",b,(0,l.toDisplayString)(a.gateway),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.gateway=e,type:"text",onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,g)),[[l.vModelText,a.gateway]])]),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("div",f,[x.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",y,(0,l.toDisplayString)(a.rangeStart),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.rangeStart=e,type:"text",onInput:t[2]||(t[2]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,k)),[[l.vModelText,a.rangeStart]])])):(0,l.createCommentVNode)("",!0),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("div",N,[x.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",V,(0,l.toDisplayString)(a.rangeEnd),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.rangeEnd=e,type:"text",onInput:t[3]||(t[3]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,w)),[[l.vModelText,a.rangeEnd]])])):(0,l.createCommentVNode)("",!0),x.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("div",C,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:e=>x.remove(o)},[(0,l.createVNode)(A,{k:"generic.remove"})],8,E)])):(0,l.createCommentVNode)("",!0)],2)])))),128))])):(0,l.createCommentVNode)("",!0),x.showAdd?((0,l.openBlock)(),(0,l.createElementBlock)("div",S,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[4]||(t[4]=e=>x.addCIDR())},[(0,l.createVNode)(A,{k:"harvester.ipPool.cidr.addLabel"})]),(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[5]||(t[5]=e=>x.addRange())},[(0,l.createVNode)(A,{k:"harvester.ipPool.range.addLabel"})])])):(0,l.createCommentVNode)("",!0)])}var x=a(12784),A=a.n(x),D=a(71779),_=a(26812),U={emits:["update:value"],props:{value:{type:Array,default:null},mode:{type:String,default:D.G5},specType:{type:String,default:"ClusterIP"},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(this.value||[]).map((e=>{let t="cidr";return e.rangeStart&&e.rangeEnd&&(t="range"),{...e,type:t}}));return{rows:e}},computed:{isView(){return this.mode===D.nW},showAdd(){return!this.isView},showRemove(){return!this.isView}},created(){this.queueUpdate=A()(this.update,500)},methods:{addCIDR(){this.rows.push({subnet:"",gateway:"",type:"cidr"}),this.queueUpdate()},addRange(){this.rows.push({subnet:"",gateway:"",rangeStart:"",rangeEnd:"",type:"range"}),this.queueUpdate()},remove(e){(0,_.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},T=(a(40521),a(47433));const M=(0,T.A)(U,[["render",B],["__scopeId","data-v-538886a7"]]);var L=M},90249:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledSelect"),u=(0,l.resolveComponent)("LabeledInput"),p=(0,l.resolveComponent)("Priority");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.selector.network,"onUpdate:value":[t[0]||(t[0]=e=>i.selector.network=e),e.queueUpdate],label:e.t("harvester.ipPool.network.label"),options:d.networkOptions,mode:a.mode},null,8,["value","label","options","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(u,{modelValue:i.selector.priority,"onUpdate:modelValue":t[1]||(t[1]=e=>i.selector.priority=e),modelModifiers:{number:!0},label:e.t("harvester.ipPool.priority.label"),mode:a.mode,type:"number",min:"0","onUpdate:value":d.update},null,8,["modelValue","label","mode","onUpdate:value"])])]),(0,l.createVNode)(p,{value:i.selector.scope,"onUpdate:value":[t[2]||(t[2]=e=>i.selector.scope=e),d.update],class:"col span-12",mode:a.mode},null,8,["value","mode","onUpdate:value"])])}var i=a(12784),d=a.n(i),c=a(80316),u=a(5327),p=a(20665),m=a(71779),v=a(2716),h={emits:["update:value"],components:{LabeledSelect:c.A,LabeledInput:u.o,Priority:v["default"]},props:{value:{type:Object,default:()=>({})},mode:{type:String,default:m.G5}},data(){const e=this.value||{network:"",priority:0,scope:[]};return{selector:e}},computed:{networkOptions(){const e=this.$store.getters["harvester/all"](p.XG)||[];return[{label:this.t("generic.none"),value:""},...e.map((e=>({label:e.id,value:e.id})))]}},created(){this.queueUpdate=d()(this.update,500)},methods:{update(){this.isView||this.$emit("update:value",this.selector)}}},b=a(47433);const g=(0,b.A)(h,[["render",n]]);var f=g},43434:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("NameNsDescription"),i=(0,l.resolveComponent)("Range"),d=(0,l.resolveComponent)("Tab"),c=(0,l.resolveComponent)("Selector"),u=(0,l.resolveComponent)("ResourceTabs"),p=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(p,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:s.errors,"apply-hooks":e.applyHooks,"yaml-modifiers":r.yamlModifiers,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),namespaced:!1,mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(u,{class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{name:"range",label:e.t("harvester.ipPool.tabs.range"),weight:98,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{value:e.value.spec.ranges,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.ranges=t),class:"col span-12",mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"]),(0,l.createVNode)(d,{name:"selector",label:e.t("harvester.ipPool.tabs.selector"),weight:97,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:e.value.spec.selector,"onUpdate:value":t[2]||(t[2]=t=>e.value.spec.selector=t),mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"])])),_:1},8,["mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","yaml-modifiers","onFinish"])}var s=a(70346),r=a(19878),n=a(82906),i=a(72706),d=a(20665),c=a(86639),u=a(57985),p=a(32766),m=a(39727),v=a(90249),h={name:"HarvesterIPPool",emits:["update:value"],components:{NameNsDescription:s.A,ResourceTabs:r.A,Tab:n.A,CruResource:u.A,Range:m["default"],Selector:v["default"]},mixins:[i.A],async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={networks:this.$store.dispatch(`${e}/findAll`,{type:d.XG}),settings:this.$store.dispatch(`${e}/findAll`,{type:p.rk.SETTING})};this.$store.getters["management/schemaFor"](p.rk.HARVESTER_CONFIG)&&(t.harvesterConfigs=this.$store.dispatch("management/findAll",{type:p.rk.HARVESTER_CONFIG})),this.$store.getters["management/schemaFor"](d.qt.RANCHER_CLUSTER)&&(t.rancherClusters=this.$store.dispatch("management/findAll",{type:d.qt.RANCHER_CLUSTER})),await(0,c.kR)(t)},data(){return{errors:[]}},computed:{yamlModifiers(){const e=["metadata.managedFields","metadata.relationships","metadata.state","links","type","id"];return this.isCreate&&e.push("status"),{activelyRemove:e}}}},b=a(47433);const g=(0,b.A)(h,[["render",o]]);var f=g},35187:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={key:0},n={class:"row mt-10"},i={key:0,class:"col span-6"},d={class:"col span-6"},c={class:"row mt-10"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-10"},v={class:"col span-6"};function h(e,t,a,h,b,g){const f=(0,l.resolveComponent)("RadioGroup"),y=(0,l.resolveComponent)("LabeledSelect"),k=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(f,{value:b.healthCheckEnabled,"onUpdate:value":t[0]||(t[0]=e=>b.healthCheckEnabled=e),mode:a.mode,name:"healthCheckEnabled",labels:[e.t("generic.disabled"),e.t("generic.enabled")],options:[!1,!0],disabled:a.disabled,onInput:g.onToggle},null,8,["value","mode","labels","disabled","onInput"])])]),b.healthCheckEnabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",n,[b.healthCheckEnabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createVNode)(y,{value:a.value.port,"onUpdate:value":t[1]||(t[1]=e=>a.value.port=e),mode:a.mode,options:g.portOptions,required:"",label:e.t("harvester.service.healthCheckPort.label"),disabled:a.disabled},null,8,["value","mode","options","label","disabled"])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(k,{modelValue:a.value.successThreshold,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value.successThreshold=e),modelModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckSuccessThreshold.label"),tooltip:e.t("harvester.service.healthCheckSuccessThreshold.description"),disabled:a.disabled},null,8,["modelValue","mode","label","tooltip","disabled"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(k,{modelValue:a.value.failureThreshold,"onUpdate:modelValue":t[3]||(t[3]=e=>a.value.failureThreshold=e),modelModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckFailureThreshold.label"),tooltip:e.t("harvester.service.healthCheckFailureThreshold.description"),disabled:a.disabled},null,8,["modelValue","mode","label","tooltip","disabled"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(k,{modelValue:a.value.periodSeconds,"onUpdate:modelValue":t[4]||(t[4]=e=>a.value.periodSeconds=e),modelModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckPeriod.label"),disabled:a.disabled},null,8,["modelValue","mode","label","disabled"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(k,{modelValue:a.value.timeoutSeconds,"onUpdate:modelValue":t[5]||(t[5]=e=>a.value.timeoutSeconds=e),modelModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckTimeout.label"),disabled:a.disabled},null,8,["modelValue","mode","label","disabled"])])])])):(0,l.createCommentVNode)("",!0)])}var b=a(5327),g=a(80316),f=a(16260),y={emits:["enabled"],components:{LabeledInput:b.o,LabeledSelect:g.A,RadioGroup:f.A},props:{value:{type:Object,required:!0},model:{type:Object,required:!0},mode:{type:String,default:"create"},disabled:{type:Boolean,default:!1}},data(){return{healthCheckEnabled:!!this.value.port}},computed:{portOptions(){const e=this.model?.spec?.listeners||[];return e.filter((e=>e.port&&"TCP"===e.protocol)).map((e=>e.backendPort))||[]}},methods:{onToggle(e){this.$emit("enabled",e)}}},k=a(47433);const N=(0,k.A)(y,[["render",h]]);var V=N},65817:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var l=a(9274);const o=e=>((0,l.pushScopeId)("data-v-215b3cc5"),e=e(),(0,l.popScopeId)(),e),s={key:0},r={class:"listener-headers"},n={class:"listener-name"},i={class:"listener-protocol"},d={class:"listener-port"},c=o((()=>(0,l.createElementVNode)("span",{class:"text-error"}," * ",-1))),u={class:"listener-backendPort"},p=o((()=>(0,l.createElementVNode)("span",{class:"text-error"}," * ",-1))),m={key:0,class:"remove"},v={class:"port-name"},h={key:0},b=["onUpdate:modelValue","placeholder"],g={class:"port-protocol"},f={key:0},y={class:"port"},k={key:0},N=["onUpdate:modelValue","placeholder"],V={class:"target-port"},w={key:0},C=["onUpdate:modelValue","placeholder"],E={key:0,class:"remove"},S=["onClick"],B={key:1,class:"footer"};function x(e,t,a,o,x,A){const D=(0,l.resolveComponent)("t"),_=(0,l.resolveComponent)("Select");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[x.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("span",n,[(0,l.createVNode)(D,{k:"harvester.loadBalancer.listeners.name.label"})]),(0,l.createElementVNode)("span",i,[(0,l.createVNode)(D,{k:"harvester.loadBalancer.listeners.protocol.label"})]),(0,l.createElementVNode)("span",d,[(0,l.createVNode)(D,{k:"harvester.loadBalancer.listeners.port.label"}),c]),(0,l.createElementVNode)("span",u,[(0,l.createVNode)(D,{k:"harvester.loadBalancer.listeners.backendPort.label"}),p]),A.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("span",m)):(0,l.createCommentVNode)("",!0)]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(x.rows,((a,o)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:o,class:"listener-row"},[(0,l.createElementVNode)("div",v,[A.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",h,(0,l.toDisplayString)(a.name),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,ref_for:!0,ref:"port-name","onUpdate:modelValue":e=>a.name=e,type:"text",placeholder:e.t("servicePorts.rules.name.placeholder"),onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,b)),[[l.vModelText,a.name,void 0,{number:!0}]])]),(0,l.createElementVNode)("div",g,[A.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",f,(0,l.toDisplayString)(a.protocol),1)):((0,l.openBlock)(),(0,l.createBlock)(_,{key:1,value:a.protocol,"onUpdate:value":e=>a.protocol=e,options:A.protocolOptions,onInput:e.queueUpdate},null,8,["value","onUpdate:value","options","onInput"]))]),(0,l.createElementVNode)("div",y,[A.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",k,(0,l.toDisplayString)(a.port),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,ref_for:!0,ref:"port","onUpdate:modelValue":e=>a.port=e,type:"number",min:"1",max:"65535",placeholder:e.t("servicePorts.rules.listening.placeholder"),onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,N)),[[l.vModelText,a.port,void 0,{number:!0}]])]),(0,l.createElementVNode)("div",V,[A.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",w,(0,l.toDisplayString)(a.backendPort),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.backendPort=e,type:"number",min:"1",max:"65535",placeholder:e.t("harvester.loadBalancer.listeners.backendPort.placeholder"),onInput:t[2]||(t[2]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,C)),[[l.vModelText,a.backendPort,void 0,{number:!0}]])]),A.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("div",E,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:e=>A.remove(o)},[(0,l.createVNode)(D,{k:"generic.remove"})],8,S)])):(0,l.createCommentVNode)("",!0)])))),128))])):(0,l.createCommentVNode)("",!0),A.showAdd?((0,l.openBlock)(),(0,l.createElementBlock)("div",B,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[3]||(t[3]=e=>A.add())},[(0,l.createVNode)(D,{k:"generic.add"})])])):(0,l.createCommentVNode)("",!0)])}var A=a(12784),D=a.n(A),_=a(71779),U=a(26812),T=a(3384),M=a(37321),L={emits:["update:value"],components:{Select:M.A},props:{value:{type:Array,default:null},mode:{type:String,default:_.G5},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(0,T.o8)(this.value||[]);return{rows:e}},computed:{isView(){return this.mode===_.nW},showAdd(){return!this.isView},showRemove(){return!this.isView},protocolOptions(){return["TCP","UDP"]}},created(){this.queueUpdate=D()(this.update,500)},mounted(){this.isView||this.autoAddIfEmpty&&this.mode!==_.G5&&this?.rows.length<1&&this.add(!1)},methods:{add(e=!0){this.rows.push({name:"",port:null,protocol:"TCP",backendPort:null}),this.queueUpdate(),this.rows.length>0&&e&&this.$nextTick((()=>{const e=this.$refs["port-name"];e[e.length-1].focus()}))},remove(e){(0,U.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},O=(a(22386),a(47433));const I=(0,O.A)(L,[["render",x],["__scopeId","data-v-215b3cc5"]]);var R=I},84889:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={key:0,class:"col span-6"},n={class:"row"},i={class:"col span-12"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("NameNsDescription"),m=(0,l.resolveComponent)("LabeledSelect"),v=(0,l.resolveComponent)("Tab"),h=(0,l.resolveComponent)("Banner"),b=(0,l.resolveComponent)("Listeners"),g=(0,l.resolveComponent)("KeyValue"),f=(0,l.resolveComponent)("HealthCheck"),y=(0,l.resolveComponent)("ResourceTabs"),k=(0,l.resolveComponent)("CruResource"),N=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createBlock)(k,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,"yaml-modifiers":u.yamlModifiers,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{value:a.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),namespaced:!0,mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(y,{class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{name:"basic",label:e.t("harvester.loadBalancer.tabs.basic"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(m,{value:a.value.spec.ipam,"onUpdate:value":t[1]||(t[1]=e=>a.value.spec.ipam=e),label:e.t("harvester.loadBalancer.ipam.label"),options:u.ipamOption,mode:e.mode},null,8,["value","label","options","mode"])]),"pool"===a.value.spec.ipam?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createVNode)(m,{value:a.value.spec.ipPool,"onUpdate:value":[t[2]||(t[2]=e=>a.value.spec.ipPool=e),u.update],label:e.t("harvester.loadBalancer.ipPool.label"),options:u.ipPoolOptions,mode:e.mode},null,8,["value","label","options","mode","onUpdate:value"])])):(0,l.createCommentVNode)("",!0)])])),_:1},8,["label"]),"vm"===a.value.spec.workloadType?((0,l.openBlock)(),(0,l.createBlock)(v,{key:0,name:"listeners",label:e.t("harvester.loadBalancer.tabs.listeners"),weight:98,class:"bordered-table"},{default:(0,l.withCtx)((()=>[u.healthCheckPortInUseWarning?((0,l.openBlock)(),(0,l.createBlock)(h,{key:0,color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("span",null,null,512),[[N,u.healthCheckPortInUseWarning]])])),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(b,{value:a.value.spec.listeners,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.listeners=e),class:"col span-12",mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),"vm"===a.value.spec.workloadType?((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,name:"backendServer",label:e.t("harvester.loadBalancer.tabs.backendServer"),weight:97,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{color:c.matchingVMs.none?"warning":"success"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("span",null,null,512),[[N,e.t("harvester.loadBalancer.backendServerSelector.matchingVMs.matchesSome",c.matchingVMs)]])])),_:1},8,["color"])])]),(0,l.createVNode)(g,{value:u.backendServerSelector,"onUpdate:value":t[4]||(t[4]=e=>u.backendServerSelector=e),mode:e.mode,"read-allowed":!1,"initial-empty-row":!0},null,8,["value","mode"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),"vm"===a.value.spec.workloadType?((0,l.openBlock)(),(0,l.createBlock)(v,{key:2,name:"healthCheck",label:e.t("harvester.loadBalancer.tabs.healthCheck"),weight:96,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{value:a.value.spec.healthCheck,"onUpdate:value":t[5]||(t[5]=e=>a.value.spec.healthCheck=e),mode:e.mode,model:a.value,onEnabled:u.healthCheckEnabled},null,8,["value","mode","model","onEnabled"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","yaml-modifiers","onFinish"])}var c=a(45250),u=a(70346),p=a(19878),m=a(80316),v=a(82906),h=a(57985),b=a(14815),g=a(5381),f=a(72706),y=a(20665),k=a(86639),N=a(17678),V=a(32766),w=a(65817),C=a(35187);const E="loadbalancer.harvesterhci.io/namespace",S="loadbalancer.harvesterhci.io/project";var B={name:"HarvesterLoadBalancer",emits:["update:value"],components:{NameNsDescription:u.A,ResourceTabs:p.A,LabeledSelect:m.A,Tab:v.A,Listeners:w["default"],HealthCheck:C["default"],CruResource:h.A,KeyValue:b.A,Banner:g.A},mixins:[f.A],props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={ipPools:this.$store.dispatch(`${e}/findAll`,{type:V.rk.IP_POOL}),namespaces:this.$store.dispatch(`${e}/findAll`,{type:y.CU}),vms:this.$store.dispatch(`${e}/findAll`,{type:V.rk.VM})};this.$store.getters["management/schemaFor"](y.Mc.PROJECT)&&(t.projects=this.$store.dispatch("management/findAll",{type:y.Mc.PROJECT})),await(0,k.kR)(t),this.updateMatchingVMs()},data(){const e=this.value.metadata.annotations||[];this.value.spec.healthCheck||(this.value.spec.healthCheck={});const t={matched:0,matches:[],none:!0,sample:null,total:0};return{ipPool:this.value.spec.ipPool,projectSelector:e[S]||"",namespaceSelector:e[E]||"",matchingVMs:t}},computed:{ipamOption(){return[{label:this.t("harvester.loadBalancer.ipam.options.dhcp"),value:"dhcp"},{label:this.t("harvester.loadBalancer.ipam.options.pool"),value:"pool"}]},ipPoolOptions(){const e=this.$store.getters["harvester/all"](V.rk.IP_POOL),t=e.map((e=>e.id));return[{label:this.t("harvester.loadBalancer.ipPool.options.none"),value:""},...t]},projectOptions(){const e=this.$store.getters["harvester/all"](y.Mc.PROJECT);return e.map((e=>e.id))},namespaceOptions(){const e=this.$store.getters["harvester/all"](y.CU);return e.map((e=>e.id))},backendServerSelector:{get(){const e={};return Object.keys(this.value.spec?.backendServerSelector||{}).map((t=>{e[t]=(this.value.spec.backendServerSelector[t]||[]).join(",")||""})),e},set(e){const t={};Object.keys(e).map((a=>{t[a]=(e[a]||"").split(",")})),this.value.spec["backendServerSelector"]=t}},yamlModifiers(){const e=["metadata.managedFields","metadata.relationships","metadata.state","links","type","id"];return this.isCreate&&e.push("status"),{activelyRemove:e}},healthCheckPortInUseWarning(){const e=this.value?.spec?.healthCheck?.port,t=this.value?.spec?.listeners?.find((t=>t.backendPort===e));return e&&t?this.t("harvester.loadBalancer.healthCheck.warning.portInUse",{port:t.backendPort},!0):""}},methods:{update(){const{projectSelector:e,namespaceSelector:t}=this;e&&(this.value.metadata.annotations[S]=e),t&&(this.value.metadata.annotations[E]=t)},updateMatchingVMs:(0,c.throttle)((function(){const e=this.value.spec.backendServerSelector,t=this.$store.getters["harvester/all"](V.rk.VM).filter((e=>e.metadata.namespace===this.value.metadata.namespace));if((0,c.isEmpty)(e))this.matchingVMs={matched:0,total:t.length,none:!0,sample:null};else{const a=(0,N.wC)(t,e,"spec.template.metadata.labels");this.matchingVMs={matched:a.length,total:t.length,none:0===a.length,sample:a[0]?a[0].nameDisplay:null}}}),250,{leading:!0}),healthCheckEnabled(e){e||(this.value.spec.healthCheck={})}},watch:{backendServerSelector:"updateMatchingVMs","value.metadata.namespace":"updateMatchingVMs"}},x=(a(12065),a(47433));const A=(0,x.A)(B,[["render",d],["__scopeId","data-v-fab1c0ba"]]);var D=A},74153:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return he}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-3"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("LabeledSelect"),u=(0,l.resolveComponent)("Banner"),p=(0,l.resolveComponent)("ProjectMembershipEditor"),m=(0,l.resolveComponent)("Tab"),v=(0,l.resolveComponent)("ResourceQuota"),h=(0,l.resolveComponent)("ContainerResourceLimit"),b=(0,l.resolveComponent)("Labels"),g=(0,l.resolveComponent)("Tabbed"),f=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(f,{class:"project","done-route":e.value.listLocation,errors:e.fvUnreportedValidationErrors,mode:e.mode,resource:e.value,subtypes:[],"can-yaml":!1,"validation-passed":e.fvFormIsValid,onError:t[4]||(t[4]=t=>e.errors=t),onFinish:i.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),"name-editable":!0,mode:e.mode,namespaced:!1,"description-key":"spec.description","description-disabled":i.isDescriptionDisabled,"name-key":"spec.displayName","normalize-name":!1,rules:{name:e.fvGetAndReportPathRules("spec.displayName"),namespace:[],description:[]}},null,8,["value","mode","description-disabled","rules"]),(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[i.pspOptions?((0,l.openBlock)(),(0,l.createBlock)(c,{key:0,value:e.value.spec.podSecurityPolicyTemplateId,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.podSecurityPolicyTemplateId=t),class:"psp",mode:e.mode,options:i.pspOptions,disabled:!n.canEditPSPBindings,label:e.t("project.psp.label")},null,8,["value","mode","options","disabled","label"])):(0,l.createCommentVNode)("",!0)])]),(0,l.createVNode)(g,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[i.canViewMembers?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,name:"members",label:e.t("project.members.label"),weight:10},{default:(0,l.withCtx)((()=>[i.showBannerForOnlyManagingMembers?((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,color:"info",label:e.t("project.membersEditOnly")},null,8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(p,{mode:e.mode,"parent-id":e.value.id,onHasOwnerChanged:i.onHasOwnerChanged,onMembershipUpdate:i.onMembershipUpdate},null,8,["mode","parent-id","onHasOwnerChanged","onMembershipUpdate"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(m,{name:"resource-quotas",label:e.t("project.resourceQuotas"),weight:9},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{value:e.value,"onUpdate:value":t[2]||(t[2]=t=>e.value=t),mode:i.canEditTabElements,types:e.isStandaloneHarvester?n.HARVESTER_TYPES:n.RANCHER_TYPES,onRemove:i.removeQuota},null,8,["value","mode","types","onRemove"])])),_:1},8,["label"]),(0,l.createVNode)(m,{name:"container-default-resource-limit",label:i.resourceQuotaLabel,weight:8},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{value:e.value.spec.containerDefaultResourceLimit,"onUpdate:value":t[3]||(t[3]=t=>e.value.spec.containerDefaultResourceLimit=t),mode:i.canEditTabElements,"show-tip":!1,"register-before-hook":e.registerBeforeHook},null,8,["value","mode","register-before-hook"])])),_:1},8,["label"]),(0,l.createVNode)(m,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:7},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:i.canEditTabElements,"display-side-by-side":!1},null,8,["value","mode"])])),_:1})])),_:1})])),_:1},8,["done-route","errors","mode","resource","validation-passed","onFinish","onCancel"])}var n=a(65359);const i={class:"row"},d={key:0,class:"col span-12"},c={class:"helper-text mb-10"},u={class:"row mb-20"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row mb-20"},h={class:"col span-6"},b={class:"col span-6"},g={key:0,class:"row"},f={class:"col span-6"};function y(e,t,a,o,s,r){const n=(0,l.resolveComponent)("t"),y=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",i,[a.showTip?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createElementVNode)("p",c,[a.mode===s.viewMode?((0,l.openBlock)(),(0,l.createBlock)(n,{key:0,k:"containerResourceLimit.helpTextDetail"})):((0,l.openBlock)(),(0,l.createBlock)(n,{key:1,k:"containerResourceLimit.helpText"}))])])):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("span",p,[(0,l.createVNode)(y,{value:s.requestsCpu,"onUpdate:value":[t[0]||(t[0]=e=>s.requestsCpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.requestsCpu"),mode:a.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-reservation"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])]),(0,l.createElementVNode)("span",m,[(0,l.createVNode)(y,{value:s.requestsMemory,"onUpdate:value":[t[1]||(t[1]=e=>s.requestsMemory=e),r.updateLimits],placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.requestsMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-reservation"},null,8,["value","placeholder","label","mode","onUpdate:value"])])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("span",h,[(0,l.createVNode)(y,{value:s.limitsCpu,"onUpdate:value":[t[2]||(t[2]=e=>s.limitsCpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.limitsCpu"),mode:a.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-limit"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])]),(0,l.createElementVNode)("span",b,[(0,l.createVNode)(y,{value:s.limitsMemory,"onUpdate:value":[t[3]||(t[3]=e=>s.limitsMemory=e),r.updateLimits],placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.limitsMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-limit"},null,8,["value","placeholder","label","mode","onUpdate:value"])])]),a.handleGpuLimit?((0,l.openBlock)(),(0,l.createElementBlock)("div",g,[(0,l.createElementVNode)("span",f,[(0,l.createVNode)(y,{value:s.limitsGpu,"onUpdate:value":[t[4]||(t[4]=e=>s.limitsGpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.gpuPlaceholder"),label:e.t("containerResourceLimit.limitsGpu"),mode:a.mode,"base-unit":e.t("suffix.gpus"),"data-testid":"gpu-limit"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])])])):(0,l.createCommentVNode)("",!0)])}var k=a(68581),N=a.n(k),V=a(57903),w=a(55190),C=a(3384),E=a(71779),S={emits:["update:value"],components:{UnitInput:V.A},props:{mode:{type:String,default:"create"},namespace:{type:Object,default:null},value:{type:Object,default:()=>({})},handleGpuLimit:{type:Boolean,default:!0},registerBeforeHook:{type:Function,default:null},showTip:{type:Boolean,default:!0}},data(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o}=this.value;return{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o,viewMode:E.nW}},watch:{value(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o}=this.value;this.limitsCpu=e,this.limitsMemory=t,this.requestsCpu=a,this.requestsMemory=l,this.limitsGpu=o}},computed:{detailTopColumns(){return[{title:this.$store.getters["i18n/t"]("generic.created"),name:"created"}]}},created(){this?.namespace?.id&&this.initLimits(),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{updateLimits(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o}=this;this.$emit("update:value",(0,C.nY)({limitsCpu:e,limitsMemory:t,requestsCpu:a,limitsGpu:o,requestsMemory:l}))},updateBeforeSave(e){const{limitsCpu:t,limitsMemory:a,requestsCpu:l,requestsMemory:o,limitsGpu:s}=this,r=this.namespace,n=(0,C.nY)({limitsCpu:t,limitsMemory:a,requestsCpu:l,limitsGpu:s,requestsMemory:o});r&&r.setAnnotation(w.$E,JSON.stringify(n))},initLimits(){const e=this.namespace,t=e?.metadata?.annotations[w.$E];if(!N()(t)&&"null"!==t){const{limitsCpu:e,limitsMemory:a,requestsCpu:l,requestsMemory:o,limitsGpu:s}=JSON.parse(t);this.limitsCpu=e,this.limitsMemory=a,this.requestsCpu=l,this.requestsMemory=o,this.limitsGpu=s}}}},B=a(47433);const x=(0,B.A)(S,[["render",y]]);var A=x,D=a(72706),_=a(51662),U=a(57985),T=a(20458),M=a(80316);const L={class:"headers mb-10"},O={class:"mr-10"},I={class:"mr-20"},R={class:"mr-10"};function $(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Row"),i=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",L,[(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(e.t("resourceQuota.headers.resourceType")),1)]),(0,l.createElementVNode)("div",I,[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(e.t("resourceQuota.headers.projectLimit")),1)]),(0,l.createElementVNode)("div",R,[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(e.t("resourceQuota.headers.namespaceDefaultLimit")),1)])]),(0,l.createVNode)(i,{value:s.typeValues,"onUpdate:value":t[1]||(t[1]=e=>s.typeValues=e),label:"Resources","add-label":e.t("resourceQuota.add.label"),"default-add-value":r.remainingTypes()[0]?r.remainingTypes()[0].value:"","add-allowed":r.remainingTypes().length>0,mode:a.mode,onRemove:r.emitRemove},{columns:(0,l.withCtx)((o=>[(0,l.createVNode)(n,{value:a.value,mode:a.mode,types:r.remainingTypes(s.typeValues[o.i]),type:s.typeValues[o.i],onInput:t[0]||(t[0]=t=>e.$emit("input",t)),onTypeChange:e=>r.updateType(o.i,e)},null,8,["value","mode","types","type","onTypeChange"])])),_:1},8,["value","add-label","default-add-value","add-allowed","mode","onRemove"])])}var P=a(43528);const q={key:0,class:"row"};function F(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Select"),i=(0,l.resolveComponent)("UnitInput");return e.typeOption?((0,l.openBlock)(),(0,l.createElementBlock)("div",q,[(0,l.createVNode)(n,{value:a.type,class:"mr-10",mode:a.mode,options:a.types,"data-testid":"projectrow-type-input","onUpdate:value":t[0]||(t[0]=e=>r.updateType(e))},null,8,["value","mode","options"]),(0,l.createVNode)(i,{value:r.resourceQuotaLimit[a.type],class:"mr-10",mode:a.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-project-quota-input","onUpdate:value":t[1]||(t[1]=e=>r.updateQuotaLimit("resourceQuota",a.type,e))},null,8,["value","mode","placeholder","increment","input-exponent","base-unit"]),(0,l.createVNode)(i,{value:r.namespaceDefaultResourceQuotaLimit[a.type],mode:a.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-namespace-quota-input","onUpdate:value":t[2]||(t[2]=e=>r.updateQuotaLimit("namespaceDefaultResourceQuota",a.type,e))},null,8,["value","mode","placeholder","increment","input-exponent","base-unit"])])):(0,l.createCommentVNode)("",!0)}var K=a(37321);const j=[{value:"configMaps",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.configMaps",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"persistentVolumeClaims",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.persistentVolumeClaims",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"pods",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.pods",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"replicationControllers",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.replicationControllers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsStorage",units:"storage",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsStorage",placeholderKey:"resourceQuota.projectLimit.storagePlaceholder"},{value:"secrets",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.secrets",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"services",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.services",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesLoadBalancers",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesLoadBalancers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesNodePorts",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesNodePorts",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"}],H=[{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"}],G={typeOption(){return this.types.find((e=>e.value===this.type))}},J={mappedTypes(){return this.types.map((e=>({label:this.t(e.labelKey),baseUnit:e.baseUnitKey?this.t(e.baseUnitKey):void 0,placeholder:this.t(e.placeholderKey),...e})))}};var z={emits:["type-change"],components:{Select:K.A,UnitInput:V.A},props:{mode:{type:String,required:!0},types:{type:Array,default:()=>[]},type:{type:String,default:""},value:{type:Object,default:()=>({})}},computed:{...G,resourceQuotaLimit:{get(){return this.value.spec.resourceQuota?.limit||{}}},namespaceDefaultResourceQuotaLimit:{get(){return this.value.spec.namespaceDefaultResourceQuota?.limit||{}}}},methods:{updateType(e){"undefined"!==typeof this.value.spec.resourceQuota?.limit[this.type]&&delete this.value.spec.resourceQuota.limit[this.type],"undefined"!==typeof this.value.spec.namespaceDefaultResourceQuota?.limit[this.type]&&delete this.value.spec.namespaceDefaultResourceQuota.limit[this.type],this.$emit("type-change",e)},updateQuotaLimit(e,t,a){this.value.spec[e]||(this.value.spec[e]={limit:{}}),this.value.spec[e].limit[t]=a}}};a(69937);const Q=(0,B.A)(z,[["render",F],["__scopeId","data-v-f8ab9a14"]]);var Y=Q,W={emits:["remove","input"],components:{ArrayList:P.A,Row:Y},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},types:{type:Array,default:()=>[]}},data(){return this.value["spec"]=this.value.spec||{},this.value.spec["namespaceDefaultResourceQuota"]=this.value.spec.namespaceDefaultResourceQuota||{limit:{}},this.value.spec["resourceQuota"]=this.value.spec.resourceQuota||{limit:{}},{typeValues:Object.keys(this.value.spec.resourceQuota.limit)}},computed:{...J},methods:{updateType(e,t){this.typeValues[e]=t},remainingTypes(e){return this.mappedTypes.filter((t=>!this.typeValues.includes(t.value)||t.value===e))},emitRemove(e){this.$emit("remove",e.row?.value)}}};a(7868);const Z=(0,B.A)(W,[["render",$],["__scopeId","data-v-61c570fe"]]);var X=Z,ee=a(82906),te=a(99373),ae=a(70346),le=a(20665),oe=a(25221);function se(e,t,a,o,s,r){const n=(0,l.resolveComponent)("MembershipEditor");return(0,l.openBlock)(),(0,l.createBlock)(n,{ref:"editor","add-member-dialog-name":"AddProjectMemberDialog","modal-sticky":!0,"default-binding-handler":r.defaultBindingHandler,type:s.NORMAN.PROJECT_ROLE_TEMPLATE_BINDING,mode:a.mode,"parent-key":"projectId","parent-id":a.parentId},null,8,["default-binding-handler","type","mode","parent-id"])}var re=a(66984);function ne(e){return(0,re.f)(e,!0)}var ie={components:{MembershipEditor:re.A},props:{parentId:{type:String,default:null},mode:{type:String,required:!0}},data(){return{NORMAN:le.k$,bindings:[],lastSavedBindings:[]}},computed:{isCreate(){return this.mode===E.YQ},isView(){return this.mode===E.nW}},methods:{defaultBindingHandler(){return this.$store.dispatch("management/create",{type:le.k$.PROJECT_ROLE_TEMPLATE_BINDING,roleTemplateId:"project-owner",userPrincipalId:this.$store.getters["auth/principalId"]})}}};const de=(0,B.A)(ie,[["render",se]]);var ce=de,ue=a(77673),pe=a(89121),me={emits:["update:value"],components:{ContainerResourceLimit:A,CruResource:U.A,Labels:T.A,LabeledSelect:M.A,NameNsDescription:ae.A,ProjectMembershipEditor:ce,ResourceQuota:X,Tabbed:te.A,Tab:ee.A,Banner:pe.l},mixins:[D.A,_.A],async fetch(){this.$store.getters["management/canList"](le.Mc.POD_SECURITY_POLICY_TEMPLATE)&&(this.allPSPs=await this.$store.dispatch("management/findAll",{type:le.Mc.POD_SECURITY_POLICY_TEMPLATE}));const e=this.$store.getters["management/schemaFor"](le.Mc.PSP_TEMPLATE_BINDING);this.canEditPSPBindings=!!e},data(){return this.value["spec"]=this.value.spec||{},this.value.spec["podSecurityPolicyTemplateId"]=this.value.status?.podSecurityPolicyTemplateId||"",{allPSPs:[],projectRoleTemplateBindingSchema:this.$store.getters["management/schemaFor"](le.Mc.PROJECT_ROLE_TEMPLATE_BINDING),createLocation:{name:"c-cluster-product-resource-create",params:{product:oe.o,resource:le.Mc.PROJECT_ROLE_TEMPLATE_BINDING},query:{[E.iJ]:this.project?.id?.replace("/",":")}},resource:le.Mc.PROJECT_ROLE_TEMPLATE_BINDING,saveBindings:null,membershipHasOwner:!1,membershipUpdate:{},HARVESTER_TYPES:H,RANCHER_TYPES:j,fvFormRuleSets:[{path:"spec.displayName",rules:["required"]}],canEditPSPBindings:!0}},computed:{...(0,n.L8)(["currentCluster","isStandaloneHarvester"]),canViewMembers(){return ne(this.$store)},canEditProject(){return this.value?.links?.update},isDescriptionDisabled(){return this.mode===E.G5&&!this.canEditProject||!1},canEditTabElements(){return this.mode!==E.G5||this.canEditProject?this.mode:E.nW},showBannerForOnlyManagingMembers(){return this.mode===E.G5&&!this.canEditProject},isK3s(){return(this.currentCluster?.spec?.kubernetesVersion||"").includes("k3s")},pspOptions(){if(this.isK3s||!this.currentCluster.spec.defaultPodSecurityPolicyTemplateName)return null;const e=[{label:this.t("project.psp.default"),value:""}];if(this.allPSPs)for(const a of this.allPSPs)e.push({label:a.nameDisplay,value:a.id});const t=this.value.status?.podSecurityPolicyTemplateId;return t&&!e.find((e=>e.value===t))&&e.unshift({label:this.t("project.psp.current",{value:t}),value:t}),e},isHarvester(){return this.$store.getters["currentProduct"].inStore===ue.T},resourceQuotaLabel(){return this.isHarvester?this.t("project.vmDefaultResourceLimit"):this.t("project.containerDefaultResourceLimit")}},watch:{hasOwner(){this.errors=this.hasOwner?[]:[this.t("project.haveOneOwner")]}},created(){this.value.metadata["namespace"]=this.$store.getters["currentCluster"].id,this.value["spec"]=this.value.spec||{},this.value.spec["containerDefaultResourceLimit"]=this.value.spec.containerDefaultResourceLimit||{}},methods:{async save(e){try{if(this.mode===E.YQ){const e=await this.value.save();this.membershipUpdate.save&&await this.membershipUpdate.save(e.id)}else if(this.mode===E.G5&&(this.canEditProject&&(await this.value.save(!0),await this.$store.dispatch("management/find",{type:le.Mc.PROJECT,id:this.value.id,opt:{force:!0}})),this.membershipUpdate.save)){const e=await this.value.norman;await this.membershipUpdate.save(e.id)}e(!0),this.$router.replace(this.value.listLocation)}catch(t){this.errors.push(t),e(!1)}},onHasOwnerChanged(e){this["membershipHasOwner"]=e},onMembershipUpdate(e){this["membershipUpdate"]=e},removeQuota(e){["resourceQuota","namespaceDefaultResourceQuota"].forEach((t=>{this.value?.spec[t]?.limit&&this.value?.spec[t]?.limit[e]&&delete this.value?.spec[t]?.limit[e],this.value?.spec[t]?.usedLimit&&this.value?.spec[t]?.usedLimit[e]&&delete this.value?.spec[t]?.usedLimit[e]}))}}};const ve=(0,B.A)(me,[["render",r]]);var he=ve},22814:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("NameNsDescription"),i=(0,l.resolveComponent)("Labels"),d=(0,l.resolveComponent)("Tab"),c=(0,l.resolveComponent)("ResourceTabs"),u=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(u,{resource:e.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,namespaced:!1},null,8,["value","mode"]),(0,l.createVNode)(c,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),mode:e.mode,"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])])),_:1})])),_:1},8,["value","mode"])])),_:1},8,["resource","mode","errors","onFinish"])}var s=a(57985),r=a(70346),n=a(19878),i=a(82906),d=a(20458),c=a(72706),u={name:"EditClusterNetwork",emits:["update:value"],components:{CruResource:s.A,NameNsDescription:r.A,ResourceTabs:n.A,Tab:i.A,Labels:d.A},mixins:[c.A],computed:{doneLocationOverride(){return this.value.doneOverride}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.validate)},methods:{validate(){const e=[],t=this.value?.metadata?.name;return t?t.length>12&&e.push(this.t("validation.stringLength.max",{key:this.t("generic.name"),count:12},!0)):e.push(this.t("validation.required",{key:this.t("generic.name")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}}},p=a(47433);const m=(0,p.A)(u,[["render",o]]);var v=m},61443:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"row"},s={key:0,class:"row mb-10"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("RadioGroup"),u=(0,l.resolveComponent)("LabeledSelect"),p=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(c,{value:i.selectNode,"onUpdate:value":[t[0]||(t[0]=e=>i.selectNode=e),d.update],name:"selectNode",options:d.selectNodeOptions,mode:a.mode},null,8,["value","options","mode","onUpdate:value"])]),"nodeSelector"===i.selectNode?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(u,{value:i.nodeName,"onUpdate:value":[t[1]||(t[1]=e=>i.nodeName=e),d.update],label:e.t("workload.scheduling.affinity.nodeName"),options:a.nodes||[],mode:a.mode,multiple:!1},null,8,["value","label","options","mode","onUpdate:value"])])])):"custom"===i.selectNode?((0,l.openBlock)(),(0,l.createBlock)(p,{key:1,value:i.nodeSelector,"onUpdate:value":[t[2]||(t[2]=e=>i.nodeSelector=e),d.update],"key-label":e.t("generic.key"),mode:a.mode,"add-label":e.t("workload.scheduling.affinity.addNodeSelector"),"read-allowed":!1,"value-label":e.t("generic.value"),"initial-empty-row":!0},null,8,["value","key-label","mode","add-label","value-label","onUpdate:value"])):(0,l.createCommentVNode)("",!0)])}var i=a(65359),d=a(21221),c=a(80316),u=a(14815),p=a(55190),m=a(26812),v=a(32766),h={emits:["updateMatchingNICs","updateMatchingNodes"],components:{RadioGroup:d.z,LabeledSelect:c.A,KeyValue:u.A},props:{value:{type:Object,default:()=>({})},nodes:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},data(){const{nodeSelector:e={}}=this.value;let t="all",a="";return e[p.yA]&&1===Object.keys(e).length?(t="nodeSelector",a=e[p.yA]):Object.keys(e).length>0&&(t="custom"),{selectNode:t,nodeName:a,nodeSelector:e}},computed:{...(0,i.L8)({t:"i18n/t"}),selectNodeOptions(){const e=[{label:this.t("harvester.vlanConfig.scheduling.affinity.allNodes"),value:"all"},{label:this.t("harvester.vlanConfig.scheduling.affinity.specificNode"),value:"nodeSelector"},{label:this.t("harvester.vlanConfig.scheduling.affinity.schedulingRules"),value:"custom"}];return e},nics(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](v.rk.LINK_MONITOR,"nic")||{},a=t?.status?.linkStatus||{},l=[];return Object.keys(a).map((e=>{const t=a[e]||[];t.map((t=>{(0,m.jq)(l,"name",t.name)||t.masterIndex||l.push({...t,nodeName:e})}))})),l}},methods:{update(){const{nodeName:e,nodeSelector:t}=this;switch(this.selectNode){case"all":delete this.value?.nodeSelector;break;case"nodeSelector":delete this.value?.nodeSelector,Object.assign(this.value,{nodeSelector:{[p.yA]:e}});break;case"custom":delete this.value.nodeName,delete this.value.nodeSelector,Object.assign(this.value,{nodeSelector:t});break;default:delete this.value.nodeSelector}this.$emit("updateMatchingNICs"),this.$emit("updateMatchingNodes")}}},b=a(47433);const g=(0,b.A)(h,[["render",n]]);var f=g},6911:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-12"},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-20"},p={class:"col span-12"},m={class:"mt-20"},v={class:"row"},h={class:"col span-6"},b={class:"col span-6"},g={class:"mt-20"},f={class:"row mt-10"},y={class:"col span-6"};function k(e,t,a,k,N,V){const w=(0,l.resolveComponent)("Loading"),C=(0,l.resolveComponent)("NameNsDescription"),E=(0,l.resolveComponent)("Banner"),S=(0,l.resolveComponent)("NodeSelector"),B=(0,l.resolveComponent)("Tab"),x=(0,l.resolveComponent)("LabelValue"),A=(0,l.resolveComponent)("ArrayListSelect"),D=(0,l.resolveComponent)("LabeledSelect"),_=(0,l.resolveComponent)("LabeledInput"),U=(0,l.resolveComponent)("Tabbed"),T=(0,l.resolveComponent)("CruResource"),M=(0,l.resolveDirective)("clean-html");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(w,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(T,{key:1,resource:e.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(C,{value:e.value,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t)),mode:e.mode,namespaced:!1},null,8,["value","mode"]),(0,l.createVNode)(U,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(B,{name:"nodeSelector",label:e.t("harvester.vlanConfig.titles.nodeSelector"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(E,{color:N.matchingNodes.none?"warning":"success"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("span",null,null,512),[[M,e.t("harvester.vlanConfig.nodeSelector.matchingNodes.matchesSome",N.matchingNodes)]])])),_:1},8,["color"])])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(S,{mode:e.mode,value:e.value.spec,nodes:V.nodeOptions,onUpdateMatchingNICs:V.updateMatchingNICs,onUpdateMatchingNodes:V.updateMatchingNodes},null,8,["mode","value","nodes","onUpdateMatchingNICs","onUpdateMatchingNodes"])])])])),_:1},8,["label"]),(0,l.createVNode)(B,{name:"upLink",label:e.t("harvester.vlanConfig.titles.uplink"),weight:99,"show-header":!1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(x,{name:e.t("harvester.network.clusterNetwork.label"),value:e.value.spec.clusterNetwork},null,8,["name","value"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(x,{name:"Type",value:"VLAN"})])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.nicErrors,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(E,{key:t,color:"warning",label:e},null,8,["label"])))),128)),(0,l.createVNode)(A,{value:e.value.spec.uplink.nics,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.uplink.nics=t),mode:e.mode,options:V.nicOptions,"array-list-props":{addLabel:e.t("harvester.vlanConfig.uplink.nics.addLabel"),initialEmptyRow:!0,title:e.t("harvester.vlanConfig.uplink.nics.label"),required:!0,protip:!1},"select-props":{placeholder:e.t("harvester.vlanConfig.uplink.nics.placeholder")}},null,8,["value","mode","options","array-list-props","select-props"])])]),(0,l.createElementVNode)("h3",m,(0,l.toDisplayString)(e.t("harvester.vlanConfig.titles.bondOptions")),1),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(D,{value:V.bondOptionMode,"onUpdate:value":t[2]||(t[2]=e=>V.bondOptionMode=e),label:e.t("harvester.vlanConfig.uplink.bondOptions.mode.label"),mode:e.mode,options:V.bondOptions,required:""},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",b,[(0,l.createVNode)(_,{modelValue:V.miimon,"onUpdate:modelValue":t[3]||(t[3]=e=>V.miimon=e),modelModifiers:{number:!0},label:e.t("harvester.vlanConfig.uplink.bondOptions.miimon.label"),mode:e.mode,type:"number",tooltip:e.t("harvester.vlanConfig.uplink.bondOptions.miimon.tooltip",null,!0)},null,8,["modelValue","label","mode","tooltip"])])]),(0,l.createElementVNode)("h3",g,(0,l.toDisplayString)(e.t("harvester.vlanConfig.titles.attributes")),1),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(_,{modelValue:V.mtu,"onUpdate:modelValue":t[4]||(t[4]=e=>V.mtu=e),modelModifiers:{number:!0},label:e.t("harvester.vlanConfig.uplink.linkAttributes.mtu.label"),mode:e.mode,type:"number"},null,8,["modelValue","label","mode"])])])])),_:1},8,["label"])])),_:1})])),_:1},8,["resource","mode","errors","onFinish"]))}var N=a(45250),V=a(57985),w=a(70346),C=a(5327),E=a(80316),S=a(99373),B=a(82906);function x(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Select"),i=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createBlock)(i,(0,l.mergeProps)(a.arrayListProps,{value:a.value,class:"array-list-select","add-allowed":r.addAllowed||a.loading,loading:a.loading,defaultAddValue:r.defaultAddValue,disabled:a.disabled,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))}),{columns:(0,l.withCtx)((e=>[(0,l.createVNode)(n,(0,l.mergeProps)({value:e.row.value},a.selectProps,{options:r.calculateOptions(e.row.value),"get-option-label":r.getOptionLabel,"onUpdate:value":t=>r.updateRow(e.i,t)}),null,16,["value","options","get-option-label","onUpdate:value"])])),_:1},16,["value","add-allowed","loading","defaultAddValue","disabled"])}var A=a(43528),D=a(37321),_={emits:["update:value"],components:{ArrayList:A.A,Select:D.A},props:{value:{type:Array,required:!0},options:{default:null,type:Array},selectProps:{type:Object,default:null},arrayListProps:{type:Object,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!0}},computed:{filteredOptions(){return this.options.filter((e=>!this.value.includes(e.value)))},addAllowed(){return this.arrayListProps?.addAllowed||this.filteredOptions.length>0},defaultAddValue(){return this.options[0]?.value},getOptionLabel(){return this.selectProps?.getOptionLabel?e=>this.selectProps?.getOptionLabel(e)||e:void 0}},methods:{updateRow(e,t){this.value.splice(e,1,t),this.$emit("update:value",this.value)},calculateOptions(e){const t=this.options.find((t=>t.value===e));return t?[t,...this.filteredOptions]:this.filteredOptions}}},U=(a(71323),a(47433));const T=(0,U.A)(_,[["render",x],["__scopeId","data-v-771b6bdb"]]);var M=T,L=a(76092),O=a(6483),I=a(89121),R=a(72706),$=a(20665),P=a(3384),q=a(26812),F=a(86639),K=a(55190),j=a(17678),H=a(32766),G=a(61443),J={emits:["update:value"],components:{CruResource:V.A,NameNsDescription:w.A,LabeledInput:C.o,LabeledSelect:E.A,Tabbed:S.A,Tab:B.A,NodeSelector:G["default"],ArrayListSelect:M,LabelValue:L.A,Loading:O.A,Banner:I.l},mixins:[R.A],data(){const e=(0,P.o8)(this.value?.spec?.uplink?.nics||[]),t={matched:0,matches:[],none:!0,sample:null,total:0};return{type:"vlan",matchNICs:[],originNics:e,matchingNodes:t,nicErrors:[]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.validate);const e=this.$route.query.clusterNetwork;e&&(0,P.hZ)(this.value,"spec.clusterNetwork",e)},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={linkMonitors:this.$store.dispatch(`${e}/findAll`,{type:H.rk.LINK_MONITOR}),nodes:this.$store.dispatch(`${e}/findAll`,{type:$.NW})};await(0,F.kR)(t),this.updateMatchingNICs(),this.updateMatchingNodes()},computed:{nodeOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`]($.NW);return t.filter((e=>"true"!==e.isEtcd)).map((e=>({label:e.nameDisplay,value:e.id})))},mtu:{get(){return this.value?.spec?.uplink?.linkAttributes?.mtu},set(e){(0,P.hZ)(this.value,"spec.uplink.linkAttributes.mtu",e)}},bondOptionMode:{get(){return this.value?.spec?.uplink?.bondOptions?.mode},set(e){(0,P.hZ)(this.value,"spec.uplink.bondOptions.mode",e)}},miimon:{get(){return this.value?.spec?.uplink?.bondOptions?.miimon},set(e){(0,P.hZ)(this.value,"spec.uplink.bondOptions.miimon",e)}},bondOptions(){return["balance-rr","active-backup","balance-xor","broadcast","802.3ad","balance-tlb","balance-alb"]},doneLocationOverride(){return this.value.doneOverride},nics(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](H.rk.LINK_MONITOR,"nic")||{},a=t?.status?.linkStatus||{},l=this.nodes.map((e=>e.id)),o=[];return Object.keys(a).map((e=>{if(l.includes(e)){const t=a[e]||[];t.map((t=>{o.push({...t,nodeName:e})}))}})),o},nicOptions(){const e=[],t={};return(this.matchNICs||[]).map((a=>{a.masterIndex&&!this.originNics.includes(a.name)?(0,P.hZ)(t,`${a.name}.masterIndex`,!0):(0,q.jq)(e,"name",a.name)?(0,q.jq)(e,"name",a.name)&&((0,P.hZ)(t,`${a.name}.total`,t[a.name].total+1),(0,P.hZ)(t,`${a.name}.down`,"down"===a.state?t[a.name].down+1:t[a.name].down)):(e.push(a),(0,P.hZ)(t,`${a.name}.total`,1),(0,P.hZ)(t,`${a.name}.down`,"down"===a.state?1:0))})),e.filter((e=>!t[e.name].masterIndex)).map((e=>{let a="";return a=0===t[e.name].down?`${e.name} (Up)`:1===t[e.name].total?`${e.name} (Down)`:`${e.name} (${t[e.name].down}/${t[e.name].total} Down)`,{label:a,value:e.name,disabled:t[e.name].down>0}}))},nodes(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`]($.NW);return t.filter((e=>"true"!==e.isEtcd))}},methods:{validate(){const e=[],t=this.value.spec?.uplink?.nics||[],a=this.t("validation.arrayCountRequired",{key:this.t("harvester.vlanConfig.uplink.nics.label"),count:1},!0);if(0===t.length?e.push(a):t.map((t=>{t||e.push(a);const l=this.nicOptions.find((e=>e.value===t));l&&l?.disabled&&e.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:t},!0))})),this.value?.metadata?.name||e.push(this.t("validation.required",{key:this.t("generic.name")},!0)),this.value?.spec?.clusterNetwork||e.push(this.t("validation.required",{key:this.t("harvester.network.clusterNetwork.label")},!0)),e.length>0)return Promise.reject((0,q.sb)(e));{const e=this.value?.spec?.uplink?.bondOptions?.miimon;e||0===e||delete this.value?.spec?.uplink?.bondOptions?.miimon;const t=this.value?.spec?.uplink?.linkAttributes?.mtu;return t||0===t||delete this.value?.spec?.uplink?.linkAttributes?.mtu,Promise.resolve()}},updateMatchingNICs:(0,N.throttle)((function(){const e=this.value?.spec?.nodeSelector||{},t=this.nics||[];let a=[],l=[];if((0,N.isEmpty)(e))a=(0,P.o8)(t),l=(this.nodes||[]).map((e=>e.id));else if(e[K.yA]&&1===Object.keys(e).length)a=t.filter((t=>t.nodeName===e[K.yA])),l=[e[K.yA]];else{const o=(0,j.wC)(this.nodes||[],e).map((e=>e.id));a=t.filter((e=>o.includes(e.nodeName))),l=o.map((e=>e.id))}this.matchNICs=this.intersection(a,l)||[]}),250,{leading:!0}),intersection(e=[],t=[]){const a={};return e.map((e=>{a[e.name]=(a[e.name]||0)+1})),e.filter((e=>a[e.name]===t.length))},updateMatchingNodes:(0,N.throttle)((function(){const e=this.value?.spec?.nodeSelector||{},t=this.nodes||[];if((0,N.isEmpty)(e))this.matchingNodes={matched:t.length,total:t.length,none:!1,sample:t[0]?t[0].nameDisplay:null};else if(e[K.yA]&&1===Object.keys(e).length){const a=t.find((t=>t.id===e[K.yA]));this.matchingNodes=a?{matched:1,total:t.length,none:!1,sample:a.nameDisplay}:{matched:0,total:0,none:!0,sample:null}}else{const a=(0,j.wC)(t,e);this.matchingNodes={matched:a.length,total:t.length,none:0===a.length,sample:a[0]?a[0].nameDisplay:null}}}),250,{leading:!0})},watch:{nicOptions(e){const t=this.value.spec?.uplink?.nics||[],a=[];t.map((t=>{const l=e.find((e=>e.value===t));(l&&l?.disabled||!l)&&a.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:t},!0))})),this.nicErrors=(0,q.sb)(a)},"value.spec.uplink.nics"(e=[]){const t=[],a=this.nicOptions||[];e.map((e=>{const l=a.find((t=>t.value===e));(l&&l?.disabled||!l)&&t.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:e},!0))})),this.nicErrors=(0,q.sb)(t)}}};a(49994);const z=(0,U.A)(J,[["render",k],["__scopeId","data-v-e41e587c"]]);var Q=z},1170:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"h3{margin-top:10px}",""]),t["default"]=n},6778:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row{margin-bottom:5px}.vertically-center{padding:20px 0}",""]),t["default"]=n},41157:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row{margin-bottom:5px}.vertically-center{padding:20px 0}",""]),t["default"]=n},44689:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row{margin-bottom:5px}",""]),t["default"]=n},70187:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".grid[data-v-61c1cd82]{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.grid .item[data-v-61c1cd82]{width:100%}}@media only screen and (min-width:768px){.grid .item[data-v-61c1cd82]{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.grid .item[data-v-61c1cd82]{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.grid .item[data-v-61c1cd82]{width:calc(25% - 20px)}}.grid .item[data-v-61c1cd82]{height:135px;margin:10px;padding:10px;position:relative;border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}.grid .item[data-v-61c1cd82]:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}.grid .item .side-label[data-v-61c1cd82]{position:absolute;top:10px;right:10px;padding:2px 5px}.grid .item .side-label.indicator[data-v-61c1cd82]{top:0;right:0;left:0}.grid .item .side-label label[data-v-61c1cd82],.grid .item label.deploys-os-label[data-v-61c1cd82],.grid .item label.os-incompatible-label[data-v-61c1cd82]{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--card-badge-text);margin:0}.grid .item .deploys-os-label[data-v-61c1cd82],.grid .item .os-incompatible-label[data-v-61c1cd82]{position:absolute;bottom:10px;padding:2px 5px;right:10px}.grid .item label.os-incompatible-label[data-v-61c1cd82]{color:var(--warning);background-color:var(--warning-banner-bg)}.grid .item .logo[data-v-61c1cd82]{text-align:center;position:absolute;left:25px;top:37.5px;width:60px;height:60px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff}.grid .item .logo img[data-v-61c1cd82]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.grid .item .logo i[data-v-61c1cd82]{background-position:50%;background-repeat:no-repeat;display:flex;height:56px;margin:2px;width:56px}.grid .item.rancher .deploys-os-label[data-v-61c1cd82],.grid .item.rancher .side-label[data-v-61c1cd82]{background-color:var(--app-rancher-accent)}.grid .item.rancher .deploys-os-label label[data-v-61c1cd82],.grid .item.rancher .side-label label[data-v-61c1cd82]{color:var(--app-rancher-accent-text)}.grid .item.rancher[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-rancher-accent)}.grid .item.partner .deploys-os-label[data-v-61c1cd82],.grid .item.partner .side-label[data-v-61c1cd82]{background-color:var(--app-partner-accent)}.grid .item.partner .deploys-os-label label[data-v-61c1cd82],.grid .item.partner .side-label label[data-v-61c1cd82]{color:var(--app-partner-accent-text)}.grid .item.partner[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-partner-accent)}.grid .item.color1 .deploys-os-label[data-v-61c1cd82],.grid .item.color1 .side-label[data-v-61c1cd82]{background-color:var(--app-color1-accent)}.grid .item.color1 .deploys-os-label label[data-v-61c1cd82],.grid .item.color1 .side-label label[data-v-61c1cd82]{color:var(--app-color1-accent-text)}.grid .item.color1[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color1-accent)}.grid .item.color2 .deploys-os-label[data-v-61c1cd82],.grid .item.color2 .side-label[data-v-61c1cd82]{background-color:var(--app-color2-accent)}.grid .item.color2 .deploys-os-label label[data-v-61c1cd82],.grid .item.color2 .side-label label[data-v-61c1cd82]{color:var(--app-color2-accent-text)}.grid .item.color2[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color2-accent)}.grid .item.color3 .deploys-os-label[data-v-61c1cd82],.grid .item.color3 .side-label[data-v-61c1cd82]{background-color:var(--app-color3-accent)}.grid .item.color3 .deploys-os-label label[data-v-61c1cd82],.grid .item.color3 .side-label label[data-v-61c1cd82]{color:var(--app-color3-accent-text)}.grid .item.color3[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color3-accent)}.grid .item.color4 .deploys-os-label[data-v-61c1cd82],.grid .item.color4 .side-label[data-v-61c1cd82]{background-color:var(--app-color4-accent)}.grid .item.color4 .deploys-os-label label[data-v-61c1cd82],.grid .item.color4 .side-label label[data-v-61c1cd82]{color:var(--app-color4-accent-text)}.grid .item.color4[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color4-accent)}.grid .item.color5 .deploys-os-label[data-v-61c1cd82],.grid .item.color5 .side-label[data-v-61c1cd82]{background-color:var(--app-color5-accent)}.grid .item.color5 .deploys-os-label label[data-v-61c1cd82],.grid .item.color5 .side-label label[data-v-61c1cd82]{color:var(--app-color5-accent-text)}.grid .item.color5[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color5-accent)}.grid .item.color6 .deploys-os-label[data-v-61c1cd82],.grid .item.color6 .side-label[data-v-61c1cd82]{background-color:var(--app-color6-accent)}.grid .item.color6 .deploys-os-label label[data-v-61c1cd82],.grid .item.color6 .side-label label[data-v-61c1cd82]{color:var(--app-color6-accent-text)}.grid .item.color6[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color6-accent)}.grid .item.color7 .deploys-os-label[data-v-61c1cd82],.grid .item.color7 .side-label[data-v-61c1cd82]{background-color:var(--app-color7-accent)}.grid .item.color7 .deploys-os-label label[data-v-61c1cd82],.grid .item.color7 .side-label label[data-v-61c1cd82]{color:var(--app-color7-accent-text)}.grid .item.color7[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color7-accent)}.grid .item.color8 .deploys-os-label[data-v-61c1cd82],.grid .item.color8 .side-label[data-v-61c1cd82]{background-color:var(--app-color8-accent)}.grid .item.color8 .deploys-os-label label[data-v-61c1cd82],.grid .item.color8 .side-label label[data-v-61c1cd82]{color:var(--app-color8-accent-text)}.grid .item.color8[data-v-61c1cd82]:hover:not(.disabled){border-color:var(--app-color8-accent)}.grid .item[data-v-61c1cd82]:hover:not(.disabled){background-position:100%;border-left-width:1px}.grid .item:hover:not(.disabled) .logo[data-v-61c1cd82]{left:25px}.grid .item:hover:not(.disabled) .name[data-v-61c1cd82]{margin-left:85px}.grid .item .name[data-v-61c1cd82]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:115px;margin:0;margin-left:85px}.grid .item.has-description .name[data-v-61c1cd82]{margin-top:10px;line-height:normal}.grid .item.has-description.has-side-label .name[data-v-61c1cd82]{margin-top:15px}.grid .item .description[data-v-61c1cd82]{margin-top:10px;margin-left:85px;margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--text-muted)!important}.grid .disabled[data-v-61c1cd82]{opacity:.5;cursor:not-allowed}",""]),t["default"]=n},42139:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".tip[data-v-72c06d3e]{color:var(--disabled-text);display:flex;align-items:center}.my-icon[data-v-72c06d3e]{font-size:16px;margin-right:2px}.text[data-v-72c06d3e]{font-size:14px}",""]),t["default"]=n},37051:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-771b6bdb]  .unlabeled-select{height:61px}",""]),t["default"]=n},52838:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".role[data-v-9227dfd8]{display:flex;align-items:center;flex-direction:row}",""]),t["default"]=n},16327:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"button[data-v-f197e972]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-f197e972]{padding-top:7px}.row.name-ns-description[data-v-f197e972]{max-height:61px}.row .namespace-select[data-v-f197e972]  .labeled-select{min-width:40%}.row .namespace-select[data-v-f197e972]  .labeled-select .v-select.inline.vs--single{padding-bottom:2px}.row.flip-direction[data-v-f197e972]{flex-direction:column}.row.flip-direction.name-ns-description[data-v-f197e972]{max-height:none}.row.flip-direction>div>*[data-v-f197e972]{margin-bottom:20px}",""]),t["default"]=n},46652:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".headers[data-v-61c570fe]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;border-bottom:1px solid var(--border);height:30px;width:calc(100% - 75px)}.headers div[data-v-61c570fe]{width:100%}",""]),t["default"]=n},58737:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row[data-v-f8ab9a14]{display:flex;flex-direction:row;justify-content:space-evenly}",""]),t["default"]=n},27463:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".secret-selector{width:100%}.secret-selector label{display:block}.secret-selector .labeled-select{min-height:61px}.secret-selector .vs__selected-options{padding:8px 0 7px 0}.secret-selector label{display:inline-block}.secret-selector.show-key-selector .input-container>*{display:inline-block;width:50%}.secret-selector.show-key-selector .input-container>.labeled-select.focused{z-index:10}.secret-selector.show-key-selector .input-container>:first-child{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:0}.secret-selector.show-key-selector .input-container>:last-child{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none;float:right}",""]),t["default"]=n},91810:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-52fc33da]  .icon-info{margin-top:-3px;margin-right:4px}",""]),t["default"]=n},64797:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".overwrite[data-v-04f7f98b]{display:flex;align-items:center}",""]),t["default"]=n},2240:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".overwrite[data-v-65384aa8]{display:flex;align-items:center}",""]),t["default"]=n},58431:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".insecure[data-v-28e49e6e]{display:flex;align-items:center}",""]),t["default"]=n},86824:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".tag[data-v-723bdc1d]{border:1px solid var(--primary);border-radius:var(--border-radius);box-sizing:border-box;margin:0;padding:0;font-size:14px;line-height:20px;list-style:none;display:inline-block;height:auto;margin-inline-end:8px;padding-inline:7px;white-space:nowrap;background:var(--accent-btn);opacity:1;text-align:start;color:var(--link);margin-bottom:10px;margin-right:8px;padding-top:8px;padding-bottom:8px}.tag i[data-v-723bdc1d],.tag.add[data-v-723bdc1d]{cursor:pointer}.tag.add[data-v-723bdc1d]{border-style:dashed}.tag.add[data-v-723bdc1d],.tag.input[data-v-723bdc1d]{background:var(--body-bg)}.tag.input[data-v-723bdc1d]{border:none;border-radius:none;padding:0}",""]),t["default"]=n},17429:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-f5bf7aea]  .radio-group{display:flex}[data-v-f5bf7aea]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},62248:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"p[data-v-3ec80c26]{display:flex;align-items:center}.icon-h-question[data-v-3ec80c26]{font-size:24px}.tip[data-v-3ec80c26]{font-size:15px}.goCA[data-v-3ec80c26]{margin:0 3px}",""]),t["default"]=n},82773:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".box[data-v-6d178477]{position:relative;padding-top:40px}.remove[data-v-6d178477]{position:absolute;top:10px;right:10px;padding:0}",""]),t["default"]=n},7371:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".box[data-v-92b1b3bc]{position:relative;padding-top:40px}.remove[data-v-92b1b3bc]{position:absolute;top:10px;right:10px;padding:0}",""]),t["default"]=n},95083:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".chooseFile[data-v-27a09764]{display:flex;align-items:center}",""]),t["default"]=n},31651:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-50bfd026]  .radio-group{display:flex}[data-v-50bfd026]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},95308:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".restart-modal[data-v-e74c29aa]{z-index:45}.prompt-restart[data-v-e74c29aa]{margin:0}.bottom[data-v-e74c29aa]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-e74c29aa]{margin-top:0}.bottom .buttons[data-v-e74c29aa]{display:flex;justify-content:flex-end;width:100%}",""]),t["default"]=n},99334:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-24a677c4]  .radio-group{display:flex}[data-v-24a677c4]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},57165:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-4b980a18]  .radio-group{display:flex}[data-v-4b980a18]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},39879:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-4522cd50]  .radio-group{display:flex}[data-v-4522cd50]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},1814:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-bdc3ab06]  .radio-group{display:flex}[data-v-bdc3ab06]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},36037:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-45a8cb68]  .radio-group{display:flex}[data-v-45a8cb68]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},13156:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-3c4e5e1e]  .radio-group{display:flex}[data-v-3c4e5e1e]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},16036:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-5ab11ded]  .radio-group{display:flex}[data-v-5ab11ded]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},14820:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-23f2094e]  .radio-group{display:flex}[data-v-23f2094e]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},27421:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-6c6f8f7f]  .yaml-editor{flex:1;min-height:200px}[data-v-6c6f8f7f]  .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}",""]),t["default"]=n},86007:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".close[data-v-307c0505]{top:10px;right:10px;padding:0;position:absolute}.disk[data-v-307c0505]{position:relative}.disk .secret-name[data-v-307c0505]{height:61px}.disk[data-v-307c0505]:not(:last-of-type){padding-bottom:10px;margin-bottom:30px}.flex[data-v-307c0505]{display:flex;justify-content:space-between}.badge-state[data-v-307c0505]{padding:2px 5px}",""]),t["default"]=n},88828:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#node[data-v-f33a4910]{display:flex;flex-direction:column}#node[data-v-f33a4910],#node .content[data-v-f33a4910]{flex-grow:1}#node .wrapper[data-v-f33a4910]{position:relative}#node .nicOption[data-v-f33a4910]{display:flex;justify-content:space-between}",""]),t["default"]=n},92386:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".header[data-v-bc35b43e]{display:flex;justify-content:flex-end}",""]),t["default"]=n},34371:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".output{display:flex;flex-direction:column;flex-grow:1}.output .provider h1{display:inline-block}.output .box-container{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.output .box-container .toggle-gradient-box{width:100%}}@media only screen and (min-width:768px){.output .box-container .toggle-gradient-box{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.output .box-container .toggle-gradient-box{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.output .box-container .toggle-gradient-box{width:calc(25% - 20px)}}.output .box-container .toggle-gradient-box{margin:10px;padding:10px;position:relative;border-radius:calc(var(--border-radius)*1.5)}.output .box-container .toggle-gradient-box:hover{box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer}.output .box-container .toggle-gradient-box .side-label{transform:rotate(180deg);position:absolute;top:0;left:0;bottom:0;min-width:calc(var(--border-radius)*1.5);width:15px;border-top-right-radius:calc(var(--border-radius)*1.5);border-bottom-right-radius:calc(var(--border-radius)*1.5)}.output .box-container .toggle-gradient-box .side-label label{text-align:center;writing-mode:tb;height:100%;padding:0 2px;display:block;white-space:no-wrap;text-overflow:ellipsis}.output .box-container .toggle-gradient-box .logo{text-align:center;width:60px;height:60px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff;display:inline-block;vertical-align:middle}.output .box-container .toggle-gradient-box .logo img{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.output .box-container .toggle-gradient-box:hover{background-position:100%}.output .box-container .toggle-gradient-box .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:0;display:inline-block;vertical-align:middle}",""]),t["default"]=n},1784:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"h3[data-v-1e838ab4]{margin-top:2em}input[data-v-1e838ab4]{margin-top:1em}.route[real-mode=view] .label[data-v-1e838ab4]{color:var(--input-label)}button[data-v-1e838ab4]{margin-left:.5em}a[data-v-1e838ab4]:hover{text-decoration:none}",""]),t["default"]=n},96441:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".edit-change[data-v-63511616]{align-items:center;display:flex}.edit-change>h5[data-v-63511616]{flex:1}[data-v-63511616]  .edit-help code{padding:1px 5px}",""]),t["default"]=n},47338:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".custom-headers[data-v-cbae9646]{align-items:center}",""]),t["default"]=n},63974:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".labeled-input.compact-input[data-v-70e1bbc1]{padding:7px 10px}",""]),t["default"]=n},69733:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#restore[data-v-29d9137f]{display:flex;flex-grow:1;flex-direction:column}#restore[data-v-29d9137f]  .radio-group{display:flex}#restore[data-v-29d9137f]  .radio-group .radio-container{margin-right:30px}#restore .content[data-v-29d9137f]{flex-grow:1}#restore .footer[data-v-29d9137f]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-29d9137f]  .spacer-small{padding:0}",""]),t["default"]=n},61084:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".kv-item.value>.unlabeled-select[data-v-e42b2796]{height:40px;line-height:1}",""]),t["default"]=n},74426:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#restore[data-v-19cfe058]{display:flex;flex-grow:1;flex-direction:column}#restore[data-v-19cfe058]  .radio-group{display:flex}#restore[data-v-19cfe058]  .radio-group .radio-container{margin-right:30px}#restore .content[data-v-19cfe058]{flex-grow:1}#restore .footer[data-v-19cfe058]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-19cfe058]  .spacer-small{padding:0}",""]),t["default"]=n},48871:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".compat-matrix,.device-col{display:flex}.device-col{flex-direction:column;border-right:1px solid var(--border)}.device-col>*{border-bottom:1px solid var(--border)}.compat-cell{flex-basis:1em;padding:0 10px 0 10px}.compat-cell.has-device{background-color:var(--info-banner-bg)}.device-label,.node-label{display:flex;align-items:center;color:var(--input-label)}.node-label{padding:0 10px;justify-content:center}.blank-corner,.compat-cell,.device-label,.node-label{flex-basis:calc(2em + 10px)}.blank-corner{background:linear-gradient(to top right,#fff 0,#fff calc(50% - 1px),var(--body-text) 50%,#fff calc(50% + 1px),#fff 100%)}.blank-corner DIV.text-right{padding-left:80px}",""]),t["default"]=n},40170:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#vm[data-v-5418426c]  .vm-radio-group .radio-group{display:flex}#vm[data-v-5418426c]  .vm-radio-group .radio-group .radio-container{margin-right:30px}#vm .restart[data-v-5418426c]{display:flex;justify-content:flex-end}#vm .banner-right[data-v-5418426c]{width:auto;display:flex;justify-items:center}",""]),t["default"]=n},79638:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".pool-headers[data-v-09fa2e23]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:40% 40% 15%}.pool-headers.show-project-and-cluster[data-v-09fa2e23]{grid-template-columns:25% 25% 25% 15%}",""]),t["default"]=n},54486:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".pool-row[data-v-cef9d91e]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:40% 40% 15%}.pool-row.show-project-and-cluster[data-v-cef9d91e]{grid-template-columns:25% 25% 25% 15%}",""]),t["default"]=n},42217:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".pool-headers[data-v-538886a7],.pool-row[data-v-538886a7]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center}.pool-headers.cidr[data-v-538886a7],.pool-row.cidr[data-v-538886a7]{grid-template-columns:41.75% 41.75% 15%}.pool-headers.range[data-v-538886a7],.pool-row.range[data-v-538886a7]{grid-template-columns:20% 20% 20% 20% 15%}",""]),t["default"]=n},2386:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".listener-headers[data-v-215b3cc5],.listener-row[data-v-215b3cc5]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:35% 15% 15% 15% 15%}",""]),t["default"]=n},31489:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".title[data-v-fab1c0ba]{margin-bottom:10px}.title .read-from-file[data-v-fab1c0ba]{float:right}.ports-headers[data-v-fab1c0ba],.ports-row[data-v-fab1c0ba]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center}.ports-headers.show-protocol[data-v-fab1c0ba],.ports-row.show-protocol[data-v-fab1c0ba]{grid-template-columns:23% 23% 10% 15% 15% 10%}.ports-headers.show-protocol[data-v-fab1c0ba]:not(.show-node-port),.ports-row.show-protocol[data-v-fab1c0ba]:not(.show-node-port){grid-template-columns:31% 31% 10% 15% 10%}.ports-headers.show-node-port[data-v-fab1c0ba]:not(.show-protocol),.ports-row.show-node-port[data-v-fab1c0ba]:not(.show-protocol){grid-template-columns:28% 28% 15% 15% 10%}.ports-headers[data-v-fab1c0ba]{color:var(--input-label)}.toggle-host-ports[data-v-fab1c0ba]{color:var(--primary)}.remove BUTTON[data-v-fab1c0ba]{padding:0}.ports-row>div[data-v-fab1c0ba]{height:100%}.ports-row .port-protocol[data-v-fab1c0ba]  .unlabeled-select .v-select.inline{margin-top:2px}.footer[data-v-fab1c0ba]{margin-top:10px;margin-left:5px}.footer .protip[data-v-fab1c0ba]{float:right;padding:5px 0}",""]),t["default"]=n},17642:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"button[data-v-e41e587c]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-e41e587c]{padding-top:7px}",""]),t["default"]=n},78263:function(e,t,a){"use strict";a.r(t),a.d(t,{normalizePort:function(){return r},protocol:function(){return l},sslVersions:function(){return o},updatePort:function(){return s}});const l=["http","https"],o=["TLSv1_2","TLSv1_1","TLSv1","SSLv23"];function s(e,t){e(0),e(r(t))}function r(e){const t=Number.parseInt(e,10);return t<1?1:t>65535?65535:t}},12085:function(e,t,a){var l=a(1170);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("73cf4a24",l,!0,{sourceMap:!1,shadowMode:!1})},93867:function(e,t,a){var l=a(6778);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0853cb47",l,!0,{sourceMap:!1,shadowMode:!1})},44269:function(e,t,a){var l=a(41157);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("1d6db1ae",l,!0,{sourceMap:!1,shadowMode:!1})},82339:function(e,t,a){var l=a(44689);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2e9fce5d",l,!0,{sourceMap:!1,shadowMode:!1})},50955:function(e,t,a){var l=a(70187);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("9a6e2eb0",l,!0,{sourceMap:!1,shadowMode:!1})},60571:function(e,t,a){var l=a(42139);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("248572b6",l,!0,{sourceMap:!1,shadowMode:!1})},71323:function(e,t,a){var l=a(37051);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("f896885e",l,!0,{sourceMap:!1,shadowMode:!1})},230:function(e,t,a){var l=a(52838);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("46a687ef",l,!0,{sourceMap:!1,shadowMode:!1})},32583:function(e,t,a){var l=a(16327);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("ef71b9f4",l,!0,{sourceMap:!1,shadowMode:!1})},7868:function(e,t,a){var l=a(46652);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6c444ac2",l,!0,{sourceMap:!1,shadowMode:!1})},69937:function(e,t,a){var l=a(58737);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("19e7bc70",l,!0,{sourceMap:!1,shadowMode:!1})},90311:function(e,t,a){var l=a(27463);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("31c52e09",l,!0,{sourceMap:!1,shadowMode:!1})},46530:function(e,t,a){var l=a(91810);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("278eee97",l,!0,{sourceMap:!1,shadowMode:!1})},59293:function(e,t,a){var l=a(64797);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("39ef6474",l,!0,{sourceMap:!1,shadowMode:!1})},95488:function(e,t,a){var l=a(2240);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("fb9186b0",l,!0,{sourceMap:!1,shadowMode:!1})},82463:function(e,t,a){var l=a(58431);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("712fbba4",l,!0,{sourceMap:!1,shadowMode:!1})},45096:function(e,t,a){var l=a(86824);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6953f1ca",l,!0,{sourceMap:!1,shadowMode:!1})},77397:function(e,t,a){var l=a(17429);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("544afea8",l,!0,{sourceMap:!1,shadowMode:!1})},34984:function(e,t,a){var l=a(62248);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("9a157f76",l,!0,{sourceMap:!1,shadowMode:!1})},50325:function(e,t,a){var l=a(82773);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("eea0ea52",l,!0,{sourceMap:!1,shadowMode:!1})},74347:function(e,t,a){var l=a(7371);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2bdc1d61",l,!0,{sourceMap:!1,shadowMode:!1})},92427:function(e,t,a){var l=a(95083);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("3f5ef292",l,!0,{sourceMap:!1,shadowMode:!1})},97187:function(e,t,a){var l=a(31651);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("798cef14",l,!0,{sourceMap:!1,shadowMode:!1})},79372:function(e,t,a){var l=a(95308);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("52c89bfc",l,!0,{sourceMap:!1,shadowMode:!1})},21030:function(e,t,a){var l=a(99334);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("21824756",l,!0,{sourceMap:!1,shadowMode:!1})},19949:function(e,t,a){var l=a(57165);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("52afd3fe",l,!0,{sourceMap:!1,shadowMode:!1})},32103:function(e,t,a){var l=a(39879);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("479582a9",l,!0,{sourceMap:!1,shadowMode:!1})},71318:function(e,t,a){var l=a(1814);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("097b633b",l,!0,{sourceMap:!1,shadowMode:!1})},85349:function(e,t,a){var l=a(36037);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("614d017d",l,!0,{sourceMap:!1,shadowMode:!1})},21002:function(e,t,a){var l=a(13156);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("1e8e39a1",l,!0,{sourceMap:!1,shadowMode:!1})},17476:function(e,t,a){var l=a(16036);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("042c1889",l,!0,{sourceMap:!1,shadowMode:!1})},54820:function(e,t,a){var l=a(14820);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("3032a97a",l,!0,{sourceMap:!1,shadowMode:!1})},87293:function(e,t,a){var l=a(27421);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("15c99b10",l,!0,{sourceMap:!1,shadowMode:!1})},48279:function(e,t,a){var l=a(86007);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("94405d86",l,!0,{sourceMap:!1,shadowMode:!1})},73500:function(e,t,a){var l=a(88828);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("3d0aa12e",l,!0,{sourceMap:!1,shadowMode:!1})},42338:function(e,t,a){var l=a(92386);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6d0b3f52",l,!0,{sourceMap:!1,shadowMode:!1})},8355:function(e,t,a){var l=a(34371);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0c774f4d",l,!0,{sourceMap:!1,shadowMode:!1})},81003:function(e,t,a){var l=a(1784);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("d2e05f7a",l,!0,{sourceMap:!1,shadowMode:!1})},47065:function(e,t,a){var l=a(96441);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("5b22ff29",l,!0,{sourceMap:!1,shadowMode:!1})},37642:function(e,t,a){var l=a(47338);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("1183d7ed",l,!0,{sourceMap:!1,shadowMode:!1})},20998:function(e,t,a){var l=a(63974);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("49a6558e",l,!0,{sourceMap:!1,shadowMode:!1})},95141:function(e,t,a){var l=a(69733);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("a8cf10b2",l,!0,{sourceMap:!1,shadowMode:!1})},63804:function(e,t,a){var l=a(61084);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("5703e7e9",l,!0,{sourceMap:!1,shadowMode:!1})},63514:function(e,t,a){var l=a(74426);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("4142fb13",l,!0,{sourceMap:!1,shadowMode:!1})},46855:function(e,t,a){var l=a(48871);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("109bb979",l,!0,{sourceMap:!1,shadowMode:!1})},30058:function(e,t,a){var l=a(40170);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6aae200e",l,!0,{sourceMap:!1,shadowMode:!1})},35638:function(e,t,a){var l=a(79638);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2f5eea7b",l,!0,{sourceMap:!1,shadowMode:!1})},89878:function(e,t,a){var l=a(54486);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6fd01917",l,!0,{sourceMap:!1,shadowMode:!1})},40521:function(e,t,a){var l=a(42217);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("514d6bf1",l,!0,{sourceMap:!1,shadowMode:!1})},22386:function(e,t,a){var l=a(2386);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("c283a41c",l,!0,{sourceMap:!1,shadowMode:!1})},12065:function(e,t,a){var l=a(31489);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("00838d20",l,!0,{sourceMap:!1,shadowMode:!1})},49994:function(e,t,a){var l=a(17642);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("c06abd4e",l,!0,{sourceMap:!1,shadowMode:!1})},28431:function(e,t,a){var l={"./__tests__/loki.test":28407,"./__tests__/loki.test.ts":28407,"./awsElasticsearch":30477,"./awsElasticsearch.vue":30477,"./azurestorage":64208,"./azurestorage.vue":64208,"./cloudwatch":52119,"./cloudwatch.vue":52119,"./datadog":45526,"./datadog.vue":45526,"./elasticsearch":16032,"./elasticsearch.vue":16032,"./file":74387,"./file.vue":74387,"./forward":86741,"./forward.vue":86741,"./gcs":85783,"./gcs.vue":85783,"./gelf":17185,"./gelf.vue":17185,"./kafka":62431,"./kafka.vue":62431,"./kinesisStream":1426,"./kinesisStream.vue":1426,"./logdna":14375,"./logdna.vue":14375,"./logz":17073,"./logz.vue":17073,"./loki":62394,"./loki.vue":62394,"./newrelic":20254,"./newrelic.vue":20254,"./opensearch":12769,"./opensearch.vue":12769,"./redis":39967,"./redis.vue":39967,"./s3":14891,"./s3.vue":14891,"./splunkHec":59379,"./splunkHec.vue":59379,"./sumologic":20697,"./sumologic.vue":20697,"./syslog":52604,"./syslog.vue":52604,"./utils":78263,"./utils.js":78263};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=28431},48254:function(e,t,a){var l={"./":79023,"./basic":87357,"./basic.vue":87357,"./generic":2320,"./generic.vue":2320,"./index":79023,"./index.vue":79023,"./registry":7093,"./registry.vue":7093,"./ssh":59287,"./ssh.vue":59287,"./tls":89228,"./tls.vue":89228};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=48254},88292:function(e,t,a){var l={"./additional-ca.vue":36955,"./additional-guest-memory-overhead-ratio.vue":53867,"./auto-rotate-rke2-certs.vue":76395,"./backup-target.vue":41084,"./containerd-registry.vue":51032,"./csi-driver-config.vue":73261,"./default-vm-termination-grace-period-seconds.vue":45168,"./http-proxy.vue":83239,"./ntp-servers.vue":35459,"./overcommit-config.vue":30108,"./ssl-certificates.vue":54122,"./ssl-parameters.vue":13515,"./storage-network.vue":85289,"./support-bundle-image.vue":91222,"./support-bundle-namespaces.vue":30859,"./vm-force-reset-policy.vue":10384};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=88292},26190:function(e,t,a){var l={"./additional-ca.vue":36955,"./additional-guest-memory-overhead-ratio.vue":53867,"./auto-rotate-rke2-certs.vue":76395,"./backup-target.vue":41084,"./containerd-registry.vue":51032,"./csi-driver-config.vue":73261,"./default-vm-termination-grace-period-seconds.vue":45168,"./http-proxy.vue":83239,"./ntp-servers.vue":35459,"./overcommit-config.vue":30108,"./ssl-certificates.vue":54122,"./ssl-parameters.vue":13515,"./storage-network.vue":85289,"./support-bundle-image.vue":91222,"./support-bundle-namespaces.vue":30859,"./vm-force-reset-policy.vue":10384};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=26190},2467:function(e,t,a){var l={"./generic.vue":26370,"./harvester-seeder.vue":17438,"./index.vue":88049,"./nvidia-driver-toolkit.vue":54512,"./pcidevices-controller.vue":55821,"./rancher-logging.vue":52059,"./rancher-monitoring.vue":80908,"./rancher-vcluster.vue":15580,"./vm-import-controller.vue":92764};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=2467},6232:function(e,t,a){var l={"./custom":43868,"./custom.vue":43868,"./driver.longhorn.io":34047,"./driver.longhorn.io.vue":34047};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=6232},80373:function(e,t,a){var l={"./harvesterhci.io.addon/generic.vue":26370,"./harvesterhci.io.addon/harvester-seeder.vue":17438,"./harvesterhci.io.addon/index.vue":88049,"./harvesterhci.io.addon/nvidia-driver-toolkit.vue":54512,"./harvesterhci.io.addon/pcidevices-controller.vue":55821,"./harvesterhci.io.addon/rancher-logging.vue":52059,"./harvesterhci.io.addon/rancher-monitoring.vue":80908,"./harvesterhci.io.addon/rancher-vcluster.vue":15580,"./harvesterhci.io.addon/vm-import-controller.vue":92764,"./harvesterhci.io.host/HarvesterDisk.vue":4439,"./harvesterhci.io.host/HarvesterKsmtuned.vue":57701,"./harvesterhci.io.host/HarvesterSeeder.vue":87207,"./harvesterhci.io.host/index.vue":45855,"./harvesterhci.io.monitoring.alertmanagerconfig/index.vue":421,"./harvesterhci.io.storage/index.vue":70990,"./harvesterhci.io.storage/provisioners/custom.vue":43868,"./harvesterhci.io.storage/provisioners/driver.longhorn.io.vue":34047,"./kubevirt.io.virtualmachine/CompatibilityMatrix.vue":67649,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue":82754,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue":47137,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue":62552,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue":23459,"./kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue":97653,"./kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue":46902,"./kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue":75907,"./kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue":91831,"./kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue":54654,"./kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue":76268,"./kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue":63720,"./kubevirt.io.virtualmachine/VirtualMachineReserved.vue":13013,"./kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue":9629,"./kubevirt.io.virtualmachine/VirtualMachineUSBDevices/DeviceList.vue":54815,"./kubevirt.io.virtualmachine/VirtualMachineUSBDevices/index.vue":79261,"./kubevirt.io.virtualmachine/VirtualMachineVGpuDevices/VGpuDeviceList.vue":33212,"./kubevirt.io.virtualmachine/VirtualMachineVGpuDevices/index.vue":51813,"./kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue":13329,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue":68353,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue":91208,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue":43085,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue":64943,"./kubevirt.io.virtualmachine/index.vue":65916,"./loadbalancer.harvesterhci.io.ippool/Priority.vue":2716,"./loadbalancer.harvesterhci.io.ippool/PriorityRow.vue":17183,"./loadbalancer.harvesterhci.io.ippool/Range.vue":39727,"./loadbalancer.harvesterhci.io.ippool/Selector.vue":90249,"./loadbalancer.harvesterhci.io.ippool/index.vue":43434,"./loadbalancer.harvesterhci.io.loadbalancer/HealthCheck.vue":35187,"./loadbalancer.harvesterhci.io.loadbalancer/Listeners.vue":65817,"./loadbalancer.harvesterhci.io.loadbalancer/index.vue":84889,"./network.harvesterhci.io.clusternetwork/index.vue":22814,"./network.harvesterhci.io.vlanconfig/NodeSelector.vue":61443,"./network.harvesterhci.io.vlanconfig/index.vue":6911};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=80373}}]);
//# sourceMappingURL=harvester-0.1.0.umd.min.edit.js.map